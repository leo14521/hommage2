{"version":3,"sources":["../../../../node_modules/next/src/server/route-kind.ts","../../../../node_modules/next/src/shared/lib/invariant-error.ts","../../../../node_modules/next/src/lib/picocolors.ts","../../../../node_modules/next/src/server/lib/lru-cache.ts","../../../../node_modules/next/src/build/output/log.ts","../../../../node_modules/next/src/shared/lib/segment.ts","../../../../node_modules/next/dist/compiled/%40opentelemetry/api/index.js","../../../../node_modules/next/dist/esm/server/lib/trace/constants.js","../../../../node_modules/next/dist/esm/server/lib/trace/tracer.js","../../../../node_modules/next/dist/esm/shared/lib/is-thenable.js","../../../../node_modules/next/src/server/stream-utils/node-web-streams-helper.ts","../../../../node_modules/next/src/lib/scheduler.ts","../../../../node_modules/next/src/server/request-meta.ts","../../../../node_modules/next/dist/esm/shared/lib/i18n/detect-domain-locale.js","../../../../node_modules/next/dist/esm/shared/lib/router/utils/remove-trailing-slash.js","../../../../node_modules/next/dist/esm/server/web/utils.js","../../../../node_modules/next/src/shared/lib/router/utils/parse-path.ts","../../../../node_modules/next/dist/esm/shared/lib/router/utils/add-path-prefix.js","../../../../node_modules/next/dist/esm/shared/lib/router/utils/add-path-suffix.js","../../../../node_modules/next/src/shared/lib/router/utils/path-has-prefix.ts","../../../../node_modules/next/dist/compiled/%40edge-runtime/cookies/index.js","../../../../node_modules/next/dist/esm/server/web/spec-extension/adapters/next-request.js","../../../../node_modules/next/dist/esm/shared/lib/i18n/normalize-locale-path.js","../../../../node_modules/next/dist/esm/shared/lib/router/utils/format-next-pathname-info.js","../../../../node_modules/next/dist/esm/server/web/next-url.js","../../../../node_modules/next/dist/esm/server/web/spec-extension/cookies.js","../../../../node_modules/next/dist/esm/server/web/error.js","../../../../node_modules/next/dist/esm/shared/lib/router/utils/add-locale.js","../../../../node_modules/next/dist/esm/shared/lib/router/utils/get-next-pathname-info.js","../../../../node_modules/next/dist/esm/server/web/spec-extension/request.js","../../../../node_modules/next/dist/esm/shared/lib/get-hostname.js","../../../../node_modules/next/dist/esm/shared/lib/router/utils/remove-path-prefix.js","../../../../node_modules/next/dist/esm/server/base-http/helpers.js","../../../../node_modules/next/src/lib/detached-promise.ts","../../../../node_modules/next/dist/esm/server/client-component-renderer-logger.js","../../../../node_modules/next/dist/esm/server/pipe-readable.js","../../../../node_modules/next/src/client/components/redirect-status-code.ts","../../../../node_modules/next/src/lib/constants.ts","../../../../node_modules/next/src/lib/batcher.ts","../../../../node_modules/next/src/server/response-cache/types.ts","../../../../node_modules/next/src/server/render-result.ts","../../../../node_modules/next/dist/esm/server/response-cache/utils.js","../../../../node_modules/next/dist/esm/server/response-cache/index.js"],"sourcesContent":["export const enum RouteKind {\n  /**\n   * `PAGES` represents all the React pages that are under `pages/`.\n   */\n  PAGES = 'PAGES',\n  /**\n   * `PAGES_API` represents all the API routes under `pages/api/`.\n   */\n  PAGES_API = 'PAGES_API',\n  /**\n   * `APP_PAGE` represents all the React pages that are under `app/` with the\n   * filename of `page.{j,t}s{,x}`.\n   */\n  APP_PAGE = 'APP_PAGE',\n  /**\n   * `APP_ROUTE` represents all the API routes and metadata routes that are under `app/` with the\n   * filename of `route.{j,t}s{,x}`.\n   */\n  APP_ROUTE = 'APP_ROUTE',\n\n  /**\n   * `IMAGE` represents all the images that are generated by `next/image`.\n   */\n  IMAGE = 'IMAGE',\n}\n","export class InvariantError extends Error {\n  constructor(message: string, options?: ErrorOptions) {\n    super(\n      `Invariant: ${message.endsWith('.') ? message : message + '.'} This is a bug in Next.js.`,\n      options\n    )\n    this.name = 'InvariantError'\n  }\n}\n","// ISC License\n\n// Copyright (c) 2021 Alexey Raspopov, Kostiantyn Denysov, Anton Verinov\n\n// Permission to use, copy, modify, and/or distribute this software for any\n// purpose with or without fee is hereby granted, provided that the above\n// copyright notice and this permission notice appear in all copies.\n\n// THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES\n// WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF\n// MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR\n// ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES\n// WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN\n// ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF\n// OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.\n//\n// https://github.com/alexeyraspopov/picocolors/blob/b6261487e7b81aaab2440e397a356732cad9e342/picocolors.js#L1\n\nconst { env, stdout } = globalThis?.process ?? {}\n\nconst enabled =\n  env &&\n  !env.NO_COLOR &&\n  (env.FORCE_COLOR || (stdout?.isTTY && !env.CI && env.TERM !== 'dumb'))\n\nconst replaceClose = (\n  str: string,\n  close: string,\n  replace: string,\n  index: number\n): string => {\n  const start = str.substring(0, index) + replace\n  const end = str.substring(index + close.length)\n  const nextIndex = end.indexOf(close)\n  return ~nextIndex\n    ? start + replaceClose(end, close, replace, nextIndex)\n    : start + end\n}\n\nconst formatter = (open: string, close: string, replace = open) => {\n  if (!enabled) return String\n  return (input: string) => {\n    const string = '' + input\n    const index = string.indexOf(close, open.length)\n    return ~index\n      ? open + replaceClose(string, close, replace, index) + close\n      : open + string + close\n  }\n}\n\nexport const reset = enabled ? (s: string) => `\\x1b[0m${s}\\x1b[0m` : String\nexport const bold = formatter('\\x1b[1m', '\\x1b[22m', '\\x1b[22m\\x1b[1m')\nexport const dim = formatter('\\x1b[2m', '\\x1b[22m', '\\x1b[22m\\x1b[2m')\nexport const italic = formatter('\\x1b[3m', '\\x1b[23m')\nexport const underline = formatter('\\x1b[4m', '\\x1b[24m')\nexport const inverse = formatter('\\x1b[7m', '\\x1b[27m')\nexport const hidden = formatter('\\x1b[8m', '\\x1b[28m')\nexport const strikethrough = formatter('\\x1b[9m', '\\x1b[29m')\nexport const black = formatter('\\x1b[30m', '\\x1b[39m')\nexport const red = formatter('\\x1b[31m', '\\x1b[39m')\nexport const green = formatter('\\x1b[32m', '\\x1b[39m')\nexport const yellow = formatter('\\x1b[33m', '\\x1b[39m')\nexport const blue = formatter('\\x1b[34m', '\\x1b[39m')\nexport const magenta = formatter('\\x1b[35m', '\\x1b[39m')\nexport const purple = formatter('\\x1b[38;2;173;127;168m', '\\x1b[39m')\nexport const cyan = formatter('\\x1b[36m', '\\x1b[39m')\nexport const white = formatter('\\x1b[37m', '\\x1b[39m')\nexport const gray = formatter('\\x1b[90m', '\\x1b[39m')\nexport const bgBlack = formatter('\\x1b[40m', '\\x1b[49m')\nexport const bgRed = formatter('\\x1b[41m', '\\x1b[49m')\nexport const bgGreen = formatter('\\x1b[42m', '\\x1b[49m')\nexport const bgYellow = formatter('\\x1b[43m', '\\x1b[49m')\nexport const bgBlue = formatter('\\x1b[44m', '\\x1b[49m')\nexport const bgMagenta = formatter('\\x1b[45m', '\\x1b[49m')\nexport const bgCyan = formatter('\\x1b[46m', '\\x1b[49m')\nexport const bgWhite = formatter('\\x1b[47m', '\\x1b[49m')\n","/**\n * Node in the doubly-linked list used for LRU tracking.\n * Each node represents a cache entry with bidirectional pointers.\n */\nclass LRUNode<T> {\n  public readonly key: string\n  public data: T\n  public size: number\n  public prev: LRUNode<T> | SentinelNode<T> | null = null\n  public next: LRUNode<T> | SentinelNode<T> | null = null\n\n  constructor(key: string, data: T, size: number) {\n    this.key = key\n    this.data = data\n    this.size = size\n  }\n}\n\n/**\n * Sentinel node used for head/tail boundaries.\n * These nodes don't contain actual cache data but simplify list operations.\n */\nclass SentinelNode<T> {\n  public prev: LRUNode<T> | SentinelNode<T> | null = null\n  public next: LRUNode<T> | SentinelNode<T> | null = null\n}\n\n/**\n * LRU (Least Recently Used) Cache implementation using a doubly-linked list\n * and hash map for O(1) operations.\n *\n * Algorithm:\n * - Uses a doubly-linked list to maintain access order (most recent at head)\n * - Hash map provides O(1) key-to-node lookup\n * - Sentinel head/tail nodes simplify edge case handling\n * - Size-based eviction supports custom size calculation functions\n *\n * Data Structure Layout:\n * HEAD <-> [most recent] <-> ... <-> [least recent] <-> TAIL\n *\n * Operations:\n * - get(): Move accessed node to head (mark as most recent)\n * - set(): Add new node at head, evict from tail if over capacity\n * - Eviction: Remove least recent node (tail.prev) when size exceeds limit\n */\nexport class LRUCache<T> {\n  private readonly cache: Map<string, LRUNode<T>> = new Map()\n  private readonly head: SentinelNode<T>\n  private readonly tail: SentinelNode<T>\n  private totalSize: number = 0\n  private readonly maxSize: number\n  private readonly calculateSize: ((value: T) => number) | undefined\n  private readonly onEvict: ((key: string, value: T) => void) | undefined\n\n  constructor(\n    maxSize: number,\n    calculateSize?: (value: T) => number,\n    onEvict?: (key: string, value: T) => void\n  ) {\n    this.maxSize = maxSize\n    this.calculateSize = calculateSize\n    this.onEvict = onEvict\n\n    // Create sentinel nodes to simplify doubly-linked list operations\n    // HEAD <-> TAIL (empty list)\n    this.head = new SentinelNode<T>()\n    this.tail = new SentinelNode<T>()\n    this.head.next = this.tail\n    this.tail.prev = this.head\n  }\n\n  /**\n   * Adds a node immediately after the head (marks as most recently used).\n   * Used when inserting new items or when an item is accessed.\n   * PRECONDITION: node must be disconnected (prev/next should be null)\n   */\n  private addToHead(node: LRUNode<T>): void {\n    node.prev = this.head\n    node.next = this.head.next\n    // head.next is always non-null (points to tail or another node)\n    this.head.next!.prev = node\n    this.head.next = node\n  }\n\n  /**\n   * Removes a node from its current position in the doubly-linked list.\n   * Updates the prev/next pointers of adjacent nodes to maintain list integrity.\n   * PRECONDITION: node must be connected (prev/next are non-null)\n   */\n  private removeNode(node: LRUNode<T>): void {\n    // Connected nodes always have non-null prev/next\n    node.prev!.next = node.next\n    node.next!.prev = node.prev\n  }\n\n  /**\n   * Moves an existing node to the head position (marks as most recently used).\n   * This is the core LRU operation - accessed items become most recent.\n   */\n  private moveToHead(node: LRUNode<T>): void {\n    this.removeNode(node)\n    this.addToHead(node)\n  }\n\n  /**\n   * Removes and returns the least recently used node (the one before tail).\n   * This is called during eviction when the cache exceeds capacity.\n   * PRECONDITION: cache is not empty (ensured by caller)\n   */\n  private removeTail(): LRUNode<T> {\n    const lastNode = this.tail.prev as LRUNode<T>\n    // tail.prev is always non-null and always LRUNode when cache is not empty\n    this.removeNode(lastNode)\n    return lastNode\n  }\n\n  /**\n   * Sets a key-value pair in the cache.\n   * If the key exists, updates the value and moves to head.\n   * If new, adds at head and evicts from tail if necessary.\n   *\n   * Time Complexity:\n   * - O(1) for uniform item sizes\n   * - O(k) where k is the number of items evicted (can be O(N) for variable sizes)\n   */\n  public set(key: string, value: T): void {\n    const size = this.calculateSize?.(value) ?? 1\n    if (size <= 0) {\n      throw new Error(\n        `LRUCache: calculateSize returned ${size}, but size must be > 0. ` +\n          `Items with size 0 would never be evicted, causing unbounded cache growth.`\n      )\n    }\n    if (size > this.maxSize) {\n      console.warn('Single item size exceeds maxSize')\n      return\n    }\n\n    const existing = this.cache.get(key)\n    if (existing) {\n      // Update existing node: adjust size and move to head (most recent)\n      existing.data = value\n      this.totalSize = this.totalSize - existing.size + size\n      existing.size = size\n      this.moveToHead(existing)\n    } else {\n      // Add new node at head (most recent position)\n      const newNode = new LRUNode(key, value, size)\n      this.cache.set(key, newNode)\n      this.addToHead(newNode)\n      this.totalSize += size\n    }\n\n    // Evict least recently used items until under capacity\n    while (this.totalSize > this.maxSize && this.cache.size > 0) {\n      const tail = this.removeTail()\n      this.cache.delete(tail.key)\n      this.totalSize -= tail.size\n      this.onEvict?.(tail.key, tail.data)\n    }\n  }\n\n  /**\n   * Checks if a key exists in the cache.\n   * This is a pure query operation - does NOT update LRU order.\n   *\n   * Time Complexity: O(1)\n   */\n  public has(key: string): boolean {\n    return this.cache.has(key)\n  }\n\n  /**\n   * Retrieves a value by key and marks it as most recently used.\n   * Moving to head maintains the LRU property for future evictions.\n   *\n   * Time Complexity: O(1)\n   */\n  public get(key: string): T | undefined {\n    const node = this.cache.get(key)\n    if (!node) return undefined\n\n    // Mark as most recently used by moving to head\n    this.moveToHead(node)\n\n    return node.data\n  }\n\n  /**\n   * Returns an iterator over the cache entries. The order is outputted in the\n   * order of most recently used to least recently used.\n   */\n  public *[Symbol.iterator](): IterableIterator<[string, T]> {\n    let current = this.head.next\n    while (current && current !== this.tail) {\n      // Between head and tail, current is always LRUNode\n      const node = current as LRUNode<T>\n      yield [node.key, node.data]\n      current = current.next\n    }\n  }\n\n  /**\n   * Removes a specific key from the cache.\n   * Updates both the hash map and doubly-linked list.\n   *\n   * Note: This is an explicit removal and does NOT trigger the `onEvict`\n   * callback. Use this for intentional deletions where eviction tracking\n   * is not needed.\n   *\n   * Time Complexity: O(1)\n   */\n  public remove(key: string): void {\n    const node = this.cache.get(key)\n    if (!node) return\n\n    this.removeNode(node)\n    this.cache.delete(key)\n    this.totalSize -= node.size\n  }\n\n  /**\n   * Returns the number of items in the cache.\n   */\n  public get size(): number {\n    return this.cache.size\n  }\n\n  /**\n   * Returns the current total size of all cached items.\n   * This uses the custom size calculation if provided.\n   */\n  public get currentSize(): number {\n    return this.totalSize\n  }\n}\n","import { bold, green, magenta, red, yellow, white } from '../../lib/picocolors'\nimport { LRUCache } from '../../server/lib/lru-cache'\n\nexport const prefixes = {\n  wait: white(bold('○')),\n  error: red(bold('⨯')),\n  warn: yellow(bold('⚠')),\n  ready: '▲', // no color\n  info: white(bold(' ')),\n  event: green(bold('✓')),\n  trace: magenta(bold('»')),\n} as const\n\nconst LOGGING_METHOD = {\n  log: 'log',\n  warn: 'warn',\n  error: 'error',\n} as const\n\nfunction prefixedLog(prefixType: keyof typeof prefixes, ...message: any[]) {\n  if ((message[0] === '' || message[0] === undefined) && message.length === 1) {\n    message.shift()\n  }\n\n  const consoleMethod: keyof typeof LOGGING_METHOD =\n    prefixType in LOGGING_METHOD\n      ? LOGGING_METHOD[prefixType as keyof typeof LOGGING_METHOD]\n      : 'log'\n\n  const prefix = prefixes[prefixType]\n  // If there's no message, don't print the prefix but a new line\n  if (message.length === 0) {\n    console[consoleMethod]('')\n  } else {\n    // Ensure if there's ANSI escape codes it's concatenated into one string.\n    // Chrome DevTool can only handle color if it's in one string.\n    if (message.length === 1 && typeof message[0] === 'string') {\n      console[consoleMethod](prefix + ' ' + message[0])\n    } else {\n      console[consoleMethod](prefix, ...message)\n    }\n  }\n}\n\nexport function bootstrap(message: string) {\n  console.log(message)\n}\n\nexport function wait(...message: any[]) {\n  prefixedLog('wait', ...message)\n}\n\nexport function error(...message: any[]) {\n  prefixedLog('error', ...message)\n}\n\nexport function warn(...message: any[]) {\n  prefixedLog('warn', ...message)\n}\n\nexport function ready(...message: any[]) {\n  prefixedLog('ready', ...message)\n}\n\nexport function info(...message: any[]) {\n  prefixedLog('info', ...message)\n}\n\nexport function event(...message: any[]) {\n  prefixedLog('event', ...message)\n}\n\nexport function trace(...message: any[]) {\n  prefixedLog('trace', ...message)\n}\n\nconst warnOnceCache = new LRUCache<string>(10_000, (value) => value.length)\nexport function warnOnce(...message: any[]) {\n  const key = message.join(' ')\n  if (!warnOnceCache.has(key)) {\n    warnOnceCache.set(key, key)\n    warn(...message)\n  }\n}\n\nconst errorOnceCache = new LRUCache<string>(10_000, (value) => value.length)\nexport function errorOnce(...message: any[]) {\n  const key = message.join(' ')\n  if (!errorOnceCache.has(key)) {\n    errorOnceCache.set(key, key)\n    error(...message)\n  }\n}\n","import type { FlightRouterState, Segment } from './app-router-types'\n\nexport function getSegmentValue(segment: Segment) {\n  return Array.isArray(segment) ? segment[1] : segment\n}\n\nexport function isGroupSegment(segment: string) {\n  // Use array[0] for performant purpose\n  return segment[0] === '(' && segment.endsWith(')')\n}\n\nexport function isParallelRouteSegment(segment: string) {\n  return segment.startsWith('@') && segment !== '@children'\n}\n\nexport function addSearchParamsIfPageSegment(\n  segment: Segment,\n  searchParams: Record<string, string | string[] | undefined>\n) {\n  const isPageSegment = segment.includes(PAGE_SEGMENT_KEY)\n\n  if (isPageSegment) {\n    const stringifiedQuery = JSON.stringify(searchParams)\n    return stringifiedQuery !== '{}'\n      ? PAGE_SEGMENT_KEY + '?' + stringifiedQuery\n      : PAGE_SEGMENT_KEY\n  }\n\n  return segment\n}\n\nexport function computeSelectedLayoutSegment(\n  segments: string[] | null,\n  parallelRouteKey: string\n): string | null {\n  if (!segments || segments.length === 0) {\n    return null\n  }\n\n  // For 'children', use first segment; for other parallel routes, use last segment\n  const rawSegment =\n    parallelRouteKey === 'children'\n      ? segments[0]\n      : segments[segments.length - 1]\n\n  // If the default slot is showing, return null since it's not technically \"selected\" (it's a fallback)\n  // Returning an internal value like `__DEFAULT__` would be confusing\n  return rawSegment === DEFAULT_SEGMENT_KEY ? null : rawSegment\n}\n\n/** Get the canonical parameters from the current level to the leaf node. */\nexport function getSelectedLayoutSegmentPath(\n  tree: FlightRouterState,\n  parallelRouteKey: string,\n  first = true,\n  segmentPath: string[] = []\n): string[] {\n  let node: FlightRouterState\n  if (first) {\n    // Use the provided parallel route key on the first parallel route\n    node = tree[1][parallelRouteKey]\n  } else {\n    // After first parallel route prefer children, if there's no children pick the first parallel route.\n    const parallelRoutes = tree[1]\n    node = parallelRoutes.children ?? Object.values(parallelRoutes)[0]\n  }\n\n  if (!node) return segmentPath\n  const segment = node[0]\n\n  let segmentValue = getSegmentValue(segment)\n\n  if (!segmentValue || segmentValue.startsWith(PAGE_SEGMENT_KEY)) {\n    return segmentPath\n  }\n\n  segmentPath.push(segmentValue)\n\n  return getSelectedLayoutSegmentPath(\n    node,\n    parallelRouteKey,\n    false,\n    segmentPath\n  )\n}\n\nexport const PAGE_SEGMENT_KEY = '__PAGE__'\nexport const DEFAULT_SEGMENT_KEY = '__DEFAULT__'\nexport const NOT_FOUND_SEGMENT_KEY = '/_not-found'\n","(()=>{\"use strict\";var e={491:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.ContextAPI=void 0;const n=r(223);const a=r(172);const o=r(930);const i=\"context\";const c=new n.NoopContextManager;class ContextAPI{constructor(){}static getInstance(){if(!this._instance){this._instance=new ContextAPI}return this._instance}setGlobalContextManager(e){return(0,a.registerGlobal)(i,e,o.DiagAPI.instance())}active(){return this._getContextManager().active()}with(e,t,r,...n){return this._getContextManager().with(e,t,r,...n)}bind(e,t){return this._getContextManager().bind(e,t)}_getContextManager(){return(0,a.getGlobal)(i)||c}disable(){this._getContextManager().disable();(0,a.unregisterGlobal)(i,o.DiagAPI.instance())}}t.ContextAPI=ContextAPI},930:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.DiagAPI=void 0;const n=r(56);const a=r(912);const o=r(957);const i=r(172);const c=\"diag\";class DiagAPI{constructor(){function _logProxy(e){return function(...t){const r=(0,i.getGlobal)(\"diag\");if(!r)return;return r[e](...t)}}const e=this;const setLogger=(t,r={logLevel:o.DiagLogLevel.INFO})=>{var n,c,s;if(t===e){const t=new Error(\"Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation\");e.error((n=t.stack)!==null&&n!==void 0?n:t.message);return false}if(typeof r===\"number\"){r={logLevel:r}}const u=(0,i.getGlobal)(\"diag\");const l=(0,a.createLogLevelDiagLogger)((c=r.logLevel)!==null&&c!==void 0?c:o.DiagLogLevel.INFO,t);if(u&&!r.suppressOverrideMessage){const e=(s=(new Error).stack)!==null&&s!==void 0?s:\"<failed to generate stacktrace>\";u.warn(`Current logger will be overwritten from ${e}`);l.warn(`Current logger will overwrite one already registered from ${e}`)}return(0,i.registerGlobal)(\"diag\",l,e,true)};e.setLogger=setLogger;e.disable=()=>{(0,i.unregisterGlobal)(c,e)};e.createComponentLogger=e=>new n.DiagComponentLogger(e);e.verbose=_logProxy(\"verbose\");e.debug=_logProxy(\"debug\");e.info=_logProxy(\"info\");e.warn=_logProxy(\"warn\");e.error=_logProxy(\"error\")}static instance(){if(!this._instance){this._instance=new DiagAPI}return this._instance}}t.DiagAPI=DiagAPI},653:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.MetricsAPI=void 0;const n=r(660);const a=r(172);const o=r(930);const i=\"metrics\";class MetricsAPI{constructor(){}static getInstance(){if(!this._instance){this._instance=new MetricsAPI}return this._instance}setGlobalMeterProvider(e){return(0,a.registerGlobal)(i,e,o.DiagAPI.instance())}getMeterProvider(){return(0,a.getGlobal)(i)||n.NOOP_METER_PROVIDER}getMeter(e,t,r){return this.getMeterProvider().getMeter(e,t,r)}disable(){(0,a.unregisterGlobal)(i,o.DiagAPI.instance())}}t.MetricsAPI=MetricsAPI},181:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.PropagationAPI=void 0;const n=r(172);const a=r(874);const o=r(194);const i=r(277);const c=r(369);const s=r(930);const u=\"propagation\";const l=new a.NoopTextMapPropagator;class PropagationAPI{constructor(){this.createBaggage=c.createBaggage;this.getBaggage=i.getBaggage;this.getActiveBaggage=i.getActiveBaggage;this.setBaggage=i.setBaggage;this.deleteBaggage=i.deleteBaggage}static getInstance(){if(!this._instance){this._instance=new PropagationAPI}return this._instance}setGlobalPropagator(e){return(0,n.registerGlobal)(u,e,s.DiagAPI.instance())}inject(e,t,r=o.defaultTextMapSetter){return this._getGlobalPropagator().inject(e,t,r)}extract(e,t,r=o.defaultTextMapGetter){return this._getGlobalPropagator().extract(e,t,r)}fields(){return this._getGlobalPropagator().fields()}disable(){(0,n.unregisterGlobal)(u,s.DiagAPI.instance())}_getGlobalPropagator(){return(0,n.getGlobal)(u)||l}}t.PropagationAPI=PropagationAPI},997:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.TraceAPI=void 0;const n=r(172);const a=r(846);const o=r(139);const i=r(607);const c=r(930);const s=\"trace\";class TraceAPI{constructor(){this._proxyTracerProvider=new a.ProxyTracerProvider;this.wrapSpanContext=o.wrapSpanContext;this.isSpanContextValid=o.isSpanContextValid;this.deleteSpan=i.deleteSpan;this.getSpan=i.getSpan;this.getActiveSpan=i.getActiveSpan;this.getSpanContext=i.getSpanContext;this.setSpan=i.setSpan;this.setSpanContext=i.setSpanContext}static getInstance(){if(!this._instance){this._instance=new TraceAPI}return this._instance}setGlobalTracerProvider(e){const t=(0,n.registerGlobal)(s,this._proxyTracerProvider,c.DiagAPI.instance());if(t){this._proxyTracerProvider.setDelegate(e)}return t}getTracerProvider(){return(0,n.getGlobal)(s)||this._proxyTracerProvider}getTracer(e,t){return this.getTracerProvider().getTracer(e,t)}disable(){(0,n.unregisterGlobal)(s,c.DiagAPI.instance());this._proxyTracerProvider=new a.ProxyTracerProvider}}t.TraceAPI=TraceAPI},277:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.deleteBaggage=t.setBaggage=t.getActiveBaggage=t.getBaggage=void 0;const n=r(491);const a=r(780);const o=(0,a.createContextKey)(\"OpenTelemetry Baggage Key\");function getBaggage(e){return e.getValue(o)||undefined}t.getBaggage=getBaggage;function getActiveBaggage(){return getBaggage(n.ContextAPI.getInstance().active())}t.getActiveBaggage=getActiveBaggage;function setBaggage(e,t){return e.setValue(o,t)}t.setBaggage=setBaggage;function deleteBaggage(e){return e.deleteValue(o)}t.deleteBaggage=deleteBaggage},993:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.BaggageImpl=void 0;class BaggageImpl{constructor(e){this._entries=e?new Map(e):new Map}getEntry(e){const t=this._entries.get(e);if(!t){return undefined}return Object.assign({},t)}getAllEntries(){return Array.from(this._entries.entries()).map((([e,t])=>[e,t]))}setEntry(e,t){const r=new BaggageImpl(this._entries);r._entries.set(e,t);return r}removeEntry(e){const t=new BaggageImpl(this._entries);t._entries.delete(e);return t}removeEntries(...e){const t=new BaggageImpl(this._entries);for(const r of e){t._entries.delete(r)}return t}clear(){return new BaggageImpl}}t.BaggageImpl=BaggageImpl},830:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.baggageEntryMetadataSymbol=void 0;t.baggageEntryMetadataSymbol=Symbol(\"BaggageEntryMetadata\")},369:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.baggageEntryMetadataFromString=t.createBaggage=void 0;const n=r(930);const a=r(993);const o=r(830);const i=n.DiagAPI.instance();function createBaggage(e={}){return new a.BaggageImpl(new Map(Object.entries(e)))}t.createBaggage=createBaggage;function baggageEntryMetadataFromString(e){if(typeof e!==\"string\"){i.error(`Cannot create baggage metadata from unknown type: ${typeof e}`);e=\"\"}return{__TYPE__:o.baggageEntryMetadataSymbol,toString(){return e}}}t.baggageEntryMetadataFromString=baggageEntryMetadataFromString},67:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.context=void 0;const n=r(491);t.context=n.ContextAPI.getInstance()},223:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.NoopContextManager=void 0;const n=r(780);class NoopContextManager{active(){return n.ROOT_CONTEXT}with(e,t,r,...n){return t.call(r,...n)}bind(e,t){return t}enable(){return this}disable(){return this}}t.NoopContextManager=NoopContextManager},780:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.ROOT_CONTEXT=t.createContextKey=void 0;function createContextKey(e){return Symbol.for(e)}t.createContextKey=createContextKey;class BaseContext{constructor(e){const t=this;t._currentContext=e?new Map(e):new Map;t.getValue=e=>t._currentContext.get(e);t.setValue=(e,r)=>{const n=new BaseContext(t._currentContext);n._currentContext.set(e,r);return n};t.deleteValue=e=>{const r=new BaseContext(t._currentContext);r._currentContext.delete(e);return r}}}t.ROOT_CONTEXT=new BaseContext},506:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.diag=void 0;const n=r(930);t.diag=n.DiagAPI.instance()},56:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.DiagComponentLogger=void 0;const n=r(172);class DiagComponentLogger{constructor(e){this._namespace=e.namespace||\"DiagComponentLogger\"}debug(...e){return logProxy(\"debug\",this._namespace,e)}error(...e){return logProxy(\"error\",this._namespace,e)}info(...e){return logProxy(\"info\",this._namespace,e)}warn(...e){return logProxy(\"warn\",this._namespace,e)}verbose(...e){return logProxy(\"verbose\",this._namespace,e)}}t.DiagComponentLogger=DiagComponentLogger;function logProxy(e,t,r){const a=(0,n.getGlobal)(\"diag\");if(!a){return}r.unshift(t);return a[e](...r)}},972:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.DiagConsoleLogger=void 0;const r=[{n:\"error\",c:\"error\"},{n:\"warn\",c:\"warn\"},{n:\"info\",c:\"info\"},{n:\"debug\",c:\"debug\"},{n:\"verbose\",c:\"trace\"}];class DiagConsoleLogger{constructor(){function _consoleFunc(e){return function(...t){if(console){let r=console[e];if(typeof r!==\"function\"){r=console.log}if(typeof r===\"function\"){return r.apply(console,t)}}}}for(let e=0;e<r.length;e++){this[r[e].n]=_consoleFunc(r[e].c)}}}t.DiagConsoleLogger=DiagConsoleLogger},912:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.createLogLevelDiagLogger=void 0;const n=r(957);function createLogLevelDiagLogger(e,t){if(e<n.DiagLogLevel.NONE){e=n.DiagLogLevel.NONE}else if(e>n.DiagLogLevel.ALL){e=n.DiagLogLevel.ALL}t=t||{};function _filterFunc(r,n){const a=t[r];if(typeof a===\"function\"&&e>=n){return a.bind(t)}return function(){}}return{error:_filterFunc(\"error\",n.DiagLogLevel.ERROR),warn:_filterFunc(\"warn\",n.DiagLogLevel.WARN),info:_filterFunc(\"info\",n.DiagLogLevel.INFO),debug:_filterFunc(\"debug\",n.DiagLogLevel.DEBUG),verbose:_filterFunc(\"verbose\",n.DiagLogLevel.VERBOSE)}}t.createLogLevelDiagLogger=createLogLevelDiagLogger},957:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.DiagLogLevel=void 0;var r;(function(e){e[e[\"NONE\"]=0]=\"NONE\";e[e[\"ERROR\"]=30]=\"ERROR\";e[e[\"WARN\"]=50]=\"WARN\";e[e[\"INFO\"]=60]=\"INFO\";e[e[\"DEBUG\"]=70]=\"DEBUG\";e[e[\"VERBOSE\"]=80]=\"VERBOSE\";e[e[\"ALL\"]=9999]=\"ALL\"})(r=t.DiagLogLevel||(t.DiagLogLevel={}))},172:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.unregisterGlobal=t.getGlobal=t.registerGlobal=void 0;const n=r(200);const a=r(521);const o=r(130);const i=a.VERSION.split(\".\")[0];const c=Symbol.for(`opentelemetry.js.api.${i}`);const s=n._globalThis;function registerGlobal(e,t,r,n=false){var o;const i=s[c]=(o=s[c])!==null&&o!==void 0?o:{version:a.VERSION};if(!n&&i[e]){const t=new Error(`@opentelemetry/api: Attempted duplicate registration of API: ${e}`);r.error(t.stack||t.message);return false}if(i.version!==a.VERSION){const t=new Error(`@opentelemetry/api: Registration of version v${i.version} for ${e} does not match previously registered API v${a.VERSION}`);r.error(t.stack||t.message);return false}i[e]=t;r.debug(`@opentelemetry/api: Registered a global for ${e} v${a.VERSION}.`);return true}t.registerGlobal=registerGlobal;function getGlobal(e){var t,r;const n=(t=s[c])===null||t===void 0?void 0:t.version;if(!n||!(0,o.isCompatible)(n)){return}return(r=s[c])===null||r===void 0?void 0:r[e]}t.getGlobal=getGlobal;function unregisterGlobal(e,t){t.debug(`@opentelemetry/api: Unregistering a global for ${e} v${a.VERSION}.`);const r=s[c];if(r){delete r[e]}}t.unregisterGlobal=unregisterGlobal},130:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.isCompatible=t._makeCompatibilityCheck=void 0;const n=r(521);const a=/^(\\d+)\\.(\\d+)\\.(\\d+)(-(.+))?$/;function _makeCompatibilityCheck(e){const t=new Set([e]);const r=new Set;const n=e.match(a);if(!n){return()=>false}const o={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(o.prerelease!=null){return function isExactmatch(t){return t===e}}function _reject(e){r.add(e);return false}function _accept(e){t.add(e);return true}return function isCompatible(e){if(t.has(e)){return true}if(r.has(e)){return false}const n=e.match(a);if(!n){return _reject(e)}const i={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(i.prerelease!=null){return _reject(e)}if(o.major!==i.major){return _reject(e)}if(o.major===0){if(o.minor===i.minor&&o.patch<=i.patch){return _accept(e)}return _reject(e)}if(o.minor<=i.minor){return _accept(e)}return _reject(e)}}t._makeCompatibilityCheck=_makeCompatibilityCheck;t.isCompatible=_makeCompatibilityCheck(n.VERSION)},886:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.metrics=void 0;const n=r(653);t.metrics=n.MetricsAPI.getInstance()},901:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.ValueType=void 0;var r;(function(e){e[e[\"INT\"]=0]=\"INT\";e[e[\"DOUBLE\"]=1]=\"DOUBLE\"})(r=t.ValueType||(t.ValueType={}))},102:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.createNoopMeter=t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=t.NOOP_OBSERVABLE_GAUGE_METRIC=t.NOOP_OBSERVABLE_COUNTER_METRIC=t.NOOP_UP_DOWN_COUNTER_METRIC=t.NOOP_HISTOGRAM_METRIC=t.NOOP_COUNTER_METRIC=t.NOOP_METER=t.NoopObservableUpDownCounterMetric=t.NoopObservableGaugeMetric=t.NoopObservableCounterMetric=t.NoopObservableMetric=t.NoopHistogramMetric=t.NoopUpDownCounterMetric=t.NoopCounterMetric=t.NoopMetric=t.NoopMeter=void 0;class NoopMeter{constructor(){}createHistogram(e,r){return t.NOOP_HISTOGRAM_METRIC}createCounter(e,r){return t.NOOP_COUNTER_METRIC}createUpDownCounter(e,r){return t.NOOP_UP_DOWN_COUNTER_METRIC}createObservableGauge(e,r){return t.NOOP_OBSERVABLE_GAUGE_METRIC}createObservableCounter(e,r){return t.NOOP_OBSERVABLE_COUNTER_METRIC}createObservableUpDownCounter(e,r){return t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC}addBatchObservableCallback(e,t){}removeBatchObservableCallback(e){}}t.NoopMeter=NoopMeter;class NoopMetric{}t.NoopMetric=NoopMetric;class NoopCounterMetric extends NoopMetric{add(e,t){}}t.NoopCounterMetric=NoopCounterMetric;class NoopUpDownCounterMetric extends NoopMetric{add(e,t){}}t.NoopUpDownCounterMetric=NoopUpDownCounterMetric;class NoopHistogramMetric extends NoopMetric{record(e,t){}}t.NoopHistogramMetric=NoopHistogramMetric;class NoopObservableMetric{addCallback(e){}removeCallback(e){}}t.NoopObservableMetric=NoopObservableMetric;class NoopObservableCounterMetric extends NoopObservableMetric{}t.NoopObservableCounterMetric=NoopObservableCounterMetric;class NoopObservableGaugeMetric extends NoopObservableMetric{}t.NoopObservableGaugeMetric=NoopObservableGaugeMetric;class NoopObservableUpDownCounterMetric extends NoopObservableMetric{}t.NoopObservableUpDownCounterMetric=NoopObservableUpDownCounterMetric;t.NOOP_METER=new NoopMeter;t.NOOP_COUNTER_METRIC=new NoopCounterMetric;t.NOOP_HISTOGRAM_METRIC=new NoopHistogramMetric;t.NOOP_UP_DOWN_COUNTER_METRIC=new NoopUpDownCounterMetric;t.NOOP_OBSERVABLE_COUNTER_METRIC=new NoopObservableCounterMetric;t.NOOP_OBSERVABLE_GAUGE_METRIC=new NoopObservableGaugeMetric;t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=new NoopObservableUpDownCounterMetric;function createNoopMeter(){return t.NOOP_METER}t.createNoopMeter=createNoopMeter},660:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.NOOP_METER_PROVIDER=t.NoopMeterProvider=void 0;const n=r(102);class NoopMeterProvider{getMeter(e,t,r){return n.NOOP_METER}}t.NoopMeterProvider=NoopMeterProvider;t.NOOP_METER_PROVIDER=new NoopMeterProvider},200:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;Object.defineProperty(e,n,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var a=this&&this.__exportStar||function(e,t){for(var r in e)if(r!==\"default\"&&!Object.prototype.hasOwnProperty.call(t,r))n(t,e,r)};Object.defineProperty(t,\"__esModule\",{value:true});a(r(46),t)},651:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:true});t._globalThis=void 0;t._globalThis=typeof globalThis===\"object\"?globalThis:global},46:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;Object.defineProperty(e,n,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var a=this&&this.__exportStar||function(e,t){for(var r in e)if(r!==\"default\"&&!Object.prototype.hasOwnProperty.call(t,r))n(t,e,r)};Object.defineProperty(t,\"__esModule\",{value:true});a(r(651),t)},939:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.propagation=void 0;const n=r(181);t.propagation=n.PropagationAPI.getInstance()},874:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.NoopTextMapPropagator=void 0;class NoopTextMapPropagator{inject(e,t){}extract(e,t){return e}fields(){return[]}}t.NoopTextMapPropagator=NoopTextMapPropagator},194:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.defaultTextMapSetter=t.defaultTextMapGetter=void 0;t.defaultTextMapGetter={get(e,t){if(e==null){return undefined}return e[t]},keys(e){if(e==null){return[]}return Object.keys(e)}};t.defaultTextMapSetter={set(e,t,r){if(e==null){return}e[t]=r}}},845:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.trace=void 0;const n=r(997);t.trace=n.TraceAPI.getInstance()},403:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.NonRecordingSpan=void 0;const n=r(476);class NonRecordingSpan{constructor(e=n.INVALID_SPAN_CONTEXT){this._spanContext=e}spanContext(){return this._spanContext}setAttribute(e,t){return this}setAttributes(e){return this}addEvent(e,t){return this}setStatus(e){return this}updateName(e){return this}end(e){}isRecording(){return false}recordException(e,t){}}t.NonRecordingSpan=NonRecordingSpan},614:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.NoopTracer=void 0;const n=r(491);const a=r(607);const o=r(403);const i=r(139);const c=n.ContextAPI.getInstance();class NoopTracer{startSpan(e,t,r=c.active()){const n=Boolean(t===null||t===void 0?void 0:t.root);if(n){return new o.NonRecordingSpan}const s=r&&(0,a.getSpanContext)(r);if(isSpanContext(s)&&(0,i.isSpanContextValid)(s)){return new o.NonRecordingSpan(s)}else{return new o.NonRecordingSpan}}startActiveSpan(e,t,r,n){let o;let i;let s;if(arguments.length<2){return}else if(arguments.length===2){s=t}else if(arguments.length===3){o=t;s=r}else{o=t;i=r;s=n}const u=i!==null&&i!==void 0?i:c.active();const l=this.startSpan(e,o,u);const g=(0,a.setSpan)(u,l);return c.with(g,s,undefined,l)}}t.NoopTracer=NoopTracer;function isSpanContext(e){return typeof e===\"object\"&&typeof e[\"spanId\"]===\"string\"&&typeof e[\"traceId\"]===\"string\"&&typeof e[\"traceFlags\"]===\"number\"}},124:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.NoopTracerProvider=void 0;const n=r(614);class NoopTracerProvider{getTracer(e,t,r){return new n.NoopTracer}}t.NoopTracerProvider=NoopTracerProvider},125:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.ProxyTracer=void 0;const n=r(614);const a=new n.NoopTracer;class ProxyTracer{constructor(e,t,r,n){this._provider=e;this.name=t;this.version=r;this.options=n}startSpan(e,t,r){return this._getTracer().startSpan(e,t,r)}startActiveSpan(e,t,r,n){const a=this._getTracer();return Reflect.apply(a.startActiveSpan,a,arguments)}_getTracer(){if(this._delegate){return this._delegate}const e=this._provider.getDelegateTracer(this.name,this.version,this.options);if(!e){return a}this._delegate=e;return this._delegate}}t.ProxyTracer=ProxyTracer},846:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.ProxyTracerProvider=void 0;const n=r(125);const a=r(124);const o=new a.NoopTracerProvider;class ProxyTracerProvider{getTracer(e,t,r){var a;return(a=this.getDelegateTracer(e,t,r))!==null&&a!==void 0?a:new n.ProxyTracer(this,e,t,r)}getDelegate(){var e;return(e=this._delegate)!==null&&e!==void 0?e:o}setDelegate(e){this._delegate=e}getDelegateTracer(e,t,r){var n;return(n=this._delegate)===null||n===void 0?void 0:n.getTracer(e,t,r)}}t.ProxyTracerProvider=ProxyTracerProvider},996:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.SamplingDecision=void 0;var r;(function(e){e[e[\"NOT_RECORD\"]=0]=\"NOT_RECORD\";e[e[\"RECORD\"]=1]=\"RECORD\";e[e[\"RECORD_AND_SAMPLED\"]=2]=\"RECORD_AND_SAMPLED\"})(r=t.SamplingDecision||(t.SamplingDecision={}))},607:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.getSpanContext=t.setSpanContext=t.deleteSpan=t.setSpan=t.getActiveSpan=t.getSpan=void 0;const n=r(780);const a=r(403);const o=r(491);const i=(0,n.createContextKey)(\"OpenTelemetry Context Key SPAN\");function getSpan(e){return e.getValue(i)||undefined}t.getSpan=getSpan;function getActiveSpan(){return getSpan(o.ContextAPI.getInstance().active())}t.getActiveSpan=getActiveSpan;function setSpan(e,t){return e.setValue(i,t)}t.setSpan=setSpan;function deleteSpan(e){return e.deleteValue(i)}t.deleteSpan=deleteSpan;function setSpanContext(e,t){return setSpan(e,new a.NonRecordingSpan(t))}t.setSpanContext=setSpanContext;function getSpanContext(e){var t;return(t=getSpan(e))===null||t===void 0?void 0:t.spanContext()}t.getSpanContext=getSpanContext},325:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.TraceStateImpl=void 0;const n=r(564);const a=32;const o=512;const i=\",\";const c=\"=\";class TraceStateImpl{constructor(e){this._internalState=new Map;if(e)this._parse(e)}set(e,t){const r=this._clone();if(r._internalState.has(e)){r._internalState.delete(e)}r._internalState.set(e,t);return r}unset(e){const t=this._clone();t._internalState.delete(e);return t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce(((e,t)=>{e.push(t+c+this.get(t));return e}),[]).join(i)}_parse(e){if(e.length>o)return;this._internalState=e.split(i).reverse().reduce(((e,t)=>{const r=t.trim();const a=r.indexOf(c);if(a!==-1){const o=r.slice(0,a);const i=r.slice(a+1,t.length);if((0,n.validateKey)(o)&&(0,n.validateValue)(i)){e.set(o,i)}else{}}return e}),new Map);if(this._internalState.size>a){this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,a))}}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){const e=new TraceStateImpl;e._internalState=new Map(this._internalState);return e}}t.TraceStateImpl=TraceStateImpl},564:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.validateValue=t.validateKey=void 0;const r=\"[_0-9a-z-*/]\";const n=`[a-z]${r}{0,255}`;const a=`[a-z0-9]${r}{0,240}@[a-z]${r}{0,13}`;const o=new RegExp(`^(?:${n}|${a})$`);const i=/^[ -~]{0,255}[!-~]$/;const c=/,|=/;function validateKey(e){return o.test(e)}t.validateKey=validateKey;function validateValue(e){return i.test(e)&&!c.test(e)}t.validateValue=validateValue},98:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.createTraceState=void 0;const n=r(325);function createTraceState(e){return new n.TraceStateImpl(e)}t.createTraceState=createTraceState},476:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.INVALID_SPAN_CONTEXT=t.INVALID_TRACEID=t.INVALID_SPANID=void 0;const n=r(475);t.INVALID_SPANID=\"0000000000000000\";t.INVALID_TRACEID=\"00000000000000000000000000000000\";t.INVALID_SPAN_CONTEXT={traceId:t.INVALID_TRACEID,spanId:t.INVALID_SPANID,traceFlags:n.TraceFlags.NONE}},357:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.SpanKind=void 0;var r;(function(e){e[e[\"INTERNAL\"]=0]=\"INTERNAL\";e[e[\"SERVER\"]=1]=\"SERVER\";e[e[\"CLIENT\"]=2]=\"CLIENT\";e[e[\"PRODUCER\"]=3]=\"PRODUCER\";e[e[\"CONSUMER\"]=4]=\"CONSUMER\"})(r=t.SpanKind||(t.SpanKind={}))},139:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.wrapSpanContext=t.isSpanContextValid=t.isValidSpanId=t.isValidTraceId=void 0;const n=r(476);const a=r(403);const o=/^([0-9a-f]{32})$/i;const i=/^[0-9a-f]{16}$/i;function isValidTraceId(e){return o.test(e)&&e!==n.INVALID_TRACEID}t.isValidTraceId=isValidTraceId;function isValidSpanId(e){return i.test(e)&&e!==n.INVALID_SPANID}t.isValidSpanId=isValidSpanId;function isSpanContextValid(e){return isValidTraceId(e.traceId)&&isValidSpanId(e.spanId)}t.isSpanContextValid=isSpanContextValid;function wrapSpanContext(e){return new a.NonRecordingSpan(e)}t.wrapSpanContext=wrapSpanContext},847:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.SpanStatusCode=void 0;var r;(function(e){e[e[\"UNSET\"]=0]=\"UNSET\";e[e[\"OK\"]=1]=\"OK\";e[e[\"ERROR\"]=2]=\"ERROR\"})(r=t.SpanStatusCode||(t.SpanStatusCode={}))},475:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.TraceFlags=void 0;var r;(function(e){e[e[\"NONE\"]=0]=\"NONE\";e[e[\"SAMPLED\"]=1]=\"SAMPLED\"})(r=t.TraceFlags||(t.TraceFlags={}))},521:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.VERSION=void 0;t.VERSION=\"1.6.0\"}};var t={};function __nccwpck_require__(r){var n=t[r];if(n!==undefined){return n.exports}var a=t[r]={exports:{}};var o=true;try{e[r].call(a.exports,a,a.exports,__nccwpck_require__);o=false}finally{if(o)delete t[r]}return a.exports}if(typeof __nccwpck_require__!==\"undefined\")__nccwpck_require__.ab=__dirname+\"/\";var r={};(()=>{var e=r;Object.defineProperty(e,\"__esModule\",{value:true});e.trace=e.propagation=e.metrics=e.diag=e.context=e.INVALID_SPAN_CONTEXT=e.INVALID_TRACEID=e.INVALID_SPANID=e.isValidSpanId=e.isValidTraceId=e.isSpanContextValid=e.createTraceState=e.TraceFlags=e.SpanStatusCode=e.SpanKind=e.SamplingDecision=e.ProxyTracerProvider=e.ProxyTracer=e.defaultTextMapSetter=e.defaultTextMapGetter=e.ValueType=e.createNoopMeter=e.DiagLogLevel=e.DiagConsoleLogger=e.ROOT_CONTEXT=e.createContextKey=e.baggageEntryMetadataFromString=void 0;var t=__nccwpck_require__(369);Object.defineProperty(e,\"baggageEntryMetadataFromString\",{enumerable:true,get:function(){return t.baggageEntryMetadataFromString}});var n=__nccwpck_require__(780);Object.defineProperty(e,\"createContextKey\",{enumerable:true,get:function(){return n.createContextKey}});Object.defineProperty(e,\"ROOT_CONTEXT\",{enumerable:true,get:function(){return n.ROOT_CONTEXT}});var a=__nccwpck_require__(972);Object.defineProperty(e,\"DiagConsoleLogger\",{enumerable:true,get:function(){return a.DiagConsoleLogger}});var o=__nccwpck_require__(957);Object.defineProperty(e,\"DiagLogLevel\",{enumerable:true,get:function(){return o.DiagLogLevel}});var i=__nccwpck_require__(102);Object.defineProperty(e,\"createNoopMeter\",{enumerable:true,get:function(){return i.createNoopMeter}});var c=__nccwpck_require__(901);Object.defineProperty(e,\"ValueType\",{enumerable:true,get:function(){return c.ValueType}});var s=__nccwpck_require__(194);Object.defineProperty(e,\"defaultTextMapGetter\",{enumerable:true,get:function(){return s.defaultTextMapGetter}});Object.defineProperty(e,\"defaultTextMapSetter\",{enumerable:true,get:function(){return s.defaultTextMapSetter}});var u=__nccwpck_require__(125);Object.defineProperty(e,\"ProxyTracer\",{enumerable:true,get:function(){return u.ProxyTracer}});var l=__nccwpck_require__(846);Object.defineProperty(e,\"ProxyTracerProvider\",{enumerable:true,get:function(){return l.ProxyTracerProvider}});var g=__nccwpck_require__(996);Object.defineProperty(e,\"SamplingDecision\",{enumerable:true,get:function(){return g.SamplingDecision}});var p=__nccwpck_require__(357);Object.defineProperty(e,\"SpanKind\",{enumerable:true,get:function(){return p.SpanKind}});var d=__nccwpck_require__(847);Object.defineProperty(e,\"SpanStatusCode\",{enumerable:true,get:function(){return d.SpanStatusCode}});var _=__nccwpck_require__(475);Object.defineProperty(e,\"TraceFlags\",{enumerable:true,get:function(){return _.TraceFlags}});var f=__nccwpck_require__(98);Object.defineProperty(e,\"createTraceState\",{enumerable:true,get:function(){return f.createTraceState}});var b=__nccwpck_require__(139);Object.defineProperty(e,\"isSpanContextValid\",{enumerable:true,get:function(){return b.isSpanContextValid}});Object.defineProperty(e,\"isValidTraceId\",{enumerable:true,get:function(){return b.isValidTraceId}});Object.defineProperty(e,\"isValidSpanId\",{enumerable:true,get:function(){return b.isValidSpanId}});var v=__nccwpck_require__(476);Object.defineProperty(e,\"INVALID_SPANID\",{enumerable:true,get:function(){return v.INVALID_SPANID}});Object.defineProperty(e,\"INVALID_TRACEID\",{enumerable:true,get:function(){return v.INVALID_TRACEID}});Object.defineProperty(e,\"INVALID_SPAN_CONTEXT\",{enumerable:true,get:function(){return v.INVALID_SPAN_CONTEXT}});const O=__nccwpck_require__(67);Object.defineProperty(e,\"context\",{enumerable:true,get:function(){return O.context}});const P=__nccwpck_require__(506);Object.defineProperty(e,\"diag\",{enumerable:true,get:function(){return P.diag}});const N=__nccwpck_require__(886);Object.defineProperty(e,\"metrics\",{enumerable:true,get:function(){return N.metrics}});const S=__nccwpck_require__(939);Object.defineProperty(e,\"propagation\",{enumerable:true,get:function(){return S.propagation}});const C=__nccwpck_require__(845);Object.defineProperty(e,\"trace\",{enumerable:true,get:function(){return C.trace}});e[\"default\"]={context:O.context,diag:P.diag,metrics:N.metrics,propagation:S.propagation,trace:C.trace}})();module.exports=r})();","/**\n * Contains predefined constants for the trace span name in next/server.\n *\n * Currently, next/server/tracer is internal implementation only for tracking\n * next.js's implementation only with known span names defined here.\n **/ // eslint typescript has a bug with TS enums\nvar BaseServerSpan = /*#__PURE__*/ function(BaseServerSpan) {\n    BaseServerSpan[\"handleRequest\"] = \"BaseServer.handleRequest\";\n    BaseServerSpan[\"run\"] = \"BaseServer.run\";\n    BaseServerSpan[\"pipe\"] = \"BaseServer.pipe\";\n    BaseServerSpan[\"getStaticHTML\"] = \"BaseServer.getStaticHTML\";\n    BaseServerSpan[\"render\"] = \"BaseServer.render\";\n    BaseServerSpan[\"renderToResponseWithComponents\"] = \"BaseServer.renderToResponseWithComponents\";\n    BaseServerSpan[\"renderToResponse\"] = \"BaseServer.renderToResponse\";\n    BaseServerSpan[\"renderToHTML\"] = \"BaseServer.renderToHTML\";\n    BaseServerSpan[\"renderError\"] = \"BaseServer.renderError\";\n    BaseServerSpan[\"renderErrorToResponse\"] = \"BaseServer.renderErrorToResponse\";\n    BaseServerSpan[\"renderErrorToHTML\"] = \"BaseServer.renderErrorToHTML\";\n    BaseServerSpan[\"render404\"] = \"BaseServer.render404\";\n    return BaseServerSpan;\n}(BaseServerSpan || {});\nvar LoadComponentsSpan = /*#__PURE__*/ function(LoadComponentsSpan) {\n    LoadComponentsSpan[\"loadDefaultErrorComponents\"] = \"LoadComponents.loadDefaultErrorComponents\";\n    LoadComponentsSpan[\"loadComponents\"] = \"LoadComponents.loadComponents\";\n    return LoadComponentsSpan;\n}(LoadComponentsSpan || {});\nvar NextServerSpan = /*#__PURE__*/ function(NextServerSpan) {\n    NextServerSpan[\"getRequestHandler\"] = \"NextServer.getRequestHandler\";\n    NextServerSpan[\"getRequestHandlerWithMetadata\"] = \"NextServer.getRequestHandlerWithMetadata\";\n    NextServerSpan[\"getServer\"] = \"NextServer.getServer\";\n    NextServerSpan[\"getServerRequestHandler\"] = \"NextServer.getServerRequestHandler\";\n    NextServerSpan[\"createServer\"] = \"createServer.createServer\";\n    return NextServerSpan;\n}(NextServerSpan || {});\nvar NextNodeServerSpan = /*#__PURE__*/ function(NextNodeServerSpan) {\n    NextNodeServerSpan[\"compression\"] = \"NextNodeServer.compression\";\n    NextNodeServerSpan[\"getBuildId\"] = \"NextNodeServer.getBuildId\";\n    NextNodeServerSpan[\"createComponentTree\"] = \"NextNodeServer.createComponentTree\";\n    NextNodeServerSpan[\"clientComponentLoading\"] = \"NextNodeServer.clientComponentLoading\";\n    NextNodeServerSpan[\"getLayoutOrPageModule\"] = \"NextNodeServer.getLayoutOrPageModule\";\n    NextNodeServerSpan[\"generateStaticRoutes\"] = \"NextNodeServer.generateStaticRoutes\";\n    NextNodeServerSpan[\"generateFsStaticRoutes\"] = \"NextNodeServer.generateFsStaticRoutes\";\n    NextNodeServerSpan[\"generatePublicRoutes\"] = \"NextNodeServer.generatePublicRoutes\";\n    NextNodeServerSpan[\"generateImageRoutes\"] = \"NextNodeServer.generateImageRoutes.route\";\n    NextNodeServerSpan[\"sendRenderResult\"] = \"NextNodeServer.sendRenderResult\";\n    NextNodeServerSpan[\"proxyRequest\"] = \"NextNodeServer.proxyRequest\";\n    NextNodeServerSpan[\"runApi\"] = \"NextNodeServer.runApi\";\n    NextNodeServerSpan[\"render\"] = \"NextNodeServer.render\";\n    NextNodeServerSpan[\"renderHTML\"] = \"NextNodeServer.renderHTML\";\n    NextNodeServerSpan[\"imageOptimizer\"] = \"NextNodeServer.imageOptimizer\";\n    NextNodeServerSpan[\"getPagePath\"] = \"NextNodeServer.getPagePath\";\n    NextNodeServerSpan[\"getRoutesManifest\"] = \"NextNodeServer.getRoutesManifest\";\n    NextNodeServerSpan[\"findPageComponents\"] = \"NextNodeServer.findPageComponents\";\n    NextNodeServerSpan[\"getFontManifest\"] = \"NextNodeServer.getFontManifest\";\n    NextNodeServerSpan[\"getServerComponentManifest\"] = \"NextNodeServer.getServerComponentManifest\";\n    NextNodeServerSpan[\"getRequestHandler\"] = \"NextNodeServer.getRequestHandler\";\n    NextNodeServerSpan[\"renderToHTML\"] = \"NextNodeServer.renderToHTML\";\n    NextNodeServerSpan[\"renderError\"] = \"NextNodeServer.renderError\";\n    NextNodeServerSpan[\"renderErrorToHTML\"] = \"NextNodeServer.renderErrorToHTML\";\n    NextNodeServerSpan[\"render404\"] = \"NextNodeServer.render404\";\n    NextNodeServerSpan[\"startResponse\"] = \"NextNodeServer.startResponse\";\n    // nested inner span, does not require parent scope name\n    NextNodeServerSpan[\"route\"] = \"route\";\n    NextNodeServerSpan[\"onProxyReq\"] = \"onProxyReq\";\n    NextNodeServerSpan[\"apiResolver\"] = \"apiResolver\";\n    NextNodeServerSpan[\"internalFetch\"] = \"internalFetch\";\n    return NextNodeServerSpan;\n}(NextNodeServerSpan || {});\nvar StartServerSpan = /*#__PURE__*/ function(StartServerSpan) {\n    StartServerSpan[\"startServer\"] = \"startServer.startServer\";\n    return StartServerSpan;\n}(StartServerSpan || {});\nvar RenderSpan = /*#__PURE__*/ function(RenderSpan) {\n    RenderSpan[\"getServerSideProps\"] = \"Render.getServerSideProps\";\n    RenderSpan[\"getStaticProps\"] = \"Render.getStaticProps\";\n    RenderSpan[\"renderToString\"] = \"Render.renderToString\";\n    RenderSpan[\"renderDocument\"] = \"Render.renderDocument\";\n    RenderSpan[\"createBodyResult\"] = \"Render.createBodyResult\";\n    return RenderSpan;\n}(RenderSpan || {});\nvar AppRenderSpan = /*#__PURE__*/ function(AppRenderSpan) {\n    AppRenderSpan[\"renderToString\"] = \"AppRender.renderToString\";\n    AppRenderSpan[\"renderToReadableStream\"] = \"AppRender.renderToReadableStream\";\n    AppRenderSpan[\"getBodyResult\"] = \"AppRender.getBodyResult\";\n    AppRenderSpan[\"fetch\"] = \"AppRender.fetch\";\n    return AppRenderSpan;\n}(AppRenderSpan || {});\nvar RouterSpan = /*#__PURE__*/ function(RouterSpan) {\n    RouterSpan[\"executeRoute\"] = \"Router.executeRoute\";\n    return RouterSpan;\n}(RouterSpan || {});\nvar NodeSpan = /*#__PURE__*/ function(NodeSpan) {\n    NodeSpan[\"runHandler\"] = \"Node.runHandler\";\n    return NodeSpan;\n}(NodeSpan || {});\nvar AppRouteRouteHandlersSpan = /*#__PURE__*/ function(AppRouteRouteHandlersSpan) {\n    AppRouteRouteHandlersSpan[\"runHandler\"] = \"AppRouteRouteHandlers.runHandler\";\n    return AppRouteRouteHandlersSpan;\n}(AppRouteRouteHandlersSpan || {});\nvar ResolveMetadataSpan = /*#__PURE__*/ function(ResolveMetadataSpan) {\n    ResolveMetadataSpan[\"generateMetadata\"] = \"ResolveMetadata.generateMetadata\";\n    ResolveMetadataSpan[\"generateViewport\"] = \"ResolveMetadata.generateViewport\";\n    return ResolveMetadataSpan;\n}(ResolveMetadataSpan || {});\nvar MiddlewareSpan = /*#__PURE__*/ function(MiddlewareSpan) {\n    MiddlewareSpan[\"execute\"] = \"Middleware.execute\";\n    return MiddlewareSpan;\n}(MiddlewareSpan || {});\n// This list is used to filter out spans that are not relevant to the user\nexport const NextVanillaSpanAllowlist = new Set([\n    \"Middleware.execute\",\n    \"BaseServer.handleRequest\",\n    \"Render.getServerSideProps\",\n    \"Render.getStaticProps\",\n    \"AppRender.fetch\",\n    \"AppRender.getBodyResult\",\n    \"Render.renderDocument\",\n    \"Node.runHandler\",\n    \"AppRouteRouteHandlers.runHandler\",\n    \"ResolveMetadata.generateMetadata\",\n    \"ResolveMetadata.generateViewport\",\n    \"NextNodeServer.createComponentTree\",\n    \"NextNodeServer.findPageComponents\",\n    \"NextNodeServer.getLayoutOrPageModule\",\n    \"NextNodeServer.startResponse\",\n    \"NextNodeServer.clientComponentLoading\"\n]);\n// These Spans are allowed to be always logged\n// when the otel log prefix env is set\nexport const LogSpanAllowList = new Set([\n    \"NextNodeServer.findPageComponents\",\n    \"NextNodeServer.createComponentTree\",\n    \"NextNodeServer.clientComponentLoading\"\n]);\nexport { BaseServerSpan, LoadComponentsSpan, NextServerSpan, NextNodeServerSpan, StartServerSpan, RenderSpan, RouterSpan, AppRenderSpan, NodeSpan, AppRouteRouteHandlersSpan, ResolveMetadataSpan, MiddlewareSpan,  };\n\n//# sourceMappingURL=constants.js.map","import { LogSpanAllowList, NextVanillaSpanAllowlist } from './constants';\nimport { isThenable } from '../../../shared/lib/is-thenable';\nconst NEXT_OTEL_PERFORMANCE_PREFIX = process.env.NEXT_OTEL_PERFORMANCE_PREFIX;\nlet api;\n// we want to allow users to use their own version of @opentelemetry/api if they\n// want to, so we try to require it first, and if it fails we fall back to the\n// version that is bundled with Next.js\n// this is because @opentelemetry/api has to be synced with the version of\n// @opentelemetry/tracing that is used, and we don't want to force users to use\n// the version that is bundled with Next.js.\n// the API is ~stable, so this should be fine\nif (process.env.NEXT_RUNTIME === 'edge') {\n    api = require('@opentelemetry/api');\n} else {\n    try {\n        api = require('@opentelemetry/api');\n    } catch (err) {\n        api = require('next/dist/compiled/@opentelemetry/api');\n    }\n}\nconst { context, propagation, trace, SpanStatusCode, SpanKind, ROOT_CONTEXT } = api;\nexport class BubbledError extends Error {\n    constructor(bubble, result){\n        super(), this.bubble = bubble, this.result = result;\n    }\n}\nexport function isBubbledError(error) {\n    if (typeof error !== 'object' || error === null) return false;\n    return error instanceof BubbledError;\n}\nconst closeSpanWithError = (span, error)=>{\n    if (isBubbledError(error) && error.bubble) {\n        span.setAttribute('next.bubble', true);\n    } else {\n        if (error) {\n            span.recordException(error);\n            span.setAttribute('error.type', error.name);\n        }\n        span.setStatus({\n            code: SpanStatusCode.ERROR,\n            message: error == null ? void 0 : error.message\n        });\n    }\n    span.end();\n};\n/** we use this map to propagate attributes from nested spans to the top span */ const rootSpanAttributesStore = new Map();\nconst rootSpanIdKey = api.createContextKey('next.rootSpanId');\nlet lastSpanId = 0;\nconst getSpanId = ()=>lastSpanId++;\nconst clientTraceDataSetter = {\n    set (carrier, key, value) {\n        carrier.push({\n            key,\n            value\n        });\n    }\n};\nclass NextTracerImpl {\n    /**\n   * Returns an instance to the trace with configured name.\n   * Since wrap / trace can be defined in any place prior to actual trace subscriber initialization,\n   * This should be lazily evaluated.\n   */ getTracerInstance() {\n        return trace.getTracer('next.js', '0.0.1');\n    }\n    getContext() {\n        return context;\n    }\n    getTracePropagationData() {\n        const activeContext = context.active();\n        const entries = [];\n        propagation.inject(activeContext, entries, clientTraceDataSetter);\n        return entries;\n    }\n    getActiveScopeSpan() {\n        return trace.getSpan(context == null ? void 0 : context.active());\n    }\n    withPropagatedContext(carrier, fn, getter) {\n        const activeContext = context.active();\n        if (trace.getSpanContext(activeContext)) {\n            // Active span is already set, too late to propagate.\n            return fn();\n        }\n        const remoteContext = propagation.extract(activeContext, carrier, getter);\n        return context.with(remoteContext, fn);\n    }\n    trace(...args) {\n        const [type, fnOrOptions, fnOrEmpty] = args;\n        // coerce options form overload\n        const { fn, options } = typeof fnOrOptions === 'function' ? {\n            fn: fnOrOptions,\n            options: {}\n        } : {\n            fn: fnOrEmpty,\n            options: {\n                ...fnOrOptions\n            }\n        };\n        const spanName = options.spanName ?? type;\n        if (!NextVanillaSpanAllowlist.has(type) && process.env.NEXT_OTEL_VERBOSE !== '1' || options.hideSpan) {\n            return fn();\n        }\n        // Trying to get active scoped span to assign parent. If option specifies parent span manually, will try to use it.\n        let spanContext = this.getSpanContext((options == null ? void 0 : options.parentSpan) ?? this.getActiveScopeSpan());\n        if (!spanContext) {\n            spanContext = (context == null ? void 0 : context.active()) ?? ROOT_CONTEXT;\n        }\n        // Check if there's already a root span in the store for this trace\n        // We are intentionally not checking whether there is an active context\n        // from outside of nextjs to ensure that we can provide the same level\n        // of telemetry when using a custom server\n        const existingRootSpanId = spanContext.getValue(rootSpanIdKey);\n        const isRootSpan = typeof existingRootSpanId !== 'number' || !rootSpanAttributesStore.has(existingRootSpanId);\n        const spanId = getSpanId();\n        options.attributes = {\n            'next.span_name': spanName,\n            'next.span_type': type,\n            ...options.attributes\n        };\n        return context.with(spanContext.setValue(rootSpanIdKey, spanId), ()=>this.getTracerInstance().startActiveSpan(spanName, options, (span)=>{\n                let startTime;\n                if (NEXT_OTEL_PERFORMANCE_PREFIX && type && LogSpanAllowList.has(type)) {\n                    startTime = 'performance' in globalThis && 'measure' in performance ? globalThis.performance.now() : undefined;\n                }\n                let cleanedUp = false;\n                const onCleanup = ()=>{\n                    if (cleanedUp) return;\n                    cleanedUp = true;\n                    rootSpanAttributesStore.delete(spanId);\n                    if (startTime) {\n                        performance.measure(`${NEXT_OTEL_PERFORMANCE_PREFIX}:next-${(type.split('.').pop() || '').replace(/[A-Z]/g, (match)=>'-' + match.toLowerCase())}`, {\n                            start: startTime,\n                            end: performance.now()\n                        });\n                    }\n                };\n                if (isRootSpan) {\n                    rootSpanAttributesStore.set(spanId, new Map(Object.entries(options.attributes ?? {})));\n                }\n                if (fn.length > 1) {\n                    try {\n                        return fn(span, (err)=>closeSpanWithError(span, err));\n                    } catch (err) {\n                        closeSpanWithError(span, err);\n                        throw err;\n                    } finally{\n                        onCleanup();\n                    }\n                }\n                try {\n                    const result = fn(span);\n                    if (isThenable(result)) {\n                        // If there's error make sure it throws\n                        return result.then((res)=>{\n                            span.end();\n                            // Need to pass down the promise result,\n                            // it could be react stream response with error { error, stream }\n                            return res;\n                        }).catch((err)=>{\n                            closeSpanWithError(span, err);\n                            throw err;\n                        }).finally(onCleanup);\n                    } else {\n                        span.end();\n                        onCleanup();\n                    }\n                    return result;\n                } catch (err) {\n                    closeSpanWithError(span, err);\n                    onCleanup();\n                    throw err;\n                }\n            }));\n    }\n    wrap(...args) {\n        const tracer = this;\n        const [name, options, fn] = args.length === 3 ? args : [\n            args[0],\n            {},\n            args[1]\n        ];\n        if (!NextVanillaSpanAllowlist.has(name) && process.env.NEXT_OTEL_VERBOSE !== '1') {\n            return fn;\n        }\n        return function() {\n            let optionsObj = options;\n            if (typeof optionsObj === 'function' && typeof fn === 'function') {\n                optionsObj = optionsObj.apply(this, arguments);\n            }\n            const lastArgId = arguments.length - 1;\n            const cb = arguments[lastArgId];\n            if (typeof cb === 'function') {\n                const scopeBoundCb = tracer.getContext().bind(context.active(), cb);\n                return tracer.trace(name, optionsObj, (_span, done)=>{\n                    arguments[lastArgId] = function(err) {\n                        done == null ? void 0 : done(err);\n                        return scopeBoundCb.apply(this, arguments);\n                    };\n                    return fn.apply(this, arguments);\n                });\n            } else {\n                return tracer.trace(name, optionsObj, ()=>fn.apply(this, arguments));\n            }\n        };\n    }\n    startSpan(...args) {\n        const [type, options] = args;\n        const spanContext = this.getSpanContext((options == null ? void 0 : options.parentSpan) ?? this.getActiveScopeSpan());\n        return this.getTracerInstance().startSpan(type, options, spanContext);\n    }\n    getSpanContext(parentSpan) {\n        const spanContext = parentSpan ? trace.setSpan(context.active(), parentSpan) : undefined;\n        return spanContext;\n    }\n    getRootSpanAttributes() {\n        const spanId = context.active().getValue(rootSpanIdKey);\n        return rootSpanAttributesStore.get(spanId);\n    }\n    setRootSpanAttribute(key, value) {\n        const spanId = context.active().getValue(rootSpanIdKey);\n        const attributes = rootSpanAttributesStore.get(spanId);\n        if (attributes && !attributes.has(key)) {\n            attributes.set(key, value);\n        }\n    }\n    withSpan(span, fn) {\n        const spanContext = trace.setSpan(context.active(), span);\n        return context.with(spanContext, fn);\n    }\n}\nconst getTracer = (()=>{\n    const tracer = new NextTracerImpl();\n    return ()=>tracer;\n})();\nexport { getTracer, SpanStatusCode, SpanKind };\n\n//# sourceMappingURL=tracer.js.map","/**\n * Check to see if a value is Thenable.\n *\n * @param promise the maybe-thenable value\n * @returns true if the value is thenable\n */ export function isThenable(promise) {\n    return promise !== null && typeof promise === 'object' && 'then' in promise && typeof promise.then === 'function';\n}\n\n//# sourceMappingURL=is-thenable.js.map","import type { ReactDOMServerReadableStream } from 'react-dom/server'\nimport { getTracer } from '../lib/trace/tracer'\nimport { AppRenderSpan } from '../lib/trace/constants'\nimport { DetachedPromise } from '../../lib/detached-promise'\nimport {\n  scheduleImmediate,\n  atLeastOneTask,\n  waitAtLeastOneReactRenderTask,\n} from '../../lib/scheduler'\nimport { ENCODED_TAGS } from './encoded-tags'\nimport {\n  indexOfUint8Array,\n  isEquivalentUint8Arrays,\n  removeFromUint8Array,\n} from './uint8array-helpers'\nimport { MISSING_ROOT_TAGS_ERROR } from '../../shared/lib/errors/constants'\nimport {\n  RSC_HEADER,\n  NEXT_ROUTER_PREFETCH_HEADER,\n  NEXT_ROUTER_SEGMENT_PREFETCH_HEADER,\n  NEXT_RSC_UNION_QUERY,\n} from '../../client/components/app-router-headers'\nimport { computeCacheBustingSearchParam } from '../../shared/lib/router/utils/cache-busting-search-param'\n\nfunction voidCatch() {\n  // this catcher is designed to be used with pipeTo where we expect the underlying\n  // pipe implementation to forward errors but we don't want the pipeTo promise to reject\n  // and be unhandled\n}\n\n// We can share the same encoder instance everywhere\n// Notably we cannot do the same for TextDecoder because it is stateful\n// when handling streaming data\nconst encoder = new TextEncoder()\n\nexport function chainStreams<T>(\n  ...streams: ReadableStream<T>[]\n): ReadableStream<T> {\n  // If we have no streams, return an empty stream. This behavior is\n  // intentional as we're now providing the `RenderResult.EMPTY` value.\n  if (streams.length === 0) {\n    return new ReadableStream<T>({\n      start(controller) {\n        controller.close()\n      },\n    })\n  }\n\n  // If we only have 1 stream we fast path it by returning just this stream\n  if (streams.length === 1) {\n    return streams[0]\n  }\n\n  const { readable, writable } = new TransformStream()\n\n  // We always initiate pipeTo immediately. We know we have at least 2 streams\n  // so we need to avoid closing the writable when this one finishes.\n  let promise = streams[0].pipeTo(writable, { preventClose: true })\n\n  let i = 1\n  for (; i < streams.length - 1; i++) {\n    const nextStream = streams[i]\n    promise = promise.then(() =>\n      nextStream.pipeTo(writable, { preventClose: true })\n    )\n  }\n\n  // We can omit the length check because we halted before the last stream and there\n  // is at least two streams so the lastStream here will always be defined\n  const lastStream = streams[i]\n  promise = promise.then(() => lastStream.pipeTo(writable))\n\n  // Catch any errors from the streams and ignore them, they will be handled\n  // by whatever is consuming the readable stream.\n  promise.catch(voidCatch)\n\n  return readable\n}\n\nexport function streamFromString(str: string): ReadableStream<Uint8Array> {\n  return new ReadableStream({\n    start(controller) {\n      controller.enqueue(encoder.encode(str))\n      controller.close()\n    },\n  })\n}\n\nexport function streamFromBuffer(chunk: Buffer): ReadableStream<Uint8Array> {\n  return new ReadableStream({\n    start(controller) {\n      controller.enqueue(chunk)\n      controller.close()\n    },\n  })\n}\n\nasync function streamToChunks(\n  stream: ReadableStream<Uint8Array>\n): Promise<Array<Uint8Array>> {\n  const reader = stream.getReader()\n  const chunks: Array<Uint8Array> = []\n\n  while (true) {\n    const { done, value } = await reader.read()\n    if (done) {\n      break\n    }\n\n    chunks.push(value)\n  }\n\n  return chunks\n}\n\nfunction concatUint8Arrays(chunks: Array<Uint8Array>): Uint8Array {\n  const totalLength = chunks.reduce((sum, chunk) => sum + chunk.length, 0)\n  const result = new Uint8Array(totalLength)\n  let offset = 0\n  for (const chunk of chunks) {\n    result.set(chunk, offset)\n    offset += chunk.length\n  }\n  return result\n}\n\nexport async function streamToUint8Array(\n  stream: ReadableStream<Uint8Array>\n): Promise<Uint8Array> {\n  return concatUint8Arrays(await streamToChunks(stream))\n}\n\nexport async function streamToBuffer(\n  stream: ReadableStream<Uint8Array>\n): Promise<Buffer> {\n  return Buffer.concat(await streamToChunks(stream))\n}\n\nexport async function streamToString(\n  stream: ReadableStream<Uint8Array>,\n  signal?: AbortSignal\n): Promise<string> {\n  const decoder = new TextDecoder('utf-8', { fatal: true })\n  let string = ''\n\n  for await (const chunk of stream) {\n    if (signal?.aborted) {\n      return string\n    }\n\n    string += decoder.decode(chunk, { stream: true })\n  }\n\n  string += decoder.decode()\n\n  return string\n}\n\nexport type BufferedTransformOptions = {\n  /**\n   * Flush synchronously once the buffer reaches this many bytes.\n   */\n  readonly maxBufferByteLength?: number\n}\n\nexport function createBufferedTransformStream(\n  options: BufferedTransformOptions = {}\n): TransformStream<Uint8Array, Uint8Array> {\n  const { maxBufferByteLength = Infinity } = options\n\n  let bufferedChunks: Array<Uint8Array> = []\n  let bufferByteLength: number = 0\n  let pending: DetachedPromise<void> | undefined\n\n  const flush = (controller: TransformStreamDefaultController) => {\n    try {\n      if (bufferedChunks.length === 0) {\n        return\n      }\n\n      const chunk = new Uint8Array(bufferByteLength)\n      let copiedBytes = 0\n\n      for (let i = 0; i < bufferedChunks.length; i++) {\n        const bufferedChunk = bufferedChunks[i]\n        chunk.set(bufferedChunk, copiedBytes)\n        copiedBytes += bufferedChunk.byteLength\n      }\n      // We just wrote all the buffered chunks so we need to reset the bufferedChunks array\n      // and our bufferByteLength to prepare for the next round of buffered chunks\n      bufferedChunks.length = 0\n      bufferByteLength = 0\n      controller.enqueue(chunk)\n    } catch {\n      // If an error occurs while enqueuing, it can't be due to this\n      // transformer. It's most likely caused by the controller having been\n      // errored (for example, if the stream was cancelled).\n    }\n  }\n\n  const scheduleFlush = (controller: TransformStreamDefaultController) => {\n    if (pending) {\n      return\n    }\n\n    const detached = new DetachedPromise<void>()\n    pending = detached\n\n    scheduleImmediate(() => {\n      try {\n        flush(controller)\n      } finally {\n        pending = undefined\n        detached.resolve()\n      }\n    })\n  }\n\n  return new TransformStream({\n    transform(chunk, controller) {\n      // Combine the previous buffer with the new chunk.\n      bufferedChunks.push(chunk)\n      bufferByteLength += chunk.byteLength\n\n      if (bufferByteLength >= maxBufferByteLength) {\n        flush(controller)\n      } else {\n        scheduleFlush(controller)\n      }\n    },\n    flush() {\n      return pending?.promise\n    },\n  })\n}\n\n// TODO this is currently unused but once we add proper output:export support, it needs to be\n// revisited. See https://github.com/vercel/next.js/pull/89478 for more details\n//\n// function createPrefetchCommentStream(\n//   isBuildTimePrerendering: boolean,\n//   buildId: string\n// ): TransformStream<Uint8Array, Uint8Array> {\n//   // Insert an extra comment at the beginning of the HTML document. This must\n//   // come after the DOCTYPE, which is inserted by React.\n//   //\n//   // The first chunk sent by React will contain the doctype. After that, we can\n//   // pass through the rest of the chunks as-is.\n//   let didTransformFirstChunk = false\n//   return new TransformStream({\n//     transform(chunk, controller) {\n//       if (isBuildTimePrerendering && !didTransformFirstChunk) {\n//         didTransformFirstChunk = true\n//         const decoder = new TextDecoder('utf-8', { fatal: true })\n//         const chunkStr = decoder.decode(chunk, {\n//           stream: true,\n//         })\n//         const updatedChunkStr = insertBuildIdComment(chunkStr, buildId)\n//         controller.enqueue(encoder.encode(updatedChunkStr))\n//         return\n//       }\n//       controller.enqueue(chunk)\n//     },\n//   })\n// }\n\nexport function renderToInitialFizzStream({\n  ReactDOMServer,\n  element,\n  streamOptions,\n}: {\n  ReactDOMServer: {\n    renderToReadableStream: typeof import('react-dom/server').renderToReadableStream\n  }\n  element: React.ReactElement\n  streamOptions?: Parameters<typeof ReactDOMServer.renderToReadableStream>[1]\n}): Promise<ReactDOMServerReadableStream> {\n  return getTracer().trace(AppRenderSpan.renderToReadableStream, async () =>\n    ReactDOMServer.renderToReadableStream(element, streamOptions)\n  )\n}\n\nfunction createMetadataTransformStream(\n  insert: () => Promise<string> | string\n): TransformStream<Uint8Array, Uint8Array> {\n  let chunkIndex = -1\n  let isMarkRemoved = false\n\n  return new TransformStream({\n    async transform(chunk, controller) {\n      let iconMarkIndex = -1\n      let closedHeadIndex = -1\n      chunkIndex++\n\n      if (isMarkRemoved) {\n        controller.enqueue(chunk)\n        return\n      }\n      let iconMarkLength = 0\n      // Only search for the closed head tag once\n      if (iconMarkIndex === -1) {\n        iconMarkIndex = indexOfUint8Array(chunk, ENCODED_TAGS.META.ICON_MARK)\n        if (iconMarkIndex === -1) {\n          controller.enqueue(chunk)\n          return\n        } else {\n          // When we found the `<meta name=\"«nxt-icon»\"` tag prefix, we will remove it from the chunk.\n          // Its close tag could either be `/>` or `>`, checking the next char to ensure we cover both cases.\n          iconMarkLength = ENCODED_TAGS.META.ICON_MARK.length\n          // Check if next char is /, this is for xml mode.\n          if (chunk[iconMarkIndex + iconMarkLength] === 47) {\n            iconMarkLength += 2\n          } else {\n            // The last char is `>`\n            iconMarkLength++\n          }\n        }\n      }\n\n      // Check if icon mark is inside <head> tag in the first chunk.\n      if (chunkIndex === 0) {\n        closedHeadIndex = indexOfUint8Array(chunk, ENCODED_TAGS.CLOSED.HEAD)\n        if (iconMarkIndex !== -1) {\n          // The mark icon is located in the 1st chunk before the head tag.\n          // We do not need to insert the script tag in this case because it's in the head.\n          // Just remove the icon mark from the chunk.\n          if (iconMarkIndex < closedHeadIndex) {\n            const replaced = new Uint8Array(chunk.length - iconMarkLength)\n\n            // Remove the icon mark from the chunk.\n            replaced.set(chunk.subarray(0, iconMarkIndex))\n            replaced.set(\n              chunk.subarray(iconMarkIndex + iconMarkLength),\n              iconMarkIndex\n            )\n            chunk = replaced\n          } else {\n            // The icon mark is after the head tag, replace and insert the script tag at that position.\n            const insertion = await insert()\n            const encodedInsertion = encoder.encode(insertion)\n            const insertionLength = encodedInsertion.length\n            const replaced = new Uint8Array(\n              chunk.length - iconMarkLength + insertionLength\n            )\n            replaced.set(chunk.subarray(0, iconMarkIndex))\n            replaced.set(encodedInsertion, iconMarkIndex)\n            replaced.set(\n              chunk.subarray(iconMarkIndex + iconMarkLength),\n              iconMarkIndex + insertionLength\n            )\n            chunk = replaced\n          }\n          isMarkRemoved = true\n        }\n        // If there's no icon mark located, it will be handled later when if present in the following chunks.\n      } else {\n        // When it's appeared in the following chunks, we'll need to\n        // remove the mark and then insert the script tag at that position.\n        const insertion = await insert()\n        const encodedInsertion = encoder.encode(insertion)\n        const insertionLength = encodedInsertion.length\n        // Replace the icon mark with the hoist script or empty string.\n        const replaced = new Uint8Array(\n          chunk.length - iconMarkLength + insertionLength\n        )\n        // Set the first part of the chunk, before the icon mark.\n        replaced.set(chunk.subarray(0, iconMarkIndex))\n        // Set the insertion after the icon mark.\n        replaced.set(encodedInsertion, iconMarkIndex)\n\n        // Set the rest of the chunk after the icon mark.\n        replaced.set(\n          chunk.subarray(iconMarkIndex + iconMarkLength),\n          iconMarkIndex + insertionLength\n        )\n        chunk = replaced\n        isMarkRemoved = true\n      }\n      controller.enqueue(chunk)\n    },\n  })\n}\n\nfunction createHeadInsertionTransformStream(\n  insert: () => Promise<string>\n): TransformStream<Uint8Array, Uint8Array> {\n  let inserted = false\n\n  // We need to track if this transform saw any bytes because if it didn't\n  // we won't want to insert any server HTML at all\n  let hasBytes = false\n\n  return new TransformStream({\n    async transform(chunk, controller) {\n      hasBytes = true\n\n      const insertion = await insert()\n      if (inserted) {\n        if (insertion) {\n          const encodedInsertion = encoder.encode(insertion)\n          controller.enqueue(encodedInsertion)\n        }\n        controller.enqueue(chunk)\n      } else {\n        // TODO (@Ethan-Arrowood): Replace the generic `indexOfUint8Array` method with something finely tuned for the subset of things actually being checked for.\n        const index = indexOfUint8Array(chunk, ENCODED_TAGS.CLOSED.HEAD)\n        // In fully static rendering or non PPR rendering cases:\n        // `/head>` will always be found in the chunk in first chunk rendering.\n        if (index !== -1) {\n          if (insertion) {\n            const encodedInsertion = encoder.encode(insertion)\n            // Get the total count of the bytes in the chunk and the insertion\n            // e.g.\n            // chunk = <head><meta charset=\"utf-8\"></head>\n            // insertion = <script>...</script>\n            // output = <head><meta charset=\"utf-8\"> [ <script>...</script> ] </head>\n            const insertedHeadContent = new Uint8Array(\n              chunk.length + encodedInsertion.length\n            )\n            // Append the first part of the chunk, before the head tag\n            insertedHeadContent.set(chunk.slice(0, index))\n            // Append the server inserted content\n            insertedHeadContent.set(encodedInsertion, index)\n            // Append the rest of the chunk\n            insertedHeadContent.set(\n              chunk.slice(index),\n              index + encodedInsertion.length\n            )\n            controller.enqueue(insertedHeadContent)\n          } else {\n            controller.enqueue(chunk)\n          }\n          inserted = true\n        } else {\n          // This will happens in PPR rendering during next start, when the page is partially rendered.\n          // When the page resumes, the head tag will be found in the middle of the chunk.\n          // Where we just need to append the insertion and chunk to the current stream.\n          // e.g.\n          // PPR-static: <head>...</head><body> [ resume content ] </body>\n          // PPR-resume: [ insertion ] [ rest content ]\n          if (insertion) {\n            controller.enqueue(encoder.encode(insertion))\n          }\n          controller.enqueue(chunk)\n          inserted = true\n        }\n      }\n    },\n    async flush(controller) {\n      // Check before closing if there's anything remaining to insert.\n      if (hasBytes) {\n        const insertion = await insert()\n        if (insertion) {\n          controller.enqueue(encoder.encode(insertion))\n        }\n      }\n    },\n  })\n}\n\nfunction createClientResumeScriptInsertionTransformStream(): TransformStream<\n  Uint8Array,\n  Uint8Array\n> {\n  const segmentPath = '/_full'\n  const cacheBustingHeader = computeCacheBustingSearchParam(\n    '1', //            headers[NEXT_ROUTER_PREFETCH_HEADER]\n    '/_full', //       headers[NEXT_ROUTER_SEGMENT_PREFETCH_HEADER]\n    undefined, //      headers[NEXT_ROUTER_STATE_TREE_HEADER]\n    undefined //       headers[NEXT_URL]\n  )\n  const searchStr = `${NEXT_RSC_UNION_QUERY}=${cacheBustingHeader}`\n  const NEXT_CLIENT_RESUME_SCRIPT = `<script>__NEXT_CLIENT_RESUME=fetch(location.pathname+'?${searchStr}',{credentials:'same-origin',headers:{'${RSC_HEADER}': '1','${NEXT_ROUTER_PREFETCH_HEADER}': '1','${NEXT_ROUTER_SEGMENT_PREFETCH_HEADER}': '${segmentPath}'}})</script>`\n\n  let didAlreadyInsert = false\n  return new TransformStream({\n    transform(chunk, controller) {\n      if (didAlreadyInsert) {\n        // Already inserted the script into the head. Pass through.\n        controller.enqueue(chunk)\n        return\n      }\n      // TODO (@Ethan-Arrowood): Replace the generic `indexOfUint8Array` method with something finely tuned for the subset of things actually being checked for.\n      const headClosingTagIndex = indexOfUint8Array(\n        chunk,\n        ENCODED_TAGS.CLOSED.HEAD\n      )\n\n      if (headClosingTagIndex === -1) {\n        // In fully static rendering or non PPR rendering cases:\n        // `/head>` will always be found in the chunk in first chunk rendering.\n        controller.enqueue(chunk)\n        return\n      }\n\n      const encodedInsertion = encoder.encode(NEXT_CLIENT_RESUME_SCRIPT)\n      // Get the total count of the bytes in the chunk and the insertion\n      // e.g.\n      // chunk = <head><meta charset=\"utf-8\"></head>\n      // insertion = <script>...</script>\n      // output = <head><meta charset=\"utf-8\"> [ <script>...</script> ] </head>\n      const insertedHeadContent = new Uint8Array(\n        chunk.length + encodedInsertion.length\n      )\n      // Append the first part of the chunk, before the head tag\n      insertedHeadContent.set(chunk.slice(0, headClosingTagIndex))\n      // Append the server inserted content\n      insertedHeadContent.set(encodedInsertion, headClosingTagIndex)\n      // Append the rest of the chunk\n      insertedHeadContent.set(\n        chunk.slice(headClosingTagIndex),\n        headClosingTagIndex + encodedInsertion.length\n      )\n\n      controller.enqueue(insertedHeadContent)\n      didAlreadyInsert = true\n    },\n  })\n}\n\n// Suffix after main body content - scripts before </body>,\n// but wait for the major chunks to be enqueued.\nfunction createDeferredSuffixStream(\n  suffix: string\n): TransformStream<Uint8Array, Uint8Array> {\n  let flushed = false\n  let pending: DetachedPromise<void> | undefined\n\n  const flush = (controller: TransformStreamDefaultController) => {\n    const detached = new DetachedPromise<void>()\n    pending = detached\n\n    scheduleImmediate(() => {\n      try {\n        controller.enqueue(encoder.encode(suffix))\n      } catch {\n        // If an error occurs while enqueuing it can't be due to this\n        // transformers fault. It's likely due to the controller being\n        // errored due to the stream being cancelled.\n      } finally {\n        pending = undefined\n        detached.resolve()\n      }\n    })\n  }\n\n  return new TransformStream({\n    transform(chunk, controller) {\n      controller.enqueue(chunk)\n\n      // If we've already flushed, we're done.\n      if (flushed) return\n\n      // Schedule the flush to happen.\n      flushed = true\n      flush(controller)\n    },\n    flush(controller) {\n      if (pending) return pending.promise\n      if (flushed) return\n\n      // Flush now.\n      controller.enqueue(encoder.encode(suffix))\n    },\n  })\n}\n\nfunction createFlightDataInjectionTransformStream(\n  stream: ReadableStream<Uint8Array>,\n  delayDataUntilFirstHtmlChunk: boolean\n): TransformStream<Uint8Array, Uint8Array> {\n  let htmlStreamFinished = false\n\n  let pull: Promise<void> | null = null\n  let donePulling = false\n\n  function startOrContinuePulling(\n    controller: TransformStreamDefaultController\n  ) {\n    if (!pull) {\n      pull = startPulling(controller)\n    }\n    return pull\n  }\n\n  async function startPulling(controller: TransformStreamDefaultController) {\n    const reader = stream.getReader()\n\n    if (delayDataUntilFirstHtmlChunk) {\n      // NOTE: streaming flush\n      // We are buffering here for the inlined data stream because the\n      // \"shell\" stream might be chunkenized again by the underlying stream\n      // implementation, e.g. with a specific high-water mark. To ensure it's\n      // the safe timing to pipe the data stream, this extra tick is\n      // necessary.\n\n      // We don't start reading until we've left the current Task to ensure\n      // that it's inserted after flushing the shell. Note that this implementation\n      // might get stale if impl details of Fizz change in the future.\n      await atLeastOneTask()\n    }\n\n    try {\n      while (true) {\n        const { done, value } = await reader.read()\n        if (done) {\n          donePulling = true\n          return\n        }\n\n        // We want to prioritize HTML over RSC data.\n        // The SSR render is based on the same RSC stream, so when we get a new RSC chunk,\n        // we're likely to produce an HTML chunk as well, so give it a chance to flush first.\n        if (!delayDataUntilFirstHtmlChunk && !htmlStreamFinished) {\n          await atLeastOneTask()\n        }\n        controller.enqueue(value)\n      }\n    } catch (err) {\n      controller.error(err)\n    }\n  }\n\n  return new TransformStream({\n    start(controller) {\n      if (!delayDataUntilFirstHtmlChunk) {\n        startOrContinuePulling(controller)\n      }\n    },\n    transform(chunk, controller) {\n      controller.enqueue(chunk)\n\n      // Start the streaming if it hasn't already been started yet.\n      if (delayDataUntilFirstHtmlChunk) {\n        startOrContinuePulling(controller)\n      }\n    },\n    flush(controller) {\n      htmlStreamFinished = true\n      if (donePulling) {\n        return\n      }\n      return startOrContinuePulling(controller)\n    },\n  })\n}\n\nconst CLOSE_TAG = '</body></html>'\n\n/**\n * This transform stream moves the suffix to the end of the stream, so results\n * like `</body></html><script>...</script>` will be transformed to\n * `<script>...</script></body></html>`.\n */\nfunction createMoveSuffixStream(): TransformStream<Uint8Array, Uint8Array> {\n  let foundSuffix = false\n\n  return new TransformStream({\n    transform(chunk, controller) {\n      if (foundSuffix) {\n        return controller.enqueue(chunk)\n      }\n\n      const index = indexOfUint8Array(chunk, ENCODED_TAGS.CLOSED.BODY_AND_HTML)\n      if (index > -1) {\n        foundSuffix = true\n\n        // If the whole chunk is the suffix, then don't write anything, it will\n        // be written in the flush.\n        if (chunk.length === ENCODED_TAGS.CLOSED.BODY_AND_HTML.length) {\n          return\n        }\n\n        // Write out the part before the suffix.\n        const before = chunk.slice(0, index)\n        controller.enqueue(before)\n\n        // In the case where the suffix is in the middle of the chunk, we need\n        // to split the chunk into two parts.\n        if (chunk.length > ENCODED_TAGS.CLOSED.BODY_AND_HTML.length + index) {\n          // Write out the part after the suffix.\n          const after = chunk.slice(\n            index + ENCODED_TAGS.CLOSED.BODY_AND_HTML.length\n          )\n          controller.enqueue(after)\n        }\n      } else {\n        controller.enqueue(chunk)\n      }\n    },\n    flush(controller) {\n      // Even if we didn't find the suffix, the HTML is not valid if we don't\n      // add it, so insert it at the end.\n      controller.enqueue(ENCODED_TAGS.CLOSED.BODY_AND_HTML)\n    },\n  })\n}\n\nfunction createStripDocumentClosingTagsTransform(): TransformStream<\n  Uint8Array,\n  Uint8Array\n> {\n  return new TransformStream({\n    transform(chunk, controller) {\n      // We rely on the assumption that chunks will never break across a code unit.\n      // This is reasonable because we currently concat all of React's output from a single\n      // flush into one chunk before streaming it forward which means the chunk will represent\n      // a single coherent utf-8 string. This is not safe to use if we change our streaming to no\n      // longer do this large buffered chunk\n      if (\n        isEquivalentUint8Arrays(chunk, ENCODED_TAGS.CLOSED.BODY_AND_HTML) ||\n        isEquivalentUint8Arrays(chunk, ENCODED_TAGS.CLOSED.BODY) ||\n        isEquivalentUint8Arrays(chunk, ENCODED_TAGS.CLOSED.HTML)\n      ) {\n        // the entire chunk is the closing tags; return without enqueueing anything.\n        return\n      }\n\n      // We assume these tags will go at together at the end of the document and that\n      // they won't appear anywhere else in the document. This is not really a safe assumption\n      // but until we revamp our streaming infra this is a performant way to string the tags\n      chunk = removeFromUint8Array(chunk, ENCODED_TAGS.CLOSED.BODY)\n      chunk = removeFromUint8Array(chunk, ENCODED_TAGS.CLOSED.HTML)\n\n      controller.enqueue(chunk)\n    },\n  })\n}\n\nfunction createHtmlDataDplIdTransformStream(\n  dplId: string\n): TransformStream<Uint8Array, Uint8Array> {\n  let didTransform = false\n\n  return new TransformStream({\n    transform(chunk, controller) {\n      if (didTransform) {\n        controller.enqueue(chunk)\n        return\n      }\n\n      const htmlTagIndex = indexOfUint8Array(chunk, ENCODED_TAGS.OPENING.HTML)\n      if (htmlTagIndex === -1) {\n        controller.enqueue(chunk)\n        return\n      }\n\n      // Insert the data-dpl-id attribute right after \"<html \"\n      const insertionPoint = htmlTagIndex + ENCODED_TAGS.OPENING.HTML.length\n      const attribute = ` data-dpl-id=\"${dplId}\"`\n      const encodedAttribute = encoder.encode(attribute)\n      const modifiedChunk = new Uint8Array(\n        chunk.length + encodedAttribute.length\n      )\n\n      // Copy everything before the insertion point\n      modifiedChunk.set(chunk.subarray(0, insertionPoint))\n      // Insert the attribute\n      modifiedChunk.set(encodedAttribute, insertionPoint)\n      // Copy everything after\n      modifiedChunk.set(\n        chunk.subarray(insertionPoint),\n        insertionPoint + encodedAttribute.length\n      )\n\n      controller.enqueue(modifiedChunk)\n      didTransform = true\n    },\n  })\n}\n\n/*\n * Checks if the root layout is missing the html or body tags\n * and if so, it will inject a script tag to throw an error in the browser, showing the user\n * the error message in the error overlay.\n */\nexport function createRootLayoutValidatorStream(): TransformStream<\n  Uint8Array,\n  Uint8Array\n> {\n  let foundHtml = false\n  let foundBody = false\n  return new TransformStream({\n    async transform(chunk, controller) {\n      // Peek into the streamed chunk to see if the tags are present.\n      if (\n        !foundHtml &&\n        indexOfUint8Array(chunk, ENCODED_TAGS.OPENING.HTML) > -1\n      ) {\n        foundHtml = true\n      }\n\n      if (\n        !foundBody &&\n        indexOfUint8Array(chunk, ENCODED_TAGS.OPENING.BODY) > -1\n      ) {\n        foundBody = true\n      }\n\n      controller.enqueue(chunk)\n    },\n    flush(controller) {\n      const missingTags: ('html' | 'body')[] = []\n      if (!foundHtml) missingTags.push('html')\n      if (!foundBody) missingTags.push('body')\n\n      if (!missingTags.length) return\n\n      controller.enqueue(\n        encoder.encode(\n          `<html id=\"__next_error__\">\n            <template\n              data-next-error-message=\"Missing ${missingTags\n                .map((c) => `<${c}>`)\n                .join(\n                  missingTags.length > 1 ? ' and ' : ''\n                )} tags in the root layout.\\nRead more at https://nextjs.org/docs/messages/missing-root-layout-tags\"\n              data-next-error-digest=\"${MISSING_ROOT_TAGS_ERROR}\"\n              data-next-error-stack=\"\"\n            ></template>\n          `\n        )\n      )\n    },\n  })\n}\n\nfunction chainTransformers<T>(\n  readable: ReadableStream<T>,\n  transformers: ReadonlyArray<TransformStream<T, T> | null>\n): ReadableStream<T> {\n  let stream = readable\n  for (const transformer of transformers) {\n    if (!transformer) continue\n\n    stream = stream.pipeThrough(transformer)\n  }\n  return stream\n}\n\nexport type ContinueStreamOptions = {\n  inlinedDataStream: ReadableStream<Uint8Array> | undefined\n  isStaticGeneration: boolean\n  deploymentId: string | undefined\n  getServerInsertedHTML: () => Promise<string>\n  getServerInsertedMetadata: () => Promise<string>\n  validateRootLayout?: boolean\n  /**\n   * Suffix to inject after the buffered data, but before the close tags.\n   */\n  suffix?: string | undefined\n}\n\nexport async function continueFizzStream(\n  renderStream: ReactDOMServerReadableStream,\n  {\n    suffix,\n    inlinedDataStream,\n    isStaticGeneration,\n    deploymentId,\n    getServerInsertedHTML,\n    getServerInsertedMetadata,\n    validateRootLayout,\n  }: ContinueStreamOptions\n): Promise<ReadableStream<Uint8Array>> {\n  // Suffix itself might contain close tags at the end, so we need to split it.\n  const suffixUnclosed = suffix ? suffix.split(CLOSE_TAG, 1)[0] : null\n\n  if (isStaticGeneration) {\n    // If we're generating static HTML we need to wait for it to resolve before continuing.\n    await renderStream.allReady\n  } else {\n    // Otherwise, we want to make sure Fizz is done with all microtasky work\n    // before we start pulling the stream and cause a flush.\n    await waitAtLeastOneReactRenderTask()\n  }\n\n  return chainTransformers(renderStream, [\n    // Buffer everything to avoid flushing too frequently\n    createBufferedTransformStream(),\n\n    // Insert data-dpl-id attribute on the html tag\n    deploymentId ? createHtmlDataDplIdTransformStream(deploymentId) : null,\n\n    // Transform metadata\n    createMetadataTransformStream(getServerInsertedMetadata),\n\n    // Insert suffix content\n    suffixUnclosed != null && suffixUnclosed.length > 0\n      ? createDeferredSuffixStream(suffixUnclosed)\n      : null,\n\n    // Insert the inlined data (Flight data, form state, etc.) stream into the HTML\n    inlinedDataStream\n      ? createFlightDataInjectionTransformStream(inlinedDataStream, true)\n      : null,\n\n    // Validate the root layout for missing html or body tags\n    validateRootLayout ? createRootLayoutValidatorStream() : null,\n\n    // Close tags should always be deferred to the end\n    createMoveSuffixStream(),\n\n    // Special head insertions\n    // TODO-APP: Insert server side html to end of head in app layout rendering, to avoid\n    // hydration errors. Remove this once it's ready to be handled by react itself.\n    createHeadInsertionTransformStream(getServerInsertedHTML),\n  ])\n}\n\ntype ContinueDynamicPrerenderOptions = {\n  getServerInsertedHTML: () => Promise<string>\n  getServerInsertedMetadata: () => Promise<string>\n  deploymentId: string | undefined\n}\n\nexport async function continueDynamicPrerender(\n  prerenderStream: ReadableStream<Uint8Array>,\n  {\n    getServerInsertedHTML,\n    getServerInsertedMetadata,\n    deploymentId,\n  }: ContinueDynamicPrerenderOptions\n) {\n  return chainTransformers(prerenderStream, [\n    // Buffer everything to avoid flushing too frequently\n    createBufferedTransformStream(),\n    createStripDocumentClosingTagsTransform(),\n    // Insert data-dpl-id attribute on the html tag\n    deploymentId ? createHtmlDataDplIdTransformStream(deploymentId) : null,\n    // Insert generated tags to head\n    createHeadInsertionTransformStream(getServerInsertedHTML),\n    // Transform metadata\n    createMetadataTransformStream(getServerInsertedMetadata),\n  ])\n}\n\ntype ContinueStaticPrerenderOptions = {\n  inlinedDataStream: ReadableStream<Uint8Array>\n  getServerInsertedHTML: () => Promise<string>\n  getServerInsertedMetadata: () => Promise<string>\n  deploymentId: string | undefined\n}\n\nexport async function continueStaticPrerender(\n  prerenderStream: ReadableStream<Uint8Array>,\n  {\n    inlinedDataStream,\n    getServerInsertedHTML,\n    getServerInsertedMetadata,\n    deploymentId,\n  }: ContinueStaticPrerenderOptions\n) {\n  return chainTransformers(prerenderStream, [\n    // Buffer everything to avoid flushing too frequently\n    createBufferedTransformStream(),\n    // Add build id comment to start of the HTML document (in export mode)\n    // Insert data-dpl-id attribute on the html tag\n    deploymentId ? createHtmlDataDplIdTransformStream(deploymentId) : null,\n    // Insert generated tags to head\n    createHeadInsertionTransformStream(getServerInsertedHTML),\n    // Transform metadata\n    createMetadataTransformStream(getServerInsertedMetadata),\n    // Insert the inlined data (Flight data, form state, etc.) stream into the HTML\n    createFlightDataInjectionTransformStream(inlinedDataStream, true),\n    // Close tags should always be deferred to the end\n    createMoveSuffixStream(),\n  ])\n}\n\nexport async function continueStaticFallbackPrerender(\n  prerenderStream: ReadableStream<Uint8Array>,\n  {\n    inlinedDataStream,\n    getServerInsertedHTML,\n    getServerInsertedMetadata,\n    deploymentId,\n  }: ContinueStaticPrerenderOptions\n) {\n  // Same as `continueStaticPrerender`, but also inserts an additional script\n  // to instruct the client to start fetching the hydration data as early\n  // as possible.\n  return chainTransformers(prerenderStream, [\n    // Buffer everything to avoid flushing too frequently\n    createBufferedTransformStream(),\n    // Insert data-dpl-id attribute on the html tag\n    deploymentId ? createHtmlDataDplIdTransformStream(deploymentId) : null,\n    // Insert generated tags to head\n    createHeadInsertionTransformStream(getServerInsertedHTML),\n    // Insert the client resume script into the head\n    createClientResumeScriptInsertionTransformStream(),\n    // Transform metadata\n    createMetadataTransformStream(getServerInsertedMetadata),\n    // Insert the inlined data (Flight data, form state, etc.) stream into the HTML\n    createFlightDataInjectionTransformStream(inlinedDataStream, true),\n    // Close tags should always be deferred to the end\n    createMoveSuffixStream(),\n  ])\n}\n\ntype ContinueResumeOptions = {\n  inlinedDataStream: ReadableStream<Uint8Array>\n  getServerInsertedHTML: () => Promise<string>\n  getServerInsertedMetadata: () => Promise<string>\n  delayDataUntilFirstHtmlChunk: boolean\n  deploymentId: string | undefined\n}\n\nexport async function continueDynamicHTMLResume(\n  renderStream: ReadableStream<Uint8Array>,\n  {\n    delayDataUntilFirstHtmlChunk,\n    inlinedDataStream,\n    getServerInsertedHTML,\n    getServerInsertedMetadata,\n    deploymentId,\n  }: ContinueResumeOptions\n) {\n  return chainTransformers(renderStream, [\n    // Buffer everything to avoid flushing too frequently\n    createBufferedTransformStream(),\n    // Insert data-dpl-id attribute on the html tag\n    deploymentId ? createHtmlDataDplIdTransformStream(deploymentId) : null,\n    // Insert generated tags to head\n    createHeadInsertionTransformStream(getServerInsertedHTML),\n    // Transform metadata\n    createMetadataTransformStream(getServerInsertedMetadata),\n    // Insert the inlined data (Flight data, form state, etc.) stream into the HTML\n    createFlightDataInjectionTransformStream(\n      inlinedDataStream,\n      delayDataUntilFirstHtmlChunk\n    ),\n    // Close tags should always be deferred to the end\n    createMoveSuffixStream(),\n  ])\n}\n\nexport function createDocumentClosingStream(): ReadableStream<Uint8Array> {\n  return streamFromString(CLOSE_TAG)\n}\n","export type ScheduledFn<T = void> = () => T | PromiseLike<T>\nexport type SchedulerFn<T = void> = (cb: ScheduledFn<T>) => void\n\n/**\n * Schedules a function to be called on the next tick after the other promises\n * have been resolved.\n *\n * @param cb the function to schedule\n */\nexport const scheduleOnNextTick = (cb: ScheduledFn<void>) => {\n  // We use Promise.resolve().then() here so that the operation is scheduled at\n  // the end of the promise job queue, we then add it to the next process tick\n  // to ensure it's evaluated afterwards.\n  //\n  // This was inspired by the implementation of the DataLoader interface: https://github.com/graphql/dataloader/blob/d336bd15282664e0be4b4a657cb796f09bafbc6b/src/index.js#L213-L255\n  //\n  Promise.resolve().then(() => {\n    if (process.env.NEXT_RUNTIME === 'edge') {\n      setTimeout(cb, 0)\n    } else {\n      process.nextTick(cb)\n    }\n  })\n}\n\n/**\n * Schedules a function to be called using `setImmediate` or `setTimeout` if\n * `setImmediate` is not available (like in the Edge runtime).\n *\n * @param cb the function to schedule\n */\nexport const scheduleImmediate = (cb: ScheduledFn<void>): void => {\n  if (process.env.NEXT_RUNTIME === 'edge') {\n    setTimeout(cb, 0)\n  } else {\n    setImmediate(cb)\n  }\n}\n\n/**\n * returns a promise than resolves in a future task. There is no guarantee that the task it resolves in\n * will be the next task but if you await it you can at least be sure that the current task is over and\n * most usefully that the entire microtask queue of the current task has been emptied.\n */\nexport function atLeastOneTask() {\n  return new Promise<void>((resolve) => scheduleImmediate(resolve))\n}\n\n/**\n * This utility function is extracted to make it easier to find places where we are doing\n * specific timing tricks to try to schedule work after React has rendered. This is especially\n * important at the moment because Next.js uses the edge builds of React which use setTimeout to\n * schedule work when you might expect that something like setImmediate would do the trick.\n *\n * Long term we should switch to the node versions of React rendering when possible and then\n * update this to use setImmediate rather than setTimeout\n */\nexport function waitAtLeastOneReactRenderTask(): Promise<void> {\n  if (process.env.NEXT_RUNTIME === 'edge') {\n    return new Promise((r) => setTimeout(r, 0))\n  } else {\n    return new Promise((r) => setImmediate(r))\n  }\n}\n","import type { IncomingMessage } from 'http'\nimport type { ParsedUrlQuery } from 'querystring'\nimport type { BaseNextRequest } from './base-http'\nimport type { CloneableBody } from './body-streams'\nimport type { RouteMatch } from './route-matches/route-match'\nimport type { NEXT_RSC_UNION_QUERY } from '../client/components/app-router-headers'\nimport type {\n  ResponseCacheEntry,\n  ServerComponentsHmrCache,\n} from './response-cache'\nimport type { PagesDevOverlayBridgeType } from '../next-devtools/userspace/pages/pages-dev-overlay-setup'\nimport type { OpaqueFallbackRouteParams } from './request/fallback-params'\nimport type { IncrementalCache } from './lib/incremental-cache'\nimport type { NextRequest } from './web/exports'\n\n// FIXME: (wyattjoh) this is a temporary solution to allow us to pass data between bundled modules\nexport const NEXT_REQUEST_META = Symbol.for('NextInternalRequestMeta')\n\nexport type NextIncomingMessage = (\n  | BaseNextRequest\n  | IncomingMessage\n  | NextRequest\n) & {\n  [NEXT_REQUEST_META]?: RequestMeta\n}\n\n/**\n * The callback function to call when a response cache entry was generated or\n * looked up in the cache. When it returns true, the server assumes that the\n * handler has already responded to the request and will not do so itself.\n */\nexport type OnCacheEntryHandler = (\n  /**\n   * The response cache entry that was generated or looked up in the cache.\n   */\n  cacheEntry: ResponseCacheEntry,\n\n  /**\n   * The request metadata.\n   */\n  requestMeta: {\n    /**\n     * The URL that was used to make the request.\n     */\n    url: string | undefined\n  }\n) => Promise<boolean | void> | boolean | void\n\nexport interface RequestMeta {\n  /**\n   * The query that was used to make the request.\n   */\n  initQuery?: ParsedUrlQuery\n\n  /**\n   * The URL that was used to make the request.\n   */\n  initURL?: string\n\n  /**\n   * The protocol that was used to make the request.\n   */\n  initProtocol?: string\n\n  /**\n   * The body that was read from the request. This is used to allow the body to\n   * be read multiple times.\n   */\n  clonableBody?: CloneableBody\n\n  /**\n   * True when the request matched a locale domain that was configured in the\n   * next.config.js file.\n   */\n  isLocaleDomain?: boolean\n\n  /**\n   * True when the request had locale information stripped from the pathname\n   * part of the URL.\n   */\n  didStripLocale?: boolean\n\n  /**\n   * If the request had its URL rewritten, this is the pathname it was rewritten\n   * to (not a full URL, just the pathname).\n   */\n  rewrittenPathname?: string\n\n  /**\n   * The resolved pathname for the request. Dynamic route params are\n   * interpolated, the pathname is decoded, and the trailing slash is removed.\n   */\n  resolvedPathname?: string\n\n  /**\n   * The cookies that were added by middleware and were added to the response.\n   */\n  middlewareCookie?: string[]\n\n  /**\n   * The match on the request for a given route.\n   */\n  match?: RouteMatch\n\n  /**\n   * The incremental cache to use for the request.\n   */\n  incrementalCache?: IncrementalCache\n\n  /**\n   * The server components HMR cache, only for dev.\n   */\n  serverComponentsHmrCache?: ServerComponentsHmrCache\n\n  /**\n   * Equals the segment path that was used for the prefetch RSC request.\n   */\n  segmentPrefetchRSCRequest?: string\n\n  /**\n   * True when the request is for the prefetch flight data.\n   */\n  isPrefetchRSCRequest?: true\n\n  /**\n   * True when the request is for the flight data.\n   */\n  isRSCRequest?: true\n\n  /**\n   * A search param set by the Next.js client when performing RSC requests.\n   * Because some CDNs do not vary their cache entries on our custom headers,\n   * this search param represents a hash of the header values. For any cached\n   * RSC request, we should verify that the hash matches before responding.\n   * Otherwise this can lead to cache poisoning.\n   * TODO: Consider not using custom request headers at all, and instead encode\n   * everything into the search param.\n   */\n  cacheBustingSearchParam?: string\n\n  /**\n   * True when the request is for the `/_next/data` route using the pages\n   * router.\n   */\n  isNextDataReq?: true\n\n  /**\n   * Postponed state to use for resumption. If present it's assumed that the\n   * request is for a page that has postponed (there are no guarantees that the\n   * page actually has postponed though as it would incur an additional cache\n   * lookup).\n   */\n  postponed?: string\n\n  /**\n   * The action body extracted from a server action request when the postponed\n   * state was prepended to the body by the proxy. This allows the action\n   * handler to read the action payload without re-reading the consumed stream.\n   */\n  actionBody?: Buffer\n\n  /**\n   * If provided, this will be called when a response cache entry was generated\n   * or looked up in the cache.\n   *\n   * @deprecated Use `onCacheEntryV2` instead.\n   */\n  onCacheEntry?: OnCacheEntryHandler\n\n  /**\n   * If provided, this will be called when a response cache entry was generated\n   * or looked up in the cache.\n   */\n  onCacheEntryV2?: OnCacheEntryHandler\n\n  /**\n   * The previous revalidate before rendering 404 page for notFound: true\n   */\n  notFoundRevalidate?: number | false\n\n  /**\n   * In development, the original source page that returned a 404.\n   */\n  developmentNotFoundSourcePage?: string\n\n  /**\n   * The path we routed to and should be invoked\n   */\n  invokePath?: string\n\n  /**\n   * The specific page output we should be matching\n   */\n  invokeOutput?: string\n\n  /**\n   * The status we are invoking the request with from routing\n   */\n  invokeStatus?: number\n\n  /**\n   * The routing error we are invoking with\n   */\n  invokeError?: Error\n\n  /**\n   * The query parsed for the invocation\n   */\n  invokeQuery?: Record<string, undefined | string | string[]>\n\n  /**\n   * Whether the request is a middleware invocation\n   */\n  middlewareInvoke?: boolean\n\n  /**\n   * Whether the request should render the fallback shell or not.\n   */\n  renderFallbackShell?: boolean\n\n  /**\n   * Whether the request is for the custom error page.\n   */\n  customErrorRender?: true\n\n  /**\n   * Whether to bubble up the NoFallbackError to the caller when a 404 is\n   * returned.\n   */\n  bubbleNoFallback?: true\n\n  /**\n   * True when the request had locale information inferred from the default\n   * locale.\n   */\n  localeInferredFromDefault?: true\n\n  /**\n   * The locale that was inferred or explicitly set for the request.\n   */\n  locale?: string\n\n  /**\n   * The default locale that was inferred or explicitly set for the request.\n   */\n  defaultLocale?: string\n\n  /**\n   * The relative project dir the server is running in from project root\n   */\n  relativeProjectDir?: string\n\n  /**\n   * The dist directory the server is currently using\n   */\n  distDir?: string\n\n  /**\n   * The query after resolving routes\n   */\n  query?: ParsedUrlQuery\n\n  /**\n   * The params after resolving routes\n   */\n  params?: ParsedUrlQuery\n\n  /**\n   * ErrorOverlay component to use in development for pages router\n   */\n  PagesErrorDebug?: PagesDevOverlayBridgeType\n\n  /**\n   * Whether server is in minimal mode (this will be replaced with more\n   * specific flags in future)\n   */\n  minimalMode?: boolean\n\n  /**\n   * DEV only: The fallback params that should be used when validating prerenders during dev\n   */\n  devFallbackParams?: OpaqueFallbackRouteParams\n\n  /**\n   * DEV only: Request timings in process.hrtime.bigint()\n   */\n  devRequestTimingStart?: bigint\n  devRequestTimingMiddlewareStart?: bigint\n  devRequestTimingMiddlewareEnd?: bigint\n  devRequestTimingInternalsEnd?: bigint\n\n  /**\n   * DEV only: The duration of getStaticPaths/generateStaticParams in process.hrtime.bigint()\n   */\n  devGenerateStaticParamsDuration?: bigint\n\n  /**\n   * DEV only: Server action log info to be logged after the request log\n   */\n  devServerActionLog?: {\n    functionName: string\n    args: unknown[]\n    location: string\n    duration: number\n  }\n}\n\n/**\n * Gets the request metadata. If no key is provided, the entire metadata object\n * is returned.\n *\n * @param req the request to get the metadata from\n * @param key the key to get from the metadata (optional)\n * @returns the value for the key or the entire metadata object\n */\nexport function getRequestMeta(\n  req: NextIncomingMessage,\n  key?: undefined\n): RequestMeta\nexport function getRequestMeta<K extends keyof RequestMeta>(\n  req: NextIncomingMessage,\n  key: K\n): RequestMeta[K]\nexport function getRequestMeta<K extends keyof RequestMeta>(\n  req: NextIncomingMessage,\n  key?: K\n): RequestMeta | RequestMeta[K] {\n  const meta = req[NEXT_REQUEST_META] || {}\n  return typeof key === 'string' ? meta[key] : meta\n}\n\n/**\n * Sets the request metadata.\n *\n * @param req the request to set the metadata on\n * @param meta the metadata to set\n * @returns the mutated request metadata\n */\nexport function setRequestMeta(req: NextIncomingMessage, meta: RequestMeta) {\n  req[NEXT_REQUEST_META] = meta\n  return meta\n}\n\n/**\n * Adds a value to the request metadata.\n *\n * @param request the request to mutate\n * @param key the key to set\n * @param value the value to set\n * @returns the mutated request metadata\n */\nexport function addRequestMeta<K extends keyof RequestMeta>(\n  request: NextIncomingMessage,\n  key: K,\n  value: RequestMeta[K]\n) {\n  const meta = getRequestMeta(request)\n  meta[key] = value\n  return setRequestMeta(request, meta)\n}\n\n/**\n * Removes a key from the request metadata.\n *\n * @param request the request to mutate\n * @param key the key to remove\n * @returns the mutated request metadata\n */\nexport function removeRequestMeta<K extends keyof RequestMeta>(\n  request: NextIncomingMessage,\n  key: K\n) {\n  const meta = getRequestMeta(request)\n  delete meta[key]\n  return setRequestMeta(request, meta)\n}\n\ntype NextQueryMetadata = {\n  /**\n   * The `_rsc` query parameter used for cache busting to ensure that the RSC\n   * requests do not get cached by the browser explicitly.\n   */\n  [NEXT_RSC_UNION_QUERY]?: string\n}\n\nexport type NextParsedUrlQuery = ParsedUrlQuery & NextQueryMetadata\n\n/**\n * subset of `url.parse` return value\n */\ninterface LegacyUrl {\n  auth?: string | null\n  hash: string | null\n  hostname: string | null\n  href: string\n  pathname: string | null\n  protocol: string | null\n  search: string | null\n  slashes: boolean | null\n  port: string | null\n  query: string | null | ParsedUrlQuery\n}\ninterface LegacyUrlWithParsedQuery extends LegacyUrl {\n  query: ParsedUrlQuery\n}\n\n// TODO: Remove in favor of WHATWG URLs\nexport interface NextUrlWithParsedQuery extends LegacyUrlWithParsedQuery {\n  query: NextParsedUrlQuery\n}\n","export function detectDomainLocale(domainItems, hostname, detectedLocale) {\n    if (!domainItems) return;\n    if (detectedLocale) {\n        detectedLocale = detectedLocale.toLowerCase();\n    }\n    for (const item of domainItems){\n        // remove port if present\n        const domainHostname = item.domain?.split(':', 1)[0].toLowerCase();\n        if (hostname === domainHostname || detectedLocale === item.defaultLocale.toLowerCase() || item.locales?.some((locale)=>locale.toLowerCase() === detectedLocale)) {\n            return item;\n        }\n    }\n}\n\n//# sourceMappingURL=detect-domain-locale.js.map","/**\n * Removes the trailing slash for a given route or page path. Preserves the\n * root page. Examples:\n *   - `/foo/bar/` -> `/foo/bar`\n *   - `/foo/bar` -> `/foo/bar`\n *   - `/` -> `/`\n */ export function removeTrailingSlash(route) {\n    return route.replace(/\\/$/, '') || '/';\n}\n\n//# sourceMappingURL=remove-trailing-slash.js.map","import { NEXT_INTERCEPTION_MARKER_PREFIX, NEXT_QUERY_PARAM_PREFIX } from '../../lib/constants';\n/**\n * Converts a Node.js IncomingHttpHeaders object to a Headers object. Any\n * headers with multiple values will be joined with a comma and space. Any\n * headers that have an undefined value will be ignored and others will be\n * coerced to strings.\n *\n * @param nodeHeaders the headers object to convert\n * @returns the converted headers object\n */ export function fromNodeOutgoingHttpHeaders(nodeHeaders) {\n    const headers = new Headers();\n    for (let [key, value] of Object.entries(nodeHeaders)){\n        const values = Array.isArray(value) ? value : [\n            value\n        ];\n        for (let v of values){\n            if (typeof v === 'undefined') continue;\n            if (typeof v === 'number') {\n                v = v.toString();\n            }\n            headers.append(key, v);\n        }\n    }\n    return headers;\n}\n/*\n  Set-Cookie header field-values are sometimes comma joined in one string. This splits them without choking on commas\n  that are within a single set-cookie field-value, such as in the Expires portion.\n  This is uncommon, but explicitly allowed - see https://tools.ietf.org/html/rfc2616#section-4.2\n  Node.js does this for every header *except* set-cookie - see https://github.com/nodejs/node/blob/d5e363b77ebaf1caf67cd7528224b651c86815c1/lib/_http_incoming.js#L128\n  React Native's fetch does this for *every* header, including set-cookie.\n  \n  Based on: https://github.com/google/j2objc/commit/16820fdbc8f76ca0c33472810ce0cb03d20efe25\n  Credits to: https://github.com/tomball for original and https://github.com/chrusart for JavaScript implementation\n*/ export function splitCookiesString(cookiesString) {\n    var cookiesStrings = [];\n    var pos = 0;\n    var start;\n    var ch;\n    var lastComma;\n    var nextStart;\n    var cookiesSeparatorFound;\n    function skipWhitespace() {\n        while(pos < cookiesString.length && /\\s/.test(cookiesString.charAt(pos))){\n            pos += 1;\n        }\n        return pos < cookiesString.length;\n    }\n    function notSpecialChar() {\n        ch = cookiesString.charAt(pos);\n        return ch !== '=' && ch !== ';' && ch !== ',';\n    }\n    while(pos < cookiesString.length){\n        start = pos;\n        cookiesSeparatorFound = false;\n        while(skipWhitespace()){\n            ch = cookiesString.charAt(pos);\n            if (ch === ',') {\n                // ',' is a cookie separator if we have later first '=', not ';' or ','\n                lastComma = pos;\n                pos += 1;\n                skipWhitespace();\n                nextStart = pos;\n                while(pos < cookiesString.length && notSpecialChar()){\n                    pos += 1;\n                }\n                // currently special character\n                if (pos < cookiesString.length && cookiesString.charAt(pos) === '=') {\n                    // we found cookies separator\n                    cookiesSeparatorFound = true;\n                    // pos is inside the next cookie, so back up and return it.\n                    pos = nextStart;\n                    cookiesStrings.push(cookiesString.substring(start, lastComma));\n                    start = pos;\n                } else {\n                    // in param ',' or param separator ';',\n                    // we continue from that comma\n                    pos = lastComma + 1;\n                }\n            } else {\n                pos += 1;\n            }\n        }\n        if (!cookiesSeparatorFound || pos >= cookiesString.length) {\n            cookiesStrings.push(cookiesString.substring(start, cookiesString.length));\n        }\n    }\n    return cookiesStrings;\n}\n/**\n * Converts a Headers object to a Node.js OutgoingHttpHeaders object. This is\n * required to support the set-cookie header, which may have multiple values.\n *\n * @param headers the headers object to convert\n * @returns the converted headers object\n */ export function toNodeOutgoingHttpHeaders(headers) {\n    const nodeHeaders = {};\n    const cookies = [];\n    if (headers) {\n        for (const [key, value] of headers.entries()){\n            if (key.toLowerCase() === 'set-cookie') {\n                // We may have gotten a comma joined string of cookies, or multiple\n                // set-cookie headers. We need to merge them into one header array\n                // to represent all the cookies.\n                cookies.push(...splitCookiesString(value));\n                nodeHeaders[key] = cookies.length === 1 ? cookies[0] : cookies;\n            } else {\n                nodeHeaders[key] = value;\n            }\n        }\n    }\n    return nodeHeaders;\n}\n/**\n * Validate the correctness of a user-provided URL.\n */ export function validateURL(url) {\n    try {\n        return String(new URL(String(url)));\n    } catch (error) {\n        throw Object.defineProperty(new Error(`URL is malformed \"${String(url)}\". Please use only absolute URLs - https://nextjs.org/docs/messages/middleware-relative-urls`, {\n            cause: error\n        }), \"__NEXT_ERROR_CODE\", {\n            value: \"E61\",\n            enumerable: false,\n            configurable: true\n        });\n    }\n}\n/**\n * Normalizes `nxtP` and `nxtI` query param values to remove the prefix.\n * This function does not mutate the input key.\n */ export function normalizeNextQueryParam(key) {\n    const prefixes = [\n        NEXT_QUERY_PARAM_PREFIX,\n        NEXT_INTERCEPTION_MARKER_PREFIX\n    ];\n    for (const prefix of prefixes){\n        if (key !== prefix && key.startsWith(prefix)) {\n            return key.substring(prefix.length);\n        }\n    }\n    return null;\n}\n\n//# sourceMappingURL=utils.js.map","/**\n * Given a path this function will find the pathname, query and hash and return\n * them. This is useful to parse full paths on the client side.\n * @param path A path to parse e.g. /foo/bar?id=1#hash\n */\nexport function parsePath(path: string) {\n  const hashIndex = path.indexOf('#')\n  const queryIndex = path.indexOf('?')\n  const hasQuery = queryIndex > -1 && (hashIndex < 0 || queryIndex < hashIndex)\n\n  if (hasQuery || hashIndex > -1) {\n    return {\n      pathname: path.substring(0, hasQuery ? queryIndex : hashIndex),\n      query: hasQuery\n        ? path.substring(queryIndex, hashIndex > -1 ? hashIndex : undefined)\n        : '',\n      hash: hashIndex > -1 ? path.slice(hashIndex) : '',\n    }\n  }\n\n  return { pathname: path, query: '', hash: '' }\n}\n","import { parsePath } from './parse-path';\n/**\n * Adds the provided prefix to the given path. It first ensures that the path\n * is indeed starting with a slash.\n */ export function addPathPrefix(path, prefix) {\n    if (!path.startsWith('/') || !prefix) {\n        return path;\n    }\n    const { pathname, query, hash } = parsePath(path);\n    return `${prefix}${pathname}${query}${hash}`;\n}\n\n//# sourceMappingURL=add-path-prefix.js.map","import { parsePath } from './parse-path';\n/**\n * Similarly to `addPathPrefix`, this function adds a suffix at the end on the\n * provided path. It also works only for paths ensuring the argument starts\n * with a slash.\n */ export function addPathSuffix(path, suffix) {\n    if (!path.startsWith('/') || !suffix) {\n        return path;\n    }\n    const { pathname, query, hash } = parsePath(path);\n    return `${pathname}${suffix}${query}${hash}`;\n}\n\n//# sourceMappingURL=add-path-suffix.js.map","import { parsePath } from './parse-path'\n\n/**\n * Checks if a given path starts with a given prefix. It ensures it matches\n * exactly without containing extra chars. e.g. prefix /docs should replace\n * for /docs, /docs/, /docs/a but not /docsss\n * @param path The path to check.\n * @param prefix The prefix to check against.\n */\nexport function pathHasPrefix(path: string, prefix: string) {\n  if (typeof path !== 'string') {\n    return false\n  }\n\n  const { pathname } = parsePath(path)\n  return pathname === prefix || pathname.startsWith(prefix + '/')\n}\n","\"use strict\";\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\n\n// src/index.ts\nvar src_exports = {};\n__export(src_exports, {\n  RequestCookies: () => RequestCookies,\n  ResponseCookies: () => ResponseCookies,\n  parseCookie: () => parseCookie,\n  parseSetCookie: () => parseSetCookie,\n  stringifyCookie: () => stringifyCookie\n});\nmodule.exports = __toCommonJS(src_exports);\n\n// src/serialize.ts\nfunction stringifyCookie(c) {\n  var _a;\n  const attrs = [\n    \"path\" in c && c.path && `Path=${c.path}`,\n    \"expires\" in c && (c.expires || c.expires === 0) && `Expires=${(typeof c.expires === \"number\" ? new Date(c.expires) : c.expires).toUTCString()}`,\n    \"maxAge\" in c && typeof c.maxAge === \"number\" && `Max-Age=${c.maxAge}`,\n    \"domain\" in c && c.domain && `Domain=${c.domain}`,\n    \"secure\" in c && c.secure && \"Secure\",\n    \"httpOnly\" in c && c.httpOnly && \"HttpOnly\",\n    \"sameSite\" in c && c.sameSite && `SameSite=${c.sameSite}`,\n    \"partitioned\" in c && c.partitioned && \"Partitioned\",\n    \"priority\" in c && c.priority && `Priority=${c.priority}`\n  ].filter(Boolean);\n  const stringified = `${c.name}=${encodeURIComponent((_a = c.value) != null ? _a : \"\")}`;\n  return attrs.length === 0 ? stringified : `${stringified}; ${attrs.join(\"; \")}`;\n}\nfunction parseCookie(cookie) {\n  const map = /* @__PURE__ */ new Map();\n  for (const pair of cookie.split(/; */)) {\n    if (!pair)\n      continue;\n    const splitAt = pair.indexOf(\"=\");\n    if (splitAt === -1) {\n      map.set(pair, \"true\");\n      continue;\n    }\n    const [key, value] = [pair.slice(0, splitAt), pair.slice(splitAt + 1)];\n    try {\n      map.set(key, decodeURIComponent(value != null ? value : \"true\"));\n    } catch {\n    }\n  }\n  return map;\n}\nfunction parseSetCookie(setCookie) {\n  if (!setCookie) {\n    return void 0;\n  }\n  const [[name, value], ...attributes] = parseCookie(setCookie);\n  const {\n    domain,\n    expires,\n    httponly,\n    maxage,\n    path,\n    samesite,\n    secure,\n    partitioned,\n    priority\n  } = Object.fromEntries(\n    attributes.map(([key, value2]) => [\n      key.toLowerCase().replace(/-/g, \"\"),\n      value2\n    ])\n  );\n  const cookie = {\n    name,\n    value: decodeURIComponent(value),\n    domain,\n    ...expires && { expires: new Date(expires) },\n    ...httponly && { httpOnly: true },\n    ...typeof maxage === \"string\" && { maxAge: Number(maxage) },\n    path,\n    ...samesite && { sameSite: parseSameSite(samesite) },\n    ...secure && { secure: true },\n    ...priority && { priority: parsePriority(priority) },\n    ...partitioned && { partitioned: true }\n  };\n  return compact(cookie);\n}\nfunction compact(t) {\n  const newT = {};\n  for (const key in t) {\n    if (t[key]) {\n      newT[key] = t[key];\n    }\n  }\n  return newT;\n}\nvar SAME_SITE = [\"strict\", \"lax\", \"none\"];\nfunction parseSameSite(string) {\n  string = string.toLowerCase();\n  return SAME_SITE.includes(string) ? string : void 0;\n}\nvar PRIORITY = [\"low\", \"medium\", \"high\"];\nfunction parsePriority(string) {\n  string = string.toLowerCase();\n  return PRIORITY.includes(string) ? string : void 0;\n}\nfunction splitCookiesString(cookiesString) {\n  if (!cookiesString)\n    return [];\n  var cookiesStrings = [];\n  var pos = 0;\n  var start;\n  var ch;\n  var lastComma;\n  var nextStart;\n  var cookiesSeparatorFound;\n  function skipWhitespace() {\n    while (pos < cookiesString.length && /\\s/.test(cookiesString.charAt(pos))) {\n      pos += 1;\n    }\n    return pos < cookiesString.length;\n  }\n  function notSpecialChar() {\n    ch = cookiesString.charAt(pos);\n    return ch !== \"=\" && ch !== \";\" && ch !== \",\";\n  }\n  while (pos < cookiesString.length) {\n    start = pos;\n    cookiesSeparatorFound = false;\n    while (skipWhitespace()) {\n      ch = cookiesString.charAt(pos);\n      if (ch === \",\") {\n        lastComma = pos;\n        pos += 1;\n        skipWhitespace();\n        nextStart = pos;\n        while (pos < cookiesString.length && notSpecialChar()) {\n          pos += 1;\n        }\n        if (pos < cookiesString.length && cookiesString.charAt(pos) === \"=\") {\n          cookiesSeparatorFound = true;\n          pos = nextStart;\n          cookiesStrings.push(cookiesString.substring(start, lastComma));\n          start = pos;\n        } else {\n          pos = lastComma + 1;\n        }\n      } else {\n        pos += 1;\n      }\n    }\n    if (!cookiesSeparatorFound || pos >= cookiesString.length) {\n      cookiesStrings.push(cookiesString.substring(start, cookiesString.length));\n    }\n  }\n  return cookiesStrings;\n}\n\n// src/request-cookies.ts\nvar RequestCookies = class {\n  constructor(requestHeaders) {\n    /** @internal */\n    this._parsed = /* @__PURE__ */ new Map();\n    this._headers = requestHeaders;\n    const header = requestHeaders.get(\"cookie\");\n    if (header) {\n      const parsed = parseCookie(header);\n      for (const [name, value] of parsed) {\n        this._parsed.set(name, { name, value });\n      }\n    }\n  }\n  [Symbol.iterator]() {\n    return this._parsed[Symbol.iterator]();\n  }\n  /**\n   * The amount of cookies received from the client\n   */\n  get size() {\n    return this._parsed.size;\n  }\n  get(...args) {\n    const name = typeof args[0] === \"string\" ? args[0] : args[0].name;\n    return this._parsed.get(name);\n  }\n  getAll(...args) {\n    var _a;\n    const all = Array.from(this._parsed);\n    if (!args.length) {\n      return all.map(([_, value]) => value);\n    }\n    const name = typeof args[0] === \"string\" ? args[0] : (_a = args[0]) == null ? void 0 : _a.name;\n    return all.filter(([n]) => n === name).map(([_, value]) => value);\n  }\n  has(name) {\n    return this._parsed.has(name);\n  }\n  set(...args) {\n    const [name, value] = args.length === 1 ? [args[0].name, args[0].value] : args;\n    const map = this._parsed;\n    map.set(name, { name, value });\n    this._headers.set(\n      \"cookie\",\n      Array.from(map).map(([_, value2]) => stringifyCookie(value2)).join(\"; \")\n    );\n    return this;\n  }\n  /**\n   * Delete the cookies matching the passed name or names in the request.\n   */\n  delete(names) {\n    const map = this._parsed;\n    const result = !Array.isArray(names) ? map.delete(names) : names.map((name) => map.delete(name));\n    this._headers.set(\n      \"cookie\",\n      Array.from(map).map(([_, value]) => stringifyCookie(value)).join(\"; \")\n    );\n    return result;\n  }\n  /**\n   * Delete all the cookies in the cookies in the request.\n   */\n  clear() {\n    this.delete(Array.from(this._parsed.keys()));\n    return this;\n  }\n  /**\n   * Format the cookies in the request as a string for logging\n   */\n  [Symbol.for(\"edge-runtime.inspect.custom\")]() {\n    return `RequestCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`;\n  }\n  toString() {\n    return [...this._parsed.values()].map((v) => `${v.name}=${encodeURIComponent(v.value)}`).join(\"; \");\n  }\n};\n\n// src/response-cookies.ts\nvar ResponseCookies = class {\n  constructor(responseHeaders) {\n    /** @internal */\n    this._parsed = /* @__PURE__ */ new Map();\n    var _a, _b, _c;\n    this._headers = responseHeaders;\n    const setCookie = (_c = (_b = (_a = responseHeaders.getSetCookie) == null ? void 0 : _a.call(responseHeaders)) != null ? _b : responseHeaders.get(\"set-cookie\")) != null ? _c : [];\n    const cookieStrings = Array.isArray(setCookie) ? setCookie : splitCookiesString(setCookie);\n    for (const cookieString of cookieStrings) {\n      const parsed = parseSetCookie(cookieString);\n      if (parsed)\n        this._parsed.set(parsed.name, parsed);\n    }\n  }\n  /**\n   * {@link https://wicg.github.io/cookie-store/#CookieStore-get CookieStore#get} without the Promise.\n   */\n  get(...args) {\n    const key = typeof args[0] === \"string\" ? args[0] : args[0].name;\n    return this._parsed.get(key);\n  }\n  /**\n   * {@link https://wicg.github.io/cookie-store/#CookieStore-getAll CookieStore#getAll} without the Promise.\n   */\n  getAll(...args) {\n    var _a;\n    const all = Array.from(this._parsed.values());\n    if (!args.length) {\n      return all;\n    }\n    const key = typeof args[0] === \"string\" ? args[0] : (_a = args[0]) == null ? void 0 : _a.name;\n    return all.filter((c) => c.name === key);\n  }\n  has(name) {\n    return this._parsed.has(name);\n  }\n  /**\n   * {@link https://wicg.github.io/cookie-store/#CookieStore-set CookieStore#set} without the Promise.\n   */\n  set(...args) {\n    const [name, value, cookie] = args.length === 1 ? [args[0].name, args[0].value, args[0]] : args;\n    const map = this._parsed;\n    map.set(name, normalizeCookie({ name, value, ...cookie }));\n    replace(map, this._headers);\n    return this;\n  }\n  /**\n   * {@link https://wicg.github.io/cookie-store/#CookieStore-delete CookieStore#delete} without the Promise.\n   */\n  delete(...args) {\n    const [name, options] = typeof args[0] === \"string\" ? [args[0]] : [args[0].name, args[0]];\n    return this.set({ ...options, name, value: \"\", expires: /* @__PURE__ */ new Date(0) });\n  }\n  [Symbol.for(\"edge-runtime.inspect.custom\")]() {\n    return `ResponseCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`;\n  }\n  toString() {\n    return [...this._parsed.values()].map(stringifyCookie).join(\"; \");\n  }\n};\nfunction replace(bag, headers) {\n  headers.delete(\"set-cookie\");\n  for (const [, value] of bag) {\n    const serialized = stringifyCookie(value);\n    headers.append(\"set-cookie\", serialized);\n  }\n}\nfunction normalizeCookie(cookie = { name: \"\", value: \"\" }) {\n  if (typeof cookie.expires === \"number\") {\n    cookie.expires = new Date(cookie.expires);\n  }\n  if (cookie.maxAge) {\n    cookie.expires = new Date(Date.now() + cookie.maxAge * 1e3);\n  }\n  if (cookie.path === null || cookie.path === void 0) {\n    cookie.path = \"/\";\n  }\n  return cookie;\n}\n// Annotate the CommonJS export names for ESM import in node:\n0 && (module.exports = {\n  RequestCookies,\n  ResponseCookies,\n  parseCookie,\n  parseSetCookie,\n  stringifyCookie\n});\n","import { getRequestMeta } from '../../../request-meta';\nimport { fromNodeOutgoingHttpHeaders } from '../../utils';\nimport { NextRequest } from '../request';\nimport { isNodeNextRequest, isWebNextRequest } from '../../../base-http/helpers';\nexport const ResponseAbortedName = 'ResponseAborted';\nexport class ResponseAborted extends Error {\n    constructor(...args){\n        super(...args), this.name = ResponseAbortedName;\n    }\n}\n/**\n * Creates an AbortController tied to the closing of a ServerResponse (or other\n * appropriate Writable).\n *\n * If the `close` event is fired before the `finish` event, then we'll send the\n * `abort` signal.\n */ export function createAbortController(response) {\n    const controller = new AbortController();\n    // If `finish` fires first, then `res.end()` has been called and the close is\n    // just us finishing the stream on our side. If `close` fires first, then we\n    // know the client disconnected before we finished.\n    response.once('close', ()=>{\n        if (response.writableFinished) return;\n        controller.abort(new ResponseAborted());\n    });\n    return controller;\n}\n/**\n * Creates an AbortSignal tied to the closing of a ServerResponse (or other\n * appropriate Writable).\n *\n * This cannot be done with the request (IncomingMessage or Readable) because\n * the `abort` event will not fire if to data has been fully read (because that\n * will \"close\" the readable stream and nothing fires after that).\n */ export function signalFromNodeResponse(response) {\n    const { errored, destroyed } = response;\n    if (errored || destroyed) {\n        return AbortSignal.abort(errored ?? new ResponseAborted());\n    }\n    const { signal } = createAbortController(response);\n    return signal;\n}\nexport class NextRequestAdapter {\n    static fromBaseNextRequest(request, signal) {\n        if (// The type check here ensures that `req` is correctly typed, and the\n        // environment variable check provides dead code elimination.\n        process.env.NEXT_RUNTIME === 'edge' && isWebNextRequest(request)) {\n            return NextRequestAdapter.fromWebNextRequest(request);\n        } else if (// The type check here ensures that `req` is correctly typed, and the\n        // environment variable check provides dead code elimination.\n        process.env.NEXT_RUNTIME !== 'edge' && isNodeNextRequest(request)) {\n            return NextRequestAdapter.fromNodeNextRequest(request, signal);\n        } else {\n            throw Object.defineProperty(new Error('Invariant: Unsupported NextRequest type'), \"__NEXT_ERROR_CODE\", {\n                value: \"E345\",\n                enumerable: false,\n                configurable: true\n            });\n        }\n    }\n    static fromNodeNextRequest(request, signal) {\n        // HEAD and GET requests can not have a body.\n        let body = null;\n        if (request.method !== 'GET' && request.method !== 'HEAD' && request.body) {\n            // @ts-expect-error - this is handled by undici, when streams/web land use it instead\n            body = request.body;\n        }\n        let url;\n        if (request.url.startsWith('http')) {\n            url = new URL(request.url);\n        } else {\n            // Grab the full URL from the request metadata.\n            const base = getRequestMeta(request, 'initURL');\n            if (!base || !base.startsWith('http')) {\n                // Because the URL construction relies on the fact that the URL provided\n                // is absolute, we need to provide a base URL. We can't use the request\n                // URL because it's relative, so we use a dummy URL instead.\n                url = new URL(request.url, 'http://n');\n            } else {\n                url = new URL(request.url, base);\n            }\n        }\n        return new NextRequest(url, {\n            method: request.method,\n            headers: fromNodeOutgoingHttpHeaders(request.headers),\n            duplex: 'half',\n            signal,\n            // geo\n            // ip\n            // nextConfig\n            // body can not be passed if request was aborted\n            // or we get a Request body was disturbed error\n            ...signal.aborted ? {} : {\n                body\n            }\n        });\n    }\n    static fromWebNextRequest(request) {\n        // HEAD and GET requests can not have a body.\n        let body = null;\n        if (request.method !== 'GET' && request.method !== 'HEAD') {\n            body = request.body;\n        }\n        return new NextRequest(request.url, {\n            method: request.method,\n            headers: fromNodeOutgoingHttpHeaders(request.headers),\n            duplex: 'half',\n            signal: request.request.signal,\n            // geo\n            // ip\n            // nextConfig\n            // body can not be passed if request was aborted\n            // or we get a Request body was disturbed error\n            ...request.request.signal.aborted ? {} : {\n                body\n            }\n        });\n    }\n}\n\n//# sourceMappingURL=next-request.js.map","/**\n * A cache of lowercased locales for each list of locales. This is stored as a\n * WeakMap so if the locales are garbage collected, the cache entry will be\n * removed as well.\n */ const cache = new WeakMap();\n/**\n * For a pathname that may include a locale from a list of locales, it\n * removes the locale from the pathname returning it alongside with the\n * detected locale.\n *\n * @param pathname A pathname that may include a locale.\n * @param locales A list of locales.\n * @returns The detected locale and pathname without locale\n */ export function normalizeLocalePath(pathname, locales) {\n    // If locales is undefined, return the pathname as is.\n    if (!locales) return {\n        pathname\n    };\n    // Get the cached lowercased locales or create a new cache entry.\n    let lowercasedLocales = cache.get(locales);\n    if (!lowercasedLocales) {\n        lowercasedLocales = locales.map((locale)=>locale.toLowerCase());\n        cache.set(locales, lowercasedLocales);\n    }\n    let detectedLocale;\n    // The first segment will be empty, because it has a leading `/`. If\n    // there is no further segment, there is no locale (or it's the default).\n    const segments = pathname.split('/', 2);\n    // If there's no second segment (ie, the pathname is just `/`), there's no\n    // locale.\n    if (!segments[1]) return {\n        pathname\n    };\n    // The second segment will contain the locale part if any.\n    const segment = segments[1].toLowerCase();\n    // See if the segment matches one of the locales. If it doesn't, there is\n    // no locale (or it's the default).\n    const index = lowercasedLocales.indexOf(segment);\n    if (index < 0) return {\n        pathname\n    };\n    // Return the case-sensitive locale.\n    detectedLocale = locales[index];\n    // Remove the `/${locale}` part of the pathname.\n    pathname = pathname.slice(detectedLocale.length + 1) || '/';\n    return {\n        pathname,\n        detectedLocale\n    };\n}\n\n//# sourceMappingURL=normalize-locale-path.js.map","import { removeTrailingSlash } from './remove-trailing-slash';\nimport { addPathPrefix } from './add-path-prefix';\nimport { addPathSuffix } from './add-path-suffix';\nimport { addLocale } from './add-locale';\nexport function formatNextPathnameInfo(info) {\n    let pathname = addLocale(info.pathname, info.locale, info.buildId ? undefined : info.defaultLocale, info.ignorePrefix);\n    if (info.buildId || !info.trailingSlash) {\n        pathname = removeTrailingSlash(pathname);\n    }\n    if (info.buildId) {\n        pathname = addPathSuffix(addPathPrefix(pathname, `/_next/data/${info.buildId}`), info.pathname === '/' ? 'index.json' : '.json');\n    }\n    pathname = addPathPrefix(pathname, info.basePath);\n    return !info.buildId && info.trailingSlash ? !pathname.endsWith('/') ? addPathSuffix(pathname, '/') : pathname : removeTrailingSlash(pathname);\n}\n\n//# sourceMappingURL=format-next-pathname-info.js.map","import { detectDomainLocale } from '../../shared/lib/i18n/detect-domain-locale';\nimport { formatNextPathnameInfo } from '../../shared/lib/router/utils/format-next-pathname-info';\nimport { getHostname } from '../../shared/lib/get-hostname';\nimport { getNextPathnameInfo } from '../../shared/lib/router/utils/get-next-pathname-info';\nconst REGEX_LOCALHOST_HOSTNAME = /(?!^https?:\\/\\/)(127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}|\\[::1\\]|localhost)/;\nfunction parseURL(url, base) {\n    return new URL(String(url).replace(REGEX_LOCALHOST_HOSTNAME, 'localhost'), base && String(base).replace(REGEX_LOCALHOST_HOSTNAME, 'localhost'));\n}\nconst Internal = Symbol('NextURLInternal');\nexport class NextURL {\n    constructor(input, baseOrOpts, opts){\n        let base;\n        let options;\n        if (typeof baseOrOpts === 'object' && 'pathname' in baseOrOpts || typeof baseOrOpts === 'string') {\n            base = baseOrOpts;\n            options = opts || {};\n        } else {\n            options = opts || baseOrOpts || {};\n        }\n        this[Internal] = {\n            url: parseURL(input, base ?? options.base),\n            options: options,\n            basePath: ''\n        };\n        this.analyze();\n    }\n    analyze() {\n        var _this_Internal_options_nextConfig_i18n, _this_Internal_options_nextConfig, _this_Internal_domainLocale, _this_Internal_options_nextConfig_i18n1, _this_Internal_options_nextConfig1;\n        const info = getNextPathnameInfo(this[Internal].url.pathname, {\n            nextConfig: this[Internal].options.nextConfig,\n            parseData: !process.env.__NEXT_NO_MIDDLEWARE_URL_NORMALIZE,\n            i18nProvider: this[Internal].options.i18nProvider\n        });\n        const hostname = getHostname(this[Internal].url, this[Internal].options.headers);\n        this[Internal].domainLocale = this[Internal].options.i18nProvider ? this[Internal].options.i18nProvider.detectDomainLocale(hostname) : detectDomainLocale((_this_Internal_options_nextConfig = this[Internal].options.nextConfig) == null ? void 0 : (_this_Internal_options_nextConfig_i18n = _this_Internal_options_nextConfig.i18n) == null ? void 0 : _this_Internal_options_nextConfig_i18n.domains, hostname);\n        const defaultLocale = ((_this_Internal_domainLocale = this[Internal].domainLocale) == null ? void 0 : _this_Internal_domainLocale.defaultLocale) || ((_this_Internal_options_nextConfig1 = this[Internal].options.nextConfig) == null ? void 0 : (_this_Internal_options_nextConfig_i18n1 = _this_Internal_options_nextConfig1.i18n) == null ? void 0 : _this_Internal_options_nextConfig_i18n1.defaultLocale);\n        this[Internal].url.pathname = info.pathname;\n        this[Internal].defaultLocale = defaultLocale;\n        this[Internal].basePath = info.basePath ?? '';\n        this[Internal].buildId = info.buildId;\n        this[Internal].locale = info.locale ?? defaultLocale;\n        this[Internal].trailingSlash = info.trailingSlash;\n    }\n    formatPathname() {\n        return formatNextPathnameInfo({\n            basePath: this[Internal].basePath,\n            buildId: this[Internal].buildId,\n            defaultLocale: !this[Internal].options.forceLocale ? this[Internal].defaultLocale : undefined,\n            locale: this[Internal].locale,\n            pathname: this[Internal].url.pathname,\n            trailingSlash: this[Internal].trailingSlash\n        });\n    }\n    formatSearch() {\n        return this[Internal].url.search;\n    }\n    get buildId() {\n        return this[Internal].buildId;\n    }\n    set buildId(buildId) {\n        this[Internal].buildId = buildId;\n    }\n    get locale() {\n        return this[Internal].locale ?? '';\n    }\n    set locale(locale) {\n        var _this_Internal_options_nextConfig_i18n, _this_Internal_options_nextConfig;\n        if (!this[Internal].locale || !((_this_Internal_options_nextConfig = this[Internal].options.nextConfig) == null ? void 0 : (_this_Internal_options_nextConfig_i18n = _this_Internal_options_nextConfig.i18n) == null ? void 0 : _this_Internal_options_nextConfig_i18n.locales.includes(locale))) {\n            throw Object.defineProperty(new TypeError(`The NextURL configuration includes no locale \"${locale}\"`), \"__NEXT_ERROR_CODE\", {\n                value: \"E597\",\n                enumerable: false,\n                configurable: true\n            });\n        }\n        this[Internal].locale = locale;\n    }\n    get defaultLocale() {\n        return this[Internal].defaultLocale;\n    }\n    get domainLocale() {\n        return this[Internal].domainLocale;\n    }\n    get searchParams() {\n        return this[Internal].url.searchParams;\n    }\n    get host() {\n        return this[Internal].url.host;\n    }\n    set host(value) {\n        this[Internal].url.host = value;\n    }\n    get hostname() {\n        return this[Internal].url.hostname;\n    }\n    set hostname(value) {\n        this[Internal].url.hostname = value;\n    }\n    get port() {\n        return this[Internal].url.port;\n    }\n    set port(value) {\n        this[Internal].url.port = value;\n    }\n    get protocol() {\n        return this[Internal].url.protocol;\n    }\n    set protocol(value) {\n        this[Internal].url.protocol = value;\n    }\n    get href() {\n        const pathname = this.formatPathname();\n        const search = this.formatSearch();\n        return `${this.protocol}//${this.host}${pathname}${search}${this.hash}`;\n    }\n    set href(url) {\n        this[Internal].url = parseURL(url);\n        this.analyze();\n    }\n    get origin() {\n        return this[Internal].url.origin;\n    }\n    get pathname() {\n        return this[Internal].url.pathname;\n    }\n    set pathname(value) {\n        this[Internal].url.pathname = value;\n    }\n    get hash() {\n        return this[Internal].url.hash;\n    }\n    set hash(value) {\n        this[Internal].url.hash = value;\n    }\n    get search() {\n        return this[Internal].url.search;\n    }\n    set search(value) {\n        this[Internal].url.search = value;\n    }\n    get password() {\n        return this[Internal].url.password;\n    }\n    set password(value) {\n        this[Internal].url.password = value;\n    }\n    get username() {\n        return this[Internal].url.username;\n    }\n    set username(value) {\n        this[Internal].url.username = value;\n    }\n    get basePath() {\n        return this[Internal].basePath;\n    }\n    set basePath(value) {\n        this[Internal].basePath = value.startsWith('/') ? value : `/${value}`;\n    }\n    toString() {\n        return this.href;\n    }\n    toJSON() {\n        return this.href;\n    }\n    [Symbol.for('edge-runtime.inspect.custom')]() {\n        return {\n            href: this.href,\n            origin: this.origin,\n            protocol: this.protocol,\n            username: this.username,\n            password: this.password,\n            host: this.host,\n            hostname: this.hostname,\n            port: this.port,\n            pathname: this.pathname,\n            search: this.search,\n            searchParams: this.searchParams,\n            hash: this.hash\n        };\n    }\n    clone() {\n        return new NextURL(String(this), this[Internal].options);\n    }\n}\n\n//# sourceMappingURL=next-url.js.map","export { RequestCookies, ResponseCookies, stringifyCookie } from 'next/dist/compiled/@edge-runtime/cookies';\n\n//# sourceMappingURL=cookies.js.map","export class PageSignatureError extends Error {\n    constructor({ page }){\n        super(`The middleware \"${page}\" accepts an async API directly with the form:\n  \n  export function middleware(request, event) {\n    return NextResponse.redirect('/new-location')\n  }\n  \n  Read more: https://nextjs.org/docs/messages/middleware-new-signature\n  `);\n    }\n}\nexport class RemovedPageError extends Error {\n    constructor(){\n        super(`The request.page has been deprecated in favour of \\`URLPattern\\`.\n  Read more: https://nextjs.org/docs/messages/middleware-request-page\n  `);\n    }\n}\nexport class RemovedUAError extends Error {\n    constructor(){\n        super(`The request.ua has been removed in favour of \\`userAgent\\` function.\n  Read more: https://nextjs.org/docs/messages/middleware-parse-user-agent\n  `);\n    }\n}\n\n//# sourceMappingURL=error.js.map","import { addPathPrefix } from './add-path-prefix';\nimport { pathHasPrefix } from './path-has-prefix';\n/**\n * For a given path and a locale, if the locale is given, it will prefix the\n * locale. The path shouldn't be an API path. If a default locale is given the\n * prefix will be omitted if the locale is already the default locale.\n */ export function addLocale(path, locale, defaultLocale, ignorePrefix) {\n    // If no locale was given or the locale is the default locale, we don't need\n    // to prefix the path.\n    if (!locale || locale === defaultLocale) return path;\n    const lower = path.toLowerCase();\n    // If the path is an API path or the path already has the locale prefix, we\n    // don't need to prefix the path.\n    if (!ignorePrefix) {\n        if (pathHasPrefix(lower, '/api')) return path;\n        if (pathHasPrefix(lower, `/${locale.toLowerCase()}`)) return path;\n    }\n    // Add the locale prefix to the path.\n    return addPathPrefix(path, `/${locale}`);\n}\n\n//# sourceMappingURL=add-locale.js.map","import { normalizeLocalePath } from '../../i18n/normalize-locale-path';\nimport { removePathPrefix } from './remove-path-prefix';\nimport { pathHasPrefix } from './path-has-prefix';\nexport function getNextPathnameInfo(pathname, options) {\n    const { basePath, i18n, trailingSlash } = options.nextConfig ?? {};\n    const info = {\n        pathname,\n        trailingSlash: pathname !== '/' ? pathname.endsWith('/') : trailingSlash\n    };\n    if (basePath && pathHasPrefix(info.pathname, basePath)) {\n        info.pathname = removePathPrefix(info.pathname, basePath);\n        info.basePath = basePath;\n    }\n    let pathnameNoDataPrefix = info.pathname;\n    if (info.pathname.startsWith('/_next/data/') && info.pathname.endsWith('.json')) {\n        const paths = info.pathname.replace(/^\\/_next\\/data\\//, '').replace(/\\.json$/, '').split('/');\n        const buildId = paths[0];\n        info.buildId = buildId;\n        pathnameNoDataPrefix = paths[1] !== 'index' ? `/${paths.slice(1).join('/')}` : '/';\n        // update pathname with normalized if enabled although\n        // we use normalized to populate locale info still\n        if (options.parseData === true) {\n            info.pathname = pathnameNoDataPrefix;\n        }\n    }\n    // If provided, use the locale route normalizer to detect the locale instead\n    // of the function below.\n    if (i18n) {\n        let result = options.i18nProvider ? options.i18nProvider.analyze(info.pathname) : normalizeLocalePath(info.pathname, i18n.locales);\n        info.locale = result.detectedLocale;\n        info.pathname = result.pathname ?? info.pathname;\n        if (!result.detectedLocale && info.buildId) {\n            result = options.i18nProvider ? options.i18nProvider.analyze(pathnameNoDataPrefix) : normalizeLocalePath(pathnameNoDataPrefix, i18n.locales);\n            if (result.detectedLocale) {\n                info.locale = result.detectedLocale;\n            }\n        }\n    }\n    return info;\n}\n\n//# sourceMappingURL=get-next-pathname-info.js.map","import { NextURL } from '../next-url';\nimport { toNodeOutgoingHttpHeaders, validateURL } from '../utils';\nimport { RemovedUAError, RemovedPageError } from '../error';\nimport { RequestCookies } from './cookies';\nexport const INTERNALS = Symbol('internal request');\n/**\n * This class extends the [Web `Request` API](https://developer.mozilla.org/docs/Web/API/Request) with additional convenience methods.\n *\n * Read more: [Next.js Docs: `NextRequest`](https://nextjs.org/docs/app/api-reference/functions/next-request)\n */ export class NextRequest extends Request {\n    constructor(input, init = {}){\n        const url = typeof input !== 'string' && 'url' in input ? input.url : String(input);\n        validateURL(url);\n        // node Request instance requires duplex option when a body\n        // is present or it errors, we don't handle this for\n        // Request being passed in since it would have already\n        // errored if this wasn't configured\n        if (process.env.NEXT_RUNTIME !== 'edge') {\n            if (init.body && init.duplex !== 'half') {\n                init.duplex = 'half';\n            }\n        }\n        if (input instanceof Request) super(input, init);\n        else super(url, init);\n        const nextUrl = new NextURL(url, {\n            headers: toNodeOutgoingHttpHeaders(this.headers),\n            nextConfig: init.nextConfig\n        });\n        this[INTERNALS] = {\n            cookies: new RequestCookies(this.headers),\n            nextUrl,\n            url: process.env.__NEXT_NO_MIDDLEWARE_URL_NORMALIZE ? url : nextUrl.toString()\n        };\n    }\n    [Symbol.for('edge-runtime.inspect.custom')]() {\n        return {\n            cookies: this.cookies,\n            nextUrl: this.nextUrl,\n            url: this.url,\n            // rest of props come from Request\n            bodyUsed: this.bodyUsed,\n            cache: this.cache,\n            credentials: this.credentials,\n            destination: this.destination,\n            headers: Object.fromEntries(this.headers),\n            integrity: this.integrity,\n            keepalive: this.keepalive,\n            method: this.method,\n            mode: this.mode,\n            redirect: this.redirect,\n            referrer: this.referrer,\n            referrerPolicy: this.referrerPolicy,\n            signal: this.signal\n        };\n    }\n    get cookies() {\n        return this[INTERNALS].cookies;\n    }\n    get nextUrl() {\n        return this[INTERNALS].nextUrl;\n    }\n    /**\n   * @deprecated\n   * `page` has been deprecated in favour of `URLPattern`.\n   * Read more: https://nextjs.org/docs/messages/middleware-request-page\n   */ get page() {\n        throw new RemovedPageError();\n    }\n    /**\n   * @deprecated\n   * `ua` has been removed in favour of \\`userAgent\\` function.\n   * Read more: https://nextjs.org/docs/messages/middleware-parse-user-agent\n   */ get ua() {\n        throw new RemovedUAError();\n    }\n    get url() {\n        return this[INTERNALS].url;\n    }\n}\n\n//# sourceMappingURL=request.js.map","/**\n * Takes an object with a hostname property (like a parsed URL) and some\n * headers that may contain Host and returns the preferred hostname.\n * @param parsed An object containing a hostname property.\n * @param headers A dictionary with headers containing a `host`.\n */ export function getHostname(parsed, headers) {\n    // Get the hostname from the headers if it exists, otherwise use the parsed\n    // hostname.\n    let hostname;\n    if (headers?.host && !Array.isArray(headers.host)) {\n        hostname = headers.host.toString().split(':', 1)[0];\n    } else if (parsed.hostname) {\n        hostname = parsed.hostname;\n    } else return;\n    return hostname.toLowerCase();\n}\n\n//# sourceMappingURL=get-hostname.js.map","import { pathHasPrefix } from './path-has-prefix';\n/**\n * Given a path and a prefix it will remove the prefix when it exists in the\n * given path. It ensures it matches exactly without containing extra chars\n * and if the prefix is not there it will be noop.\n *\n * @param path The path to remove the prefix from.\n * @param prefix The prefix to be removed.\n */ export function removePathPrefix(path, prefix) {\n    // If the path doesn't start with the prefix we can return it as is. This\n    // protects us from situations where the prefix is a substring of the path\n    // prefix such as:\n    //\n    // For prefix: /blog\n    //\n    //   /blog -> true\n    //   /blog/ -> true\n    //   /blog/1 -> true\n    //   /blogging -> false\n    //   /blogging/ -> false\n    //   /blogging/1 -> false\n    if (!pathHasPrefix(path, prefix)) {\n        return path;\n    }\n    // Remove the prefix from the path via slicing.\n    const withoutPrefix = path.slice(prefix.length);\n    // If the path without the prefix starts with a `/` we can return it as is.\n    if (withoutPrefix.startsWith('/')) {\n        return withoutPrefix;\n    }\n    // If the path without the prefix doesn't start with a `/` we need to add it\n    // back to the path to make sure it's a valid path.\n    return `/${withoutPrefix}`;\n}\n\n//# sourceMappingURL=remove-path-prefix.js.map","/**\n * This file provides some helpers that should be used in conjunction with\n * explicit environment checks. When combined with the environment checks, it\n * will ensure that the correct typings are used as well as enable code\n * elimination.\n */ /**\n * Type guard to determine if a request is a WebNextRequest. This does not\n * actually check the type of the request, but rather the runtime environment.\n * It's expected that when the runtime environment is the edge runtime, that any\n * base request is a WebNextRequest.\n */ export const isWebNextRequest = (req)=>process.env.NEXT_RUNTIME === 'edge';\n/**\n * Type guard to determine if a response is a WebNextResponse. This does not\n * actually check the type of the response, but rather the runtime environment.\n * It's expected that when the runtime environment is the edge runtime, that any\n * base response is a WebNextResponse.\n */ export const isWebNextResponse = (res)=>process.env.NEXT_RUNTIME === 'edge';\n/**\n * Type guard to determine if a request is a NodeNextRequest. This does not\n * actually check the type of the request, but rather the runtime environment.\n * It's expected that when the runtime environment is the node runtime, that any\n * base request is a NodeNextRequest.\n */ export const isNodeNextRequest = (req)=>process.env.NEXT_RUNTIME !== 'edge';\n/**\n * Type guard to determine if a response is a NodeNextResponse. This does not\n * actually check the type of the response, but rather the runtime environment.\n * It's expected that when the runtime environment is the node runtime, that any\n * base response is a NodeNextResponse.\n */ export const isNodeNextResponse = (res)=>process.env.NEXT_RUNTIME !== 'edge';\n\n//# sourceMappingURL=helpers.js.map","/**\n * A `Promise.withResolvers` implementation that exposes the `resolve` and\n * `reject` functions on a `Promise`.\n *\n * @see https://tc39.es/proposal-promise-with-resolvers/\n */\nexport class DetachedPromise<T = any> {\n  public readonly resolve: (value: T | PromiseLike<T>) => void\n  public readonly reject: (reason: any) => void\n  public readonly promise: Promise<T>\n\n  constructor() {\n    let resolve: (value: T | PromiseLike<T>) => void\n    let reject: (reason: any) => void\n\n    // Create the promise and assign the resolvers to the object.\n    this.promise = new Promise<T>((res, rej) => {\n      resolve = res\n      reject = rej\n    })\n\n    // We know that resolvers is defined because the Promise constructor runs\n    // synchronously.\n    this.resolve = resolve!\n    this.reject = reject!\n  }\n}\n","// Combined load times for loading client components\nlet clientComponentLoadStart = 0;\nlet clientComponentLoadTimes = 0;\nlet clientComponentLoadCount = 0;\nexport function wrapClientComponentLoader(ComponentMod) {\n    if (!('performance' in globalThis)) {\n        return ComponentMod.__next_app__;\n    }\n    return {\n        require: (...args)=>{\n            const startTime = performance.now();\n            if (clientComponentLoadStart === 0) {\n                clientComponentLoadStart = startTime;\n            }\n            try {\n                clientComponentLoadCount += 1;\n                return ComponentMod.__next_app__.require(...args);\n            } finally{\n                clientComponentLoadTimes += performance.now() - startTime;\n            }\n        },\n        loadChunk: (...args)=>{\n            const startTime = performance.now();\n            const result = ComponentMod.__next_app__.loadChunk(...args);\n            // Avoid wrapping `loadChunk`'s result in an extra promise in case something like React depends on its identity.\n            // We only need to know when it's settled.\n            result.finally(()=>{\n                clientComponentLoadTimes += performance.now() - startTime;\n            });\n            return result;\n        }\n    };\n}\nexport function getClientComponentLoaderMetrics(options = {}) {\n    const metrics = clientComponentLoadStart === 0 ? undefined : {\n        clientComponentLoadStart,\n        clientComponentLoadTimes,\n        clientComponentLoadCount\n    };\n    if (options.reset) {\n        clientComponentLoadStart = 0;\n        clientComponentLoadTimes = 0;\n        clientComponentLoadCount = 0;\n    }\n    return metrics;\n}\n\n//# sourceMappingURL=client-component-renderer-logger.js.map","import { ResponseAbortedName, createAbortController } from './web/spec-extension/adapters/next-request';\nimport { DetachedPromise } from '../lib/detached-promise';\nimport { getTracer } from './lib/trace/tracer';\nimport { NextNodeServerSpan } from './lib/trace/constants';\nimport { getClientComponentLoaderMetrics } from './client-component-renderer-logger';\nexport function isAbortError(e) {\n    return (e == null ? void 0 : e.name) === 'AbortError' || (e == null ? void 0 : e.name) === ResponseAbortedName;\n}\nfunction createWriterFromResponse(res, waitUntilForEnd) {\n    let started = false;\n    // Create a promise that will resolve once the response has drained. See\n    // https://nodejs.org/api/stream.html#stream_event_drain\n    let drained = new DetachedPromise();\n    function onDrain() {\n        drained.resolve();\n    }\n    res.on('drain', onDrain);\n    // If the finish event fires, it means we shouldn't block and wait for the\n    // drain event.\n    res.once('close', ()=>{\n        res.off('drain', onDrain);\n        drained.resolve();\n    });\n    // Create a promise that will resolve once the response has finished. See\n    // https://nodejs.org/api/http.html#event-finish_1\n    const finished = new DetachedPromise();\n    res.once('finish', ()=>{\n        finished.resolve();\n    });\n    // Create a writable stream that will write to the response.\n    return new WritableStream({\n        write: async (chunk)=>{\n            // You'd think we'd want to use `start` instead of placing this in `write`\n            // but this ensures that we don't actually flush the headers until we've\n            // started writing chunks.\n            if (!started) {\n                started = true;\n                if ('performance' in globalThis && process.env.NEXT_OTEL_PERFORMANCE_PREFIX) {\n                    const metrics = getClientComponentLoaderMetrics();\n                    if (metrics) {\n                        performance.measure(`${process.env.NEXT_OTEL_PERFORMANCE_PREFIX}:next-client-component-loading`, {\n                            start: metrics.clientComponentLoadStart,\n                            end: metrics.clientComponentLoadStart + metrics.clientComponentLoadTimes\n                        });\n                    }\n                }\n                res.flushHeaders();\n                getTracer().trace(NextNodeServerSpan.startResponse, {\n                    spanName: 'start response'\n                }, ()=>undefined);\n            }\n            try {\n                const ok = res.write(chunk);\n                // Added by the `compression` middleware, this is a function that will\n                // flush the partially-compressed response to the client.\n                if ('flush' in res && typeof res.flush === 'function') {\n                    res.flush();\n                }\n                // If the write returns false, it means there's some backpressure, so\n                // wait until it's streamed before continuing.\n                if (!ok) {\n                    await drained.promise;\n                    // Reset the drained promise so that we can wait for the next drain event.\n                    drained = new DetachedPromise();\n                }\n            } catch (err) {\n                res.end();\n                throw Object.defineProperty(new Error('failed to write chunk to response', {\n                    cause: err\n                }), \"__NEXT_ERROR_CODE\", {\n                    value: \"E321\",\n                    enumerable: false,\n                    configurable: true\n                });\n            }\n        },\n        abort: (err)=>{\n            if (res.writableFinished) return;\n            res.destroy(err);\n        },\n        close: async ()=>{\n            // if a waitUntil promise was passed, wait for it to resolve before\n            // ending the response.\n            if (waitUntilForEnd) {\n                await waitUntilForEnd;\n            }\n            if (res.writableFinished) return;\n            res.end();\n            return finished.promise;\n        }\n    });\n}\nexport async function pipeToNodeResponse(readable, res, waitUntilForEnd) {\n    try {\n        // If the response has already errored, then just return now.\n        const { errored, destroyed } = res;\n        if (errored || destroyed) return;\n        // Create a new AbortController so that we can abort the readable if the\n        // client disconnects.\n        const controller = createAbortController(res);\n        const writer = createWriterFromResponse(res, waitUntilForEnd);\n        await readable.pipeTo(writer, {\n            signal: controller.signal\n        });\n    } catch (err) {\n        // If this isn't related to an abort error, re-throw it.\n        if (isAbortError(err)) return;\n        throw Object.defineProperty(new Error('failed to pipe response', {\n            cause: err\n        }), \"__NEXT_ERROR_CODE\", {\n            value: \"E180\",\n            enumerable: false,\n            configurable: true\n        });\n    }\n}\n\n//# sourceMappingURL=pipe-readable.js.map","export enum RedirectStatusCode {\n  SeeOther = 303,\n  TemporaryRedirect = 307,\n  PermanentRedirect = 308,\n}\n","import type { ServerRuntime } from '../types'\n\nexport const TEXT_PLAIN_CONTENT_TYPE_HEADER = 'text/plain'\nexport const HTML_CONTENT_TYPE_HEADER = 'text/html; charset=utf-8'\nexport const JSON_CONTENT_TYPE_HEADER = 'application/json; charset=utf-8'\nexport const NEXT_QUERY_PARAM_PREFIX = 'nxtP'\nexport const NEXT_INTERCEPTION_MARKER_PREFIX = 'nxtI'\n\nexport const MATCHED_PATH_HEADER = 'x-matched-path'\nexport const PRERENDER_REVALIDATE_HEADER = 'x-prerender-revalidate'\nexport const PRERENDER_REVALIDATE_ONLY_GENERATED_HEADER =\n  'x-prerender-revalidate-if-generated'\n\nexport const RSC_SEGMENTS_DIR_SUFFIX = '.segments'\nexport const RSC_SEGMENT_SUFFIX = '.segment.rsc'\nexport const RSC_SUFFIX = '.rsc'\nexport const ACTION_SUFFIX = '.action'\nexport const NEXT_DATA_SUFFIX = '.json'\nexport const NEXT_META_SUFFIX = '.meta'\nexport const NEXT_BODY_SUFFIX = '.body'\n\nexport const NEXT_NAV_DEPLOYMENT_ID_HEADER = 'x-nextjs-deployment-id'\n\nexport const NEXT_CACHE_TAGS_HEADER = 'x-next-cache-tags'\nexport const NEXT_CACHE_REVALIDATED_TAGS_HEADER = 'x-next-revalidated-tags'\nexport const NEXT_CACHE_REVALIDATE_TAG_TOKEN_HEADER =\n  'x-next-revalidate-tag-token'\n\nexport const NEXT_RESUME_HEADER = 'next-resume'\nexport const NEXT_RESUME_STATE_LENGTH_HEADER = 'x-next-resume-state-length'\n\n// if these change make sure we update the related\n// documentation as well\nexport const NEXT_CACHE_TAG_MAX_ITEMS = 128\nexport const NEXT_CACHE_TAG_MAX_LENGTH = 256\nexport const NEXT_CACHE_SOFT_TAG_MAX_LENGTH = 1024\nexport const NEXT_CACHE_IMPLICIT_TAG_ID = '_N_T_'\n\n// in seconds\nexport const CACHE_ONE_YEAR_SECONDS = 31536000\n\n// in seconds, represents revalidate=false. I.e. never revaliate.\n// We use this value since it can be represented as a V8 SMI for optimal performance.\n// It can also be serialized as JSON if it ever leaks accidentally as an actual value.\nexport const INFINITE_CACHE = 0xfffffffe\n\n// Patterns to detect middleware files\nexport const MIDDLEWARE_FILENAME = 'middleware'\nexport const MIDDLEWARE_LOCATION_REGEXP = `(?:src/)?${MIDDLEWARE_FILENAME}`\n\n// Patterns to detect proxy files (replacement for middleware)\nexport const PROXY_FILENAME = 'proxy'\nexport const PROXY_LOCATION_REGEXP = `(?:src/)?${PROXY_FILENAME}`\n\n// Pattern to detect instrumentation hooks file\nexport const INSTRUMENTATION_HOOK_FILENAME = 'instrumentation'\n\n// Because on Windows absolute paths in the generated code can break because of numbers, eg 1 in the path,\n// we have to use a private alias\nexport const PAGES_DIR_ALIAS = 'private-next-pages'\nexport const DOT_NEXT_ALIAS = 'private-dot-next'\nexport const ROOT_DIR_ALIAS = 'private-next-root-dir'\nexport const APP_DIR_ALIAS = 'private-next-app-dir'\nexport const RSC_MOD_REF_PROXY_ALIAS = 'private-next-rsc-mod-ref-proxy'\nexport const RSC_ACTION_VALIDATE_ALIAS = 'private-next-rsc-action-validate'\nexport const RSC_ACTION_PROXY_ALIAS = 'private-next-rsc-server-reference'\nexport const RSC_CACHE_WRAPPER_ALIAS = 'private-next-rsc-cache-wrapper'\nexport const RSC_DYNAMIC_IMPORT_WRAPPER_ALIAS =\n  'private-next-rsc-track-dynamic-import'\nexport const RSC_ACTION_ENCRYPTION_ALIAS = 'private-next-rsc-action-encryption'\nexport const RSC_ACTION_CLIENT_WRAPPER_ALIAS =\n  'private-next-rsc-action-client-wrapper'\n\nexport const PUBLIC_DIR_MIDDLEWARE_CONFLICT = `You can not have a '_next' folder inside of your public folder. This conflicts with the internal '/_next' route. https://nextjs.org/docs/messages/public-next-folder-conflict`\n\nexport const SSG_GET_INITIAL_PROPS_CONFLICT = `You can not use getInitialProps with getStaticProps. To use SSG, please remove your getInitialProps`\n\nexport const SERVER_PROPS_GET_INIT_PROPS_CONFLICT = `You can not use getInitialProps with getServerSideProps. Please remove getInitialProps.`\n\nexport const SERVER_PROPS_SSG_CONFLICT = `You can not use getStaticProps or getStaticPaths with getServerSideProps. To use SSG, please remove getServerSideProps`\n\nexport const STATIC_STATUS_PAGE_GET_INITIAL_PROPS_ERROR = `can not have getInitialProps/getServerSideProps, https://nextjs.org/docs/messages/404-get-initial-props`\n\nexport const SERVER_PROPS_EXPORT_ERROR = `pages with \\`getServerSideProps\\` can not be exported. See more info here: https://nextjs.org/docs/messages/gssp-export`\n\nexport const GSP_NO_RETURNED_VALUE =\n  'Your `getStaticProps` function did not return an object. Did you forget to add a `return`?'\nexport const GSSP_NO_RETURNED_VALUE =\n  'Your `getServerSideProps` function did not return an object. Did you forget to add a `return`?'\n\nexport const UNSTABLE_REVALIDATE_RENAME_ERROR =\n  'The `unstable_revalidate` property is available for general use.\\n' +\n  'Please use `revalidate` instead.'\n\nexport const GSSP_COMPONENT_MEMBER_ERROR = `can not be attached to a page's component and must be exported from the page. See more info here: https://nextjs.org/docs/messages/gssp-component-member`\n\nexport const NON_STANDARD_NODE_ENV = `You are using a non-standard \"NODE_ENV\" value in your environment. This creates inconsistencies in the project and is strongly advised against. Read more: https://nextjs.org/docs/messages/non-standard-node-env`\n\nexport const SSG_FALLBACK_EXPORT_ERROR = `Pages with \\`fallback\\` enabled in \\`getStaticPaths\\` can not be exported. See more info here: https://nextjs.org/docs/messages/ssg-fallback-true-export`\n\nexport const ESLINT_DEFAULT_DIRS = ['app', 'pages', 'components', 'lib', 'src']\n\nexport const SERVER_RUNTIME: Record<string, ServerRuntime> = {\n  edge: 'edge',\n  experimentalEdge: 'experimental-edge',\n  nodejs: 'nodejs',\n}\n\nexport const WEB_SOCKET_MAX_RECONNECTIONS = 12\n\n/**\n * The names of the webpack layers. These layers are the primitives for the\n * webpack chunks.\n */\nconst WEBPACK_LAYERS_NAMES = {\n  /**\n   * The layer for the shared code between the client and server bundles.\n   */\n  shared: 'shared',\n  /**\n   * The layer for server-only runtime and picking up `react-server` export conditions.\n   * Including app router RSC pages and app router custom routes and metadata routes.\n   */\n  reactServerComponents: 'rsc',\n  /**\n   * Server Side Rendering layer for app (ssr).\n   */\n  serverSideRendering: 'ssr',\n  /**\n   * The browser client bundle layer for actions.\n   */\n  actionBrowser: 'action-browser',\n  /**\n   * The Node.js bundle layer for the API routes.\n   */\n  apiNode: 'api-node',\n  /**\n   * The Edge Lite bundle layer for the API routes.\n   */\n  apiEdge: 'api-edge',\n  /**\n   * The layer for the middleware code.\n   */\n  middleware: 'middleware',\n  /**\n   * The layer for the instrumentation hooks.\n   */\n  instrument: 'instrument',\n  /**\n   * The layer for assets on the edge.\n   */\n  edgeAsset: 'edge-asset',\n  /**\n   * The browser client bundle layer for App directory.\n   */\n  appPagesBrowser: 'app-pages-browser',\n  /**\n   * The browser client bundle layer for Pages directory.\n   */\n  pagesDirBrowser: 'pages-dir-browser',\n  /**\n   * The Edge Lite bundle layer for Pages directory.\n   */\n  pagesDirEdge: 'pages-dir-edge',\n  /**\n   * The Node.js bundle layer for Pages directory.\n   */\n  pagesDirNode: 'pages-dir-node',\n} as const\n\nexport type WebpackLayerName =\n  (typeof WEBPACK_LAYERS_NAMES)[keyof typeof WEBPACK_LAYERS_NAMES]\n\nconst WEBPACK_LAYERS = {\n  ...WEBPACK_LAYERS_NAMES,\n  GROUP: {\n    builtinReact: [\n      WEBPACK_LAYERS_NAMES.reactServerComponents,\n      WEBPACK_LAYERS_NAMES.actionBrowser,\n    ],\n    serverOnly: [\n      WEBPACK_LAYERS_NAMES.reactServerComponents,\n      WEBPACK_LAYERS_NAMES.actionBrowser,\n      WEBPACK_LAYERS_NAMES.instrument,\n      WEBPACK_LAYERS_NAMES.middleware,\n    ],\n    neutralTarget: [\n      // pages api\n      WEBPACK_LAYERS_NAMES.apiNode,\n      WEBPACK_LAYERS_NAMES.apiEdge,\n    ],\n    clientOnly: [\n      WEBPACK_LAYERS_NAMES.serverSideRendering,\n      WEBPACK_LAYERS_NAMES.appPagesBrowser,\n    ],\n    bundled: [\n      WEBPACK_LAYERS_NAMES.reactServerComponents,\n      WEBPACK_LAYERS_NAMES.actionBrowser,\n      WEBPACK_LAYERS_NAMES.serverSideRendering,\n      WEBPACK_LAYERS_NAMES.appPagesBrowser,\n      WEBPACK_LAYERS_NAMES.shared,\n      WEBPACK_LAYERS_NAMES.instrument,\n      WEBPACK_LAYERS_NAMES.middleware,\n    ],\n    appPages: [\n      // app router pages and layouts\n      WEBPACK_LAYERS_NAMES.reactServerComponents,\n      WEBPACK_LAYERS_NAMES.serverSideRendering,\n      WEBPACK_LAYERS_NAMES.appPagesBrowser,\n      WEBPACK_LAYERS_NAMES.actionBrowser,\n    ],\n  },\n}\n\nconst WEBPACK_RESOURCE_QUERIES = {\n  edgeSSREntry: '__next_edge_ssr_entry__',\n  metadata: '__next_metadata__',\n  metadataRoute: '__next_metadata_route__',\n  metadataImageMeta: '__next_metadata_image_meta__',\n}\n\nexport { WEBPACK_LAYERS, WEBPACK_RESOURCE_QUERIES }\n","import type { SchedulerFn } from './scheduler'\n\nimport { DetachedPromise } from './detached-promise'\n\ntype CacheKeyFn<K, C extends string | number | null> = (\n  key: K\n) => PromiseLike<C> | C\n\ntype BatcherOptions<K, C extends string | number | null> = {\n  cacheKeyFn?: CacheKeyFn<K, C>\n  schedulerFn?: SchedulerFn<void>\n}\n\ntype WorkFnContext<V, K> = {\n  resolve: (value: V | PromiseLike<V>) => void\n  key: K\n}\n\ntype WorkFn<V, K> = (context: WorkFnContext<V, K>) => Promise<V>\n\n/**\n * A wrapper for a function that will only allow one call to the function to\n * execute at a time.\n */\nexport class Batcher<K, V, C extends string | number | null> {\n  private readonly pending = new Map<C, Promise<V>>()\n\n  protected constructor(\n    private readonly cacheKeyFn?: CacheKeyFn<K, C>,\n    /**\n     * A function that will be called to schedule the wrapped function to be\n     * executed. This defaults to a function that will execute the function\n     * immediately.\n     */\n    private readonly schedulerFn: SchedulerFn<void> = (fn) => fn()\n  ) {}\n\n  /**\n   * Creates a new instance of PendingWrapper. If the key extends a string or\n   * number, the key will be used as the cache key. If the key is an object, a\n   * cache key function must be provided.\n   */\n  public static create<K extends string | number | null, V>(\n    options?: BatcherOptions<K, K>\n  ): Batcher<K, V, K>\n  public static create<K, V, C extends string | number | null>(\n    options: BatcherOptions<K, C> &\n      Required<Pick<BatcherOptions<K, C>, 'cacheKeyFn'>>\n  ): Batcher<K, V, C>\n  public static create<K, V, C extends string | number | null>(\n    options?: BatcherOptions<K, C>\n  ): Batcher<K, V, C> {\n    return new Batcher<K, V, C>(options?.cacheKeyFn, options?.schedulerFn)\n  }\n\n  /**\n   * Wraps a function in a promise that will be resolved or rejected only once\n   * for a given key. This will allow multiple calls to the function to be\n   * made, but only one will be executed at a time. The result of the first\n   * call will be returned to all callers.\n   *\n   * @param key the key to use for the cache\n   * @param fn the function to wrap\n   * @returns a promise that resolves to the result of the function\n   */\n  public async batch(key: K, fn: WorkFn<V, K>): Promise<V> {\n    const cacheKey = (this.cacheKeyFn ? await this.cacheKeyFn(key) : key) as C\n    if (cacheKey === null) {\n      return fn({ resolve: (value) => Promise.resolve(value), key })\n    }\n\n    const pending = this.pending.get(cacheKey)\n    if (pending) return pending\n\n    const { promise, resolve, reject } = new DetachedPromise<V>()\n    this.pending.set(cacheKey, promise)\n\n    this.schedulerFn(async () => {\n      try {\n        const result = await fn({ resolve, key })\n\n        // Resolving a promise multiple times is a no-op, so we can safely\n        // resolve all pending promises with the same result.\n        resolve(result)\n      } catch (err) {\n        reject(err)\n      } finally {\n        this.pending.delete(cacheKey)\n      }\n    })\n\n    return promise\n  }\n}\n","import type { OutgoingHttpHeaders } from 'http'\nimport type RenderResult from '../render-result'\nimport type { CacheControl, Revalidate } from '../lib/cache-control'\nimport type { RouteKind } from '../route-kind'\n\nexport interface ResponseCacheBase {\n  get(\n    key: string | null,\n    responseGenerator: ResponseGenerator,\n    context: {\n      isOnDemandRevalidate?: boolean\n      isPrefetch?: boolean\n      incrementalCache: IncrementalCache\n      /**\n       * This is a hint to the cache to help it determine what kind of route\n       * this is so it knows where to look up the cache entry from. If not\n       * provided it will test the filesystem to check.\n       */\n      routeKind: RouteKind\n\n      /**\n       * True if this is a fallback request.\n       */\n      isFallback?: boolean\n\n      /**\n       * True if the route is enabled for PPR.\n       */\n      isRoutePPREnabled?: boolean\n    }\n  ): Promise<ResponseCacheEntry | null>\n}\n\n// The server components HMR cache might store other data as well in the future,\n// at which point this should be refactored to a discriminated union type.\nexport interface ServerComponentsHmrCache {\n  get(key: string): CachedFetchData | undefined\n  set(key: string, data: CachedFetchData): void\n}\n\nexport type CachedFetchData = {\n  headers: Record<string, string>\n  body: string\n  url: string\n  status?: number\n}\n\nexport const enum CachedRouteKind {\n  APP_PAGE = 'APP_PAGE',\n  APP_ROUTE = 'APP_ROUTE',\n  PAGES = 'PAGES',\n  FETCH = 'FETCH',\n  REDIRECT = 'REDIRECT',\n  IMAGE = 'IMAGE',\n}\n\nexport interface CachedFetchValue {\n  kind: CachedRouteKind.FETCH\n  data: CachedFetchData\n  // tags are only present with file-system-cache\n  // fetch cache stores tags outside of cache entry\n  tags?: string[]\n  revalidate: number\n}\n\nexport interface CachedRedirectValue {\n  kind: CachedRouteKind.REDIRECT\n  props: Object\n}\n\nexport interface CachedAppPageValue {\n  kind: CachedRouteKind.APP_PAGE\n  // this needs to be a RenderResult so since renderResponse\n  // expects that type instead of a string\n  html: RenderResult\n  rscData: Buffer | undefined\n  status: number | undefined\n  postponed: string | undefined\n  headers: OutgoingHttpHeaders | undefined\n  segmentData: Map<string, Buffer> | undefined\n}\n\nexport interface CachedPageValue {\n  kind: CachedRouteKind.PAGES\n  // this needs to be a RenderResult so since renderResponse\n  // expects that type instead of a string\n  html: RenderResult\n  pageData: Object\n  status: number | undefined\n  headers: OutgoingHttpHeaders | undefined\n}\n\nexport interface CachedRouteValue {\n  kind: CachedRouteKind.APP_ROUTE\n  // this needs to be a RenderResult so since renderResponse\n  // expects that type instead of a string\n  body: Buffer\n  status: number\n  headers: OutgoingHttpHeaders\n}\n\nexport interface CachedImageValue {\n  kind: CachedRouteKind.IMAGE\n  etag: string\n  upstreamEtag: string\n  buffer: Buffer\n  extension: string\n  revalidate?: number\n  isMiss?: boolean\n  isStale?: boolean\n}\n\nexport interface IncrementalCachedAppPageValue {\n  kind: CachedRouteKind.APP_PAGE\n  // this needs to be a string since the cache expects to store\n  // the string value\n  html: string\n  rscData: Buffer | undefined\n  headers: OutgoingHttpHeaders | undefined\n  postponed: string | undefined\n  status: number | undefined\n  segmentData: Map<string, Buffer> | undefined\n}\n\nexport interface IncrementalCachedPageValue {\n  kind: CachedRouteKind.PAGES\n  // this needs to be a string since the cache expects to store\n  // the string value\n  html: string\n  pageData: Object\n  headers: OutgoingHttpHeaders | undefined\n  status: number | undefined\n}\n\nexport interface IncrementalResponseCacheEntry {\n  cacheControl?: CacheControl\n  /**\n   * timestamp in milliseconds to revalidate after\n   */\n  revalidateAfter?: Revalidate\n  /**\n   * `-1` here dictates a blocking revalidate should be used\n   */\n  isStale?: boolean | -1\n  isMiss?: boolean\n  value: Exclude<IncrementalCacheValue, CachedFetchValue> | null\n}\n\nexport interface IncrementalFetchCacheEntry {\n  /**\n   * `-1` here dictates a blocking revalidate should be used\n   */\n  isStale?: boolean | -1\n  value: CachedFetchValue\n}\n\nexport type IncrementalCacheEntry =\n  | IncrementalResponseCacheEntry\n  | IncrementalFetchCacheEntry\n\nexport type IncrementalCacheValue =\n  | CachedRedirectValue\n  | IncrementalCachedPageValue\n  | IncrementalCachedAppPageValue\n  | CachedImageValue\n  | CachedFetchValue\n  | CachedRouteValue\n\nexport type ResponseCacheValue =\n  | CachedRedirectValue\n  | CachedPageValue\n  | CachedAppPageValue\n  | CachedImageValue\n  | CachedRouteValue\n\nexport type ResponseCacheEntry = {\n  cacheControl?: CacheControl\n  value: ResponseCacheValue | null\n  isStale?: boolean | -1\n  isMiss?: boolean\n}\n\n/**\n * @param hasResolved whether the responseGenerator has resolved it's promise\n * @param previousCacheEntry the previous cache entry if it exists or the current\n */\nexport type ResponseGenerator = (state: {\n  hasResolved: boolean\n  previousCacheEntry?: IncrementalResponseCacheEntry | null\n  isRevalidating?: boolean\n  span?: any\n\n  /**\n   * When true, this indicates that the response generator is being called in a\n   * context where the response must be generated statically.\n   *\n   * CRITICAL: This should only currently be used when revalidating due to a\n   * dynamic RSC request.\n   */\n  forceStaticRender?: boolean\n}) => Promise<ResponseCacheEntry | null>\n\nexport const enum IncrementalCacheKind {\n  APP_PAGE = 'APP_PAGE',\n  APP_ROUTE = 'APP_ROUTE',\n  PAGES = 'PAGES',\n  FETCH = 'FETCH',\n  IMAGE = 'IMAGE',\n}\n\nexport interface GetIncrementalFetchCacheContext {\n  kind: IncrementalCacheKind.FETCH\n  revalidate?: Revalidate\n  fetchUrl?: string\n  fetchIdx?: number\n  tags?: string[]\n  softTags?: string[]\n}\n\nexport interface GetIncrementalResponseCacheContext {\n  kind: Exclude<IncrementalCacheKind, IncrementalCacheKind.FETCH>\n\n  /**\n   * True if the route is enabled for PPR.\n   */\n  isRoutePPREnabled?: boolean\n\n  /**\n   * True if this is a fallback request.\n   */\n  isFallback: boolean\n}\n\nexport interface SetIncrementalFetchCacheContext {\n  fetchCache: true\n  fetchUrl?: string\n  fetchIdx?: number\n  tags?: string[]\n  isImplicitBuildTimeCache?: boolean\n}\n\nexport interface SetIncrementalResponseCacheContext {\n  fetchCache?: false\n  cacheControl?: CacheControl\n\n  /**\n   * True if the route is enabled for PPR.\n   */\n  isRoutePPREnabled?: boolean\n\n  /**\n   * True if this is a fallback request.\n   */\n  isFallback?: boolean\n}\n\nexport interface IncrementalResponseCache {\n  get(\n    cacheKey: string,\n    ctx: GetIncrementalResponseCacheContext\n  ): Promise<IncrementalResponseCacheEntry | null>\n  set(\n    key: string,\n    data: Exclude<IncrementalCacheValue, CachedFetchValue> | null,\n    ctx: SetIncrementalResponseCacheContext\n  ): Promise<void>\n}\n\nexport interface IncrementalCache extends IncrementalResponseCache {\n  get(\n    cacheKey: string,\n    ctx: GetIncrementalFetchCacheContext\n  ): Promise<IncrementalFetchCacheEntry | null>\n  get(\n    cacheKey: string,\n    ctx: GetIncrementalResponseCacheContext\n  ): Promise<IncrementalResponseCacheEntry | null>\n  set(\n    key: string,\n    data: CachedFetchValue | null,\n    ctx: SetIncrementalFetchCacheContext\n  ): Promise<void>\n  set(\n    key: string,\n    data: Exclude<IncrementalCacheValue, CachedFetchValue> | null,\n    ctx: SetIncrementalResponseCacheContext\n  ): Promise<void>\n  revalidateTag(\n    tags: string | string[],\n    durations?: { expire?: number }\n  ): Promise<void>\n}\n","import type { OutgoingHttpHeaders, ServerResponse } from 'http'\nimport type { CacheControl } from './lib/cache-control'\nimport type { FetchMetrics } from './base-http'\n\nimport {\n  chainStreams,\n  streamFromBuffer,\n  streamFromString,\n  streamToString,\n} from './stream-utils/node-web-streams-helper'\nimport { isAbortError, pipeToNodeResponse } from './pipe-readable'\nimport type { RenderResumeDataCache } from './resume-data-cache/resume-data-cache'\nimport { InvariantError } from '../shared/lib/invariant-error'\nimport type {\n  HTML_CONTENT_TYPE_HEADER,\n  JSON_CONTENT_TYPE_HEADER,\n  TEXT_PLAIN_CONTENT_TYPE_HEADER,\n} from '../lib/constants'\nimport type { RSC_CONTENT_TYPE_HEADER } from '../client/components/app-router-headers'\n\ntype ContentTypeOption =\n  | typeof RSC_CONTENT_TYPE_HEADER // For App Page RSC responses\n  | typeof HTML_CONTENT_TYPE_HEADER // For App Page, Pages HTML responses\n  | typeof JSON_CONTENT_TYPE_HEADER // For API routes, Next.js data requests\n  | typeof TEXT_PLAIN_CONTENT_TYPE_HEADER // For simplified errors\n\nexport type AppPageRenderResultMetadata = {\n  flightData?: Buffer\n  cacheControl?: CacheControl\n  staticBailoutInfo?: {\n    stack?: string\n    description?: string\n  }\n\n  /**\n   * The postponed state if the render had postponed and needs to be resumed.\n   */\n  postponed?: string\n\n  /**\n   * The headers to set on the response that were added by the render.\n   */\n  headers?: OutgoingHttpHeaders\n  statusCode?: number\n  fetchTags?: string\n  fetchMetrics?: FetchMetrics\n\n  segmentData?: Map<string, Buffer>\n\n  /**\n   * In development, the resume data cache is warmed up before the render. This\n   * is attached to the metadata so that it can be used during the render. When\n   * prerendering, the filled resume data cache is also attached to the metadata\n   * so that it can be used when prerendering matching fallback shells.\n   */\n  renderResumeDataCache?: RenderResumeDataCache\n}\n\nexport type PagesRenderResultMetadata = {\n  pageData?: any\n  cacheControl?: CacheControl\n  assetQueryString?: string\n  isNotFound?: boolean\n  isRedirect?: boolean\n}\n\nexport type StaticRenderResultMetadata = {}\n\nexport type RenderResultMetadata = AppPageRenderResultMetadata &\n  PagesRenderResultMetadata &\n  StaticRenderResultMetadata\n\nexport type RenderResultResponse =\n  | ReadableStream<Uint8Array>[]\n  | ReadableStream<Uint8Array>\n  | string\n  | Buffer\n  | null\n\nexport type RenderResultOptions<\n  Metadata extends RenderResultMetadata = RenderResultMetadata,\n> = {\n  contentType: ContentTypeOption | null\n  waitUntil?: Promise<unknown>\n  metadata: Metadata\n}\n\nexport default class RenderResult<\n  Metadata extends RenderResultMetadata = RenderResultMetadata,\n> {\n  /**\n   * The detected content type for the response. This is used to set the\n   * `Content-Type` header.\n   */\n  public readonly contentType: ContentTypeOption | null\n\n  /**\n   * The metadata for the response. This is used to set the revalidation times\n   * and other metadata.\n   */\n  public readonly metadata: Readonly<Metadata>\n\n  /**\n   * The response itself. This can be a string, a stream, or null. If it's a\n   * string, then it's a static response. If it's a stream, then it's a\n   * dynamic response. If it's null, then the response was not found or was\n   * already sent.\n   */\n  private response: RenderResultResponse\n\n  /**\n   * A render result that represents an empty response. This is used to\n   * represent a response that was not found or was already sent.\n   */\n  public static readonly EMPTY = new RenderResult<StaticRenderResultMetadata>(\n    null,\n    { metadata: {}, contentType: null }\n  )\n\n  /**\n   * Creates a new RenderResult instance from a static response.\n   *\n   * @param value the static response value\n   * @param contentType the content type of the response\n   * @returns a new RenderResult instance\n   */\n  public static fromStatic(\n    value: string | Buffer,\n    contentType: ContentTypeOption\n  ) {\n    return new RenderResult<StaticRenderResultMetadata>(value, {\n      metadata: {},\n      contentType,\n    })\n  }\n\n  private readonly waitUntil?: Promise<unknown>\n\n  constructor(\n    response: RenderResultResponse,\n    { contentType, waitUntil, metadata }: RenderResultOptions<Metadata>\n  ) {\n    this.response = response\n    this.contentType = contentType\n    this.metadata = metadata\n    this.waitUntil = waitUntil\n  }\n\n  public assignMetadata(metadata: Metadata) {\n    Object.assign(this.metadata, metadata)\n  }\n\n  /**\n   * Returns true if the response is null. It can be null if the response was\n   * not found or was already sent.\n   */\n  public get isNull(): boolean {\n    return this.response === null\n  }\n\n  /**\n   * Returns false if the response is a string. It can be a string if the page\n   * was prerendered. If it's not, then it was generated dynamically.\n   */\n  public get isDynamic(): boolean {\n    return typeof this.response !== 'string'\n  }\n\n  /**\n   * Returns the response if it is a string. If the page was dynamic, this will\n   * return a promise if the `stream` option is true, or it will throw an error.\n   *\n   * @param stream Whether or not to return a promise if the response is dynamic\n   * @returns The response as a string\n   */\n  public toUnchunkedString(stream?: false): string\n  public toUnchunkedString(stream: true): Promise<string>\n  public toUnchunkedString(stream = false): Promise<string> | string {\n    if (this.response === null) {\n      // If the response is null, return an empty string. This behavior is\n      // intentional as we're now providing the `RenderResult.EMPTY` value.\n      return ''\n    }\n\n    if (typeof this.response !== 'string') {\n      if (!stream) {\n        throw new InvariantError(\n          'dynamic responses cannot be unchunked. This is a bug in Next.js'\n        )\n      }\n\n      return streamToString(this.readable)\n    }\n\n    return this.response\n  }\n\n  /**\n   * Returns a readable stream of the response.\n   */\n  private get readable(): ReadableStream<Uint8Array> {\n    if (this.response === null) {\n      // If the response is null, return an empty stream. This behavior is\n      // intentional as we're now providing the `RenderResult.EMPTY` value.\n      return new ReadableStream<Uint8Array>({\n        start(controller) {\n          controller.close()\n        },\n      })\n    }\n\n    if (typeof this.response === 'string') {\n      return streamFromString(this.response)\n    }\n\n    if (Buffer.isBuffer(this.response)) {\n      return streamFromBuffer(this.response)\n    }\n\n    // If the response is an array of streams, then chain them together.\n    if (Array.isArray(this.response)) {\n      return chainStreams(...this.response)\n    }\n\n    return this.response\n  }\n\n  /**\n   * Coerces the response to an array of streams. This will convert the response\n   * to an array of streams if it is not already one.\n   *\n   * @returns An array of streams\n   */\n  private coerce(): ReadableStream<Uint8Array>[] {\n    if (this.response === null) {\n      // If the response is null, return an empty stream. This behavior is\n      // intentional as we're now providing the `RenderResult.EMPTY` value.\n      return []\n    }\n\n    if (typeof this.response === 'string') {\n      return [streamFromString(this.response)]\n    } else if (Array.isArray(this.response)) {\n      return this.response\n    } else if (Buffer.isBuffer(this.response)) {\n      return [streamFromBuffer(this.response)]\n    } else {\n      return [this.response]\n    }\n  }\n\n  /**\n   * Unshifts a new stream to the response. This will convert the response to an\n   * array of streams if it is not already one and will add the new stream to\n   * the start of the array. When this response is piped, all of the streams\n   * will be piped one after the other.\n   *\n   * @param readable The new stream to unshift\n   */\n  public unshift(readable: ReadableStream<Uint8Array>): void {\n    // Coerce the response to an array of streams.\n    this.response = this.coerce()\n\n    // Add the new stream to the start of the array.\n    this.response.unshift(readable)\n  }\n\n  /**\n   * Chains a new stream to the response. This will convert the response to an\n   * array of streams if it is not already one and will add the new stream to\n   * the end. When this response is piped, all of the streams will be piped\n   * one after the other.\n   *\n   * @param readable The new stream to chain\n   */\n  public push(readable: ReadableStream<Uint8Array>): void {\n    // Coerce the response to an array of streams.\n    this.response = this.coerce()\n\n    // Add the new stream to the end of the array.\n    this.response.push(readable)\n  }\n\n  /**\n   * Pipes the response to a writable stream. This will close/cancel the\n   * writable stream if an error is encountered. If this doesn't throw, then\n   * the writable stream will be closed or aborted.\n   *\n   * @param writable Writable stream to pipe the response to\n   */\n  public async pipeTo(writable: WritableStream<Uint8Array>): Promise<void> {\n    try {\n      await this.readable.pipeTo(writable, {\n        // We want to close the writable stream ourselves so that we can wait\n        // for the waitUntil promise to resolve before closing it. If an error\n        // is encountered, we'll abort the writable stream if we swallowed the\n        // error.\n        preventClose: true,\n      })\n\n      // If there is a waitUntil promise, wait for it to resolve before\n      // closing the writable stream.\n      if (this.waitUntil) await this.waitUntil\n\n      // Close the writable stream.\n      await writable.close()\n    } catch (err) {\n      // If this is an abort error, we should abort the writable stream (as we\n      // took ownership of it when we started piping). We don't need to re-throw\n      // because we handled the error.\n      if (isAbortError(err)) {\n        // Abort the writable stream if an error is encountered.\n        await writable.abort(err)\n\n        return\n      }\n\n      // We're not aborting the writer here as when this method throws it's not\n      // clear as to how so the caller should assume it's their responsibility\n      // to clean up the writer.\n      throw err\n    }\n  }\n\n  /**\n   * Pipes the response to a node response. This will close/cancel the node\n   * response if an error is encountered.\n   *\n   * @param res\n   */\n  public async pipeToNodeResponse(res: ServerResponse) {\n    await pipeToNodeResponse(this.readable, res, this.waitUntil)\n  }\n}\n","import { CachedRouteKind, IncrementalCacheKind } from './types';\nimport RenderResult from '../render-result';\nimport { RouteKind } from '../route-kind';\nimport { HTML_CONTENT_TYPE_HEADER } from '../../lib/constants';\nexport async function fromResponseCacheEntry(cacheEntry) {\n    var _cacheEntry_value, _cacheEntry_value1;\n    return {\n        ...cacheEntry,\n        value: ((_cacheEntry_value = cacheEntry.value) == null ? void 0 : _cacheEntry_value.kind) === CachedRouteKind.PAGES ? {\n            kind: CachedRouteKind.PAGES,\n            html: await cacheEntry.value.html.toUnchunkedString(true),\n            pageData: cacheEntry.value.pageData,\n            headers: cacheEntry.value.headers,\n            status: cacheEntry.value.status\n        } : ((_cacheEntry_value1 = cacheEntry.value) == null ? void 0 : _cacheEntry_value1.kind) === CachedRouteKind.APP_PAGE ? {\n            kind: CachedRouteKind.APP_PAGE,\n            html: await cacheEntry.value.html.toUnchunkedString(true),\n            postponed: cacheEntry.value.postponed,\n            rscData: cacheEntry.value.rscData,\n            headers: cacheEntry.value.headers,\n            status: cacheEntry.value.status,\n            segmentData: cacheEntry.value.segmentData\n        } : cacheEntry.value\n    };\n}\nexport async function toResponseCacheEntry(response) {\n    var _response_value, _response_value1;\n    if (!response) return null;\n    return {\n        isMiss: response.isMiss,\n        isStale: response.isStale,\n        cacheControl: response.cacheControl,\n        value: ((_response_value = response.value) == null ? void 0 : _response_value.kind) === CachedRouteKind.PAGES ? {\n            kind: CachedRouteKind.PAGES,\n            html: RenderResult.fromStatic(response.value.html, HTML_CONTENT_TYPE_HEADER),\n            pageData: response.value.pageData,\n            headers: response.value.headers,\n            status: response.value.status\n        } : ((_response_value1 = response.value) == null ? void 0 : _response_value1.kind) === CachedRouteKind.APP_PAGE ? {\n            kind: CachedRouteKind.APP_PAGE,\n            html: RenderResult.fromStatic(response.value.html, HTML_CONTENT_TYPE_HEADER),\n            rscData: response.value.rscData,\n            headers: response.value.headers,\n            status: response.value.status,\n            postponed: response.value.postponed,\n            segmentData: response.value.segmentData\n        } : response.value\n    };\n}\nexport function routeKindToIncrementalCacheKind(routeKind) {\n    switch(routeKind){\n        case RouteKind.PAGES:\n            return IncrementalCacheKind.PAGES;\n        case RouteKind.APP_PAGE:\n            return IncrementalCacheKind.APP_PAGE;\n        case RouteKind.IMAGE:\n            return IncrementalCacheKind.IMAGE;\n        case RouteKind.APP_ROUTE:\n            return IncrementalCacheKind.APP_ROUTE;\n        case RouteKind.PAGES_API:\n            // Pages Router API routes are not cached in the incremental cache.\n            throw Object.defineProperty(new Error(`Unexpected route kind ${routeKind}`), \"__NEXT_ERROR_CODE\", {\n                value: \"E64\",\n                enumerable: false,\n                configurable: true\n            });\n        default:\n            return routeKind;\n    }\n}\n\n//# sourceMappingURL=utils.js.map","import { Batcher } from '../../lib/batcher';\nimport { LRUCache } from '../lib/lru-cache';\nimport { warnOnce } from '../../build/output/log';\nimport { scheduleOnNextTick } from '../../lib/scheduler';\nimport { fromResponseCacheEntry, routeKindToIncrementalCacheKind, toResponseCacheEntry } from './utils';\n/**\n * Parses an environment variable as a positive integer, returning the fallback\n * if the value is missing, not a number, or not positive.\n */ function parsePositiveInt(envValue, fallback) {\n    if (!envValue) return fallback;\n    const parsed = parseInt(envValue, 10);\n    return Number.isFinite(parsed) && parsed > 0 ? parsed : fallback;\n}\n/**\n * Default TTL (in milliseconds) for minimal mode response cache entries.\n * Used for cache hit validation as a fallback for providers that don't\n * send the x-invocation-id header yet.\n *\n * 10 seconds chosen because:\n * - Long enough to dedupe rapid successive requests (e.g., page + data)\n * - Short enough to not serve stale data across unrelated requests\n *\n * Can be configured via `NEXT_PRIVATE_RESPONSE_CACHE_TTL` environment variable.\n */ const DEFAULT_TTL_MS = parsePositiveInt(process.env.NEXT_PRIVATE_RESPONSE_CACHE_TTL, 10000);\n/**\n * Default maximum number of entries in the response cache.\n * Can be configured via `NEXT_PRIVATE_RESPONSE_CACHE_MAX_SIZE` environment variable.\n */ const DEFAULT_MAX_SIZE = parsePositiveInt(process.env.NEXT_PRIVATE_RESPONSE_CACHE_MAX_SIZE, 150);\n/**\n * Separator used in compound cache keys to join pathname and invocationID.\n * Using null byte (\\0) since it cannot appear in valid URL paths or UUIDs.\n */ const KEY_SEPARATOR = '\\0';\n/**\n * Sentinel value used for TTL-based cache entries (when invocationID is undefined).\n * Chosen to be a clearly reserved marker for internal cache keys.\n */ const TTL_SENTINEL = '__ttl_sentinel__';\n/**\n * Creates a compound cache key from pathname and invocationID.\n */ function createCacheKey(pathname, invocationID) {\n    return `${pathname}${KEY_SEPARATOR}${invocationID ?? TTL_SENTINEL}`;\n}\n/**\n * Extracts the invocationID from a compound cache key.\n * Returns undefined if the key used TTL_SENTINEL.\n */ function extractInvocationID(compoundKey) {\n    const separatorIndex = compoundKey.lastIndexOf(KEY_SEPARATOR);\n    if (separatorIndex === -1) return undefined;\n    const invocationID = compoundKey.slice(separatorIndex + 1);\n    return invocationID === TTL_SENTINEL ? undefined : invocationID;\n}\nexport * from './types';\nexport default class ResponseCache {\n    constructor(minimal_mode, maxSize = DEFAULT_MAX_SIZE, ttl = DEFAULT_TTL_MS){\n        this.getBatcher = Batcher.create({\n            // Ensure on-demand revalidate doesn't block normal requests, it should be\n            // safe to run an on-demand revalidate for the same key as a normal request.\n            cacheKeyFn: ({ key, isOnDemandRevalidate })=>`${key}-${isOnDemandRevalidate ? '1' : '0'}`,\n            // We wait to do any async work until after we've added our promise to\n            // `pendingResponses` to ensure that any any other calls will reuse the\n            // same promise until we've fully finished our work.\n            schedulerFn: scheduleOnNextTick\n        });\n        this.revalidateBatcher = Batcher.create({\n            // We wait to do any async work until after we've added our promise to\n            // `pendingResponses` to ensure that any any other calls will reuse the\n            // same promise until we've fully finished our work.\n            schedulerFn: scheduleOnNextTick\n        });\n        /**\n   * Set of invocation IDs that have had cache entries evicted.\n   * Used to detect when the cache size may be too small.\n   * Bounded to prevent memory growth.\n   */ this.evictedInvocationIDs = new Set();\n        this.minimal_mode = minimal_mode;\n        this.maxSize = maxSize;\n        this.ttl = ttl;\n        // Create the LRU cache with eviction tracking\n        this.cache = new LRUCache(maxSize, undefined, (compoundKey)=>{\n            const invocationID = extractInvocationID(compoundKey);\n            if (invocationID) {\n                // Bound to 100 entries to prevent unbounded memory growth.\n                // FIFO eviction is acceptable here because:\n                // 1. Invocations are short-lived (single request lifecycle), so older\n                //    invocations are unlikely to still be active after 100 newer ones\n                // 2. This warning mechanism is best-effort for developer guidance—\n                //    missing occasional eviction warnings doesn't affect correctness\n                // 3. If a long-running invocation is somehow evicted and then has\n                //    another cache entry evicted, it will simply be re-added\n                if (this.evictedInvocationIDs.size >= 100) {\n                    const first = this.evictedInvocationIDs.values().next().value;\n                    if (first) this.evictedInvocationIDs.delete(first);\n                }\n                this.evictedInvocationIDs.add(invocationID);\n            }\n        });\n    }\n    /**\n   * Gets the response cache entry for the given key.\n   *\n   * @param key - The key to get the response cache entry for.\n   * @param responseGenerator - The response generator to use to generate the response cache entry.\n   * @param context - The context for the get request.\n   * @returns The response cache entry.\n   */ async get(key, responseGenerator, context) {\n        // If there is no key for the cache, we can't possibly look this up in the\n        // cache so just return the result of the response generator.\n        if (!key) {\n            return responseGenerator({\n                hasResolved: false,\n                previousCacheEntry: null\n            });\n        }\n        // Check minimal mode cache before doing any other work.\n        if (this.minimal_mode) {\n            const cacheKey = createCacheKey(key, context.invocationID);\n            const cachedItem = this.cache.get(cacheKey);\n            if (cachedItem) {\n                // With invocationID: exact match found - always a hit\n                // With TTL mode: must check expiration\n                if (context.invocationID !== undefined) {\n                    return toResponseCacheEntry(cachedItem.entry);\n                }\n                // TTL mode: check expiration\n                const now = Date.now();\n                if (cachedItem.expiresAt > now) {\n                    return toResponseCacheEntry(cachedItem.entry);\n                }\n                // TTL expired - clean up\n                this.cache.remove(cacheKey);\n            }\n            // Warn if this invocation had entries evicted - indicates cache may be too small.\n            if (context.invocationID && this.evictedInvocationIDs.has(context.invocationID)) {\n                warnOnce(`Response cache entry was evicted for invocation ${context.invocationID}. ` + `Consider increasing NEXT_PRIVATE_RESPONSE_CACHE_MAX_SIZE (current: ${this.maxSize}).`);\n            }\n        }\n        const { incrementalCache, isOnDemandRevalidate = false, isFallback = false, isRoutePPREnabled = false, isPrefetch = false, waitUntil, routeKind, invocationID } = context;\n        const response = await this.getBatcher.batch({\n            key,\n            isOnDemandRevalidate\n        }, ({ resolve })=>{\n            const promise = this.handleGet(key, responseGenerator, {\n                incrementalCache,\n                isOnDemandRevalidate,\n                isFallback,\n                isRoutePPREnabled,\n                isPrefetch,\n                routeKind,\n                invocationID\n            }, resolve);\n            // We need to ensure background revalidates are passed to waitUntil.\n            if (waitUntil) waitUntil(promise);\n            return promise;\n        });\n        return toResponseCacheEntry(response);\n    }\n    /**\n   * Handles the get request for the response cache.\n   *\n   * @param key - The key to get the response cache entry for.\n   * @param responseGenerator - The response generator to use to generate the response cache entry.\n   * @param context - The context for the get request.\n   * @param resolve - The resolve function to use to resolve the response cache entry.\n   * @returns The response cache entry.\n   */ async handleGet(key, responseGenerator, context, resolve) {\n        let previousIncrementalCacheEntry = null;\n        let resolved = false;\n        try {\n            // Get the previous cache entry if not in minimal mode\n            previousIncrementalCacheEntry = !this.minimal_mode ? await context.incrementalCache.get(key, {\n                kind: routeKindToIncrementalCacheKind(context.routeKind),\n                isRoutePPREnabled: context.isRoutePPREnabled,\n                isFallback: context.isFallback\n            }) : null;\n            if (previousIncrementalCacheEntry && !context.isOnDemandRevalidate) {\n                resolve(previousIncrementalCacheEntry);\n                resolved = true;\n                if (!previousIncrementalCacheEntry.isStale || context.isPrefetch) {\n                    // The cached value is still valid, so we don't need to update it yet.\n                    return previousIncrementalCacheEntry;\n                }\n            }\n            // Revalidate the cache entry\n            const incrementalResponseCacheEntry = await this.revalidate(key, context.incrementalCache, context.isRoutePPREnabled, context.isFallback, responseGenerator, previousIncrementalCacheEntry, previousIncrementalCacheEntry !== null && !context.isOnDemandRevalidate, undefined, context.invocationID);\n            // Handle null response\n            if (!incrementalResponseCacheEntry) {\n                // Remove the cache item if it was set so we don't use it again.\n                if (this.minimal_mode) {\n                    const cacheKey = createCacheKey(key, context.invocationID);\n                    this.cache.remove(cacheKey);\n                }\n                return null;\n            }\n            // Resolve for on-demand revalidation or if not already resolved\n            if (context.isOnDemandRevalidate && !resolved) {\n                return incrementalResponseCacheEntry;\n            }\n            return incrementalResponseCacheEntry;\n        } catch (err) {\n            // If we've already resolved the cache entry, we can't reject as we\n            // already resolved the cache entry so log the error here.\n            if (resolved) {\n                console.error(err);\n                return null;\n            }\n            throw err;\n        }\n    }\n    /**\n   * Revalidates the cache entry for the given key.\n   *\n   * @param key - The key to revalidate the cache entry for.\n   * @param incrementalCache - The incremental cache to use to revalidate the cache entry.\n   * @param isRoutePPREnabled - Whether the route is PPR enabled.\n   * @param isFallback - Whether the route is a fallback.\n   * @param responseGenerator - The response generator to use to generate the response cache entry.\n   * @param previousIncrementalCacheEntry - The previous cache entry to use to revalidate the cache entry.\n   * @param hasResolved - Whether the response has been resolved.\n   * @param waitUntil - Optional function to register background work.\n   * @param invocationID - The invocation ID for cache key scoping.\n   * @returns The revalidated cache entry.\n   */ async revalidate(key, incrementalCache, isRoutePPREnabled, isFallback, responseGenerator, previousIncrementalCacheEntry, hasResolved, waitUntil, invocationID) {\n        return this.revalidateBatcher.batch(key, ()=>{\n            const promise = this.handleRevalidate(key, incrementalCache, isRoutePPREnabled, isFallback, responseGenerator, previousIncrementalCacheEntry, hasResolved, invocationID);\n            // We need to ensure background revalidates are passed to waitUntil.\n            if (waitUntil) waitUntil(promise);\n            return promise;\n        });\n    }\n    async handleRevalidate(key, incrementalCache, isRoutePPREnabled, isFallback, responseGenerator, previousIncrementalCacheEntry, hasResolved, invocationID) {\n        try {\n            // Generate the response cache entry using the response generator.\n            const responseCacheEntry = await responseGenerator({\n                hasResolved,\n                previousCacheEntry: previousIncrementalCacheEntry,\n                isRevalidating: true\n            });\n            if (!responseCacheEntry) {\n                return null;\n            }\n            // Convert the response cache entry to an incremental response cache entry.\n            const incrementalResponseCacheEntry = await fromResponseCacheEntry({\n                ...responseCacheEntry,\n                isMiss: !previousIncrementalCacheEntry\n            });\n            // We want to persist the result only if it has a cache control value\n            // defined.\n            if (incrementalResponseCacheEntry.cacheControl) {\n                if (this.minimal_mode) {\n                    // Set TTL expiration for cache hit validation. Entries are validated\n                    // by invocationID when available, with TTL as a fallback for providers\n                    // that don't send x-invocation-id. Memory is managed by LRU eviction.\n                    const cacheKey = createCacheKey(key, invocationID);\n                    this.cache.set(cacheKey, {\n                        entry: incrementalResponseCacheEntry,\n                        expiresAt: Date.now() + this.ttl\n                    });\n                } else {\n                    await incrementalCache.set(key, incrementalResponseCacheEntry.value, {\n                        cacheControl: incrementalResponseCacheEntry.cacheControl,\n                        isRoutePPREnabled,\n                        isFallback\n                    });\n                }\n            }\n            return incrementalResponseCacheEntry;\n        } catch (err) {\n            // When a path is erroring we automatically re-set the existing cache\n            // with new revalidate and expire times to prevent non-stop retrying.\n            if (previousIncrementalCacheEntry == null ? void 0 : previousIncrementalCacheEntry.cacheControl) {\n                const revalidate = Math.min(Math.max(previousIncrementalCacheEntry.cacheControl.revalidate || 3, 3), 30);\n                const expire = previousIncrementalCacheEntry.cacheControl.expire === undefined ? undefined : Math.max(revalidate + 3, previousIncrementalCacheEntry.cacheControl.expire);\n                await incrementalCache.set(key, previousIncrementalCacheEntry.value, {\n                    cacheControl: {\n                        revalidate: revalidate,\n                        expire: expire\n                    },\n                    isRoutePPREnabled,\n                    isFallback\n                });\n            }\n            // We haven't resolved yet, so let's throw to indicate an error.\n            throw err;\n        }\n    }\n}\n\n//# sourceMappingURL=index.js.map"],"names":["RouteKind","InvariantError","Error","constructor","message","options","endsWith","name","globalThis","env","stdout","process","enabled","NO_COLOR","FORCE_COLOR","isTTY","CI","TERM","replaceClose","str","close","replace","index","start","substring","end","length","nextIndex","indexOf","formatter","open","String","input","string","reset","s","bold","dim","italic","underline","inverse","hidden","strikethrough","black","red","green","yellow","blue","magenta","purple","cyan","white","gray","bgBlack","bgRed","bgGreen","bgYellow","bgBlue","bgMagenta","bgCyan","bgWhite","LRUNode","key","data","size","prev","next","SentinelNode","LRUCache","maxSize","calculateSize","onEvict","cache","Map","totalSize","head","tail","addToHead","node","removeNode","moveToHead","removeTail","lastNode","set","value","console","warn","existing","get","newNode","delete","has","undefined","Symbol","iterator","current","remove","currentSize","prefixes","wait","error","ready","info","event","trace","LOGGING_METHOD","log","prefixedLog","prefixType","shift","consoleMethod","prefix","bootstrap","warnOnceCache","warnOnce","join","errorOnceCache","errorOnce","getSegmentValue","segment","Array","isArray","isGroupSegment","isParallelRouteSegment","startsWith","addSearchParamsIfPageSegment","searchParams","isPageSegment","includes","PAGE_SEGMENT_KEY","stringifiedQuery","JSON","stringify","computeSelectedLayoutSegment","segments","parallelRouteKey","rawSegment","DEFAULT_SEGMENT_KEY","getSelectedLayoutSegmentPath","tree","first","segmentPath","parallelRoutes","children","Object","values","segmentValue","push","NOT_FOUND_SEGMENT_KEY","e","t","r","defineProperty","ContextAPI","n","a","o","i","c","NoopContextManager","getInstance","_instance","setGlobalContextManager","registerGlobal","DiagAPI","instance","active","_getContextManager","with","bind","getGlobal","disable","unregisterGlobal","_logProxy","setLogger","logLevel","DiagLogLevel","INFO","stack","u","l","createLogLevelDiagLogger","suppressOverrideMessage","createComponentLogger","DiagComponentLogger","verbose","debug","MetricsAPI","setGlobalMeterProvider","getMeterProvider","NOOP_METER_PROVIDER","getMeter","PropagationAPI","NoopTextMapPropagator","createBaggage","getBaggage","getActiveBaggage","setBaggage","deleteBaggage","setGlobalPropagator","inject","defaultTextMapSetter","_getGlobalPropagator","extract","defaultTextMapGetter","fields","TraceAPI","_proxyTracerProvider","ProxyTracerProvider","wrapSpanContext","isSpanContextValid","deleteSpan","getSpan","getActiveSpan","getSpanContext","setSpan","setSpanContext","setGlobalTracerProvider","setDelegate","getTracerProvider","getTracer","createContextKey","getValue","setValue","deleteValue","BaggageImpl","_entries","getEntry","assign","getAllEntries","from","entries","map","setEntry","removeEntry","removeEntries","clear","baggageEntryMetadataSymbol","baggageEntryMetadataFromString","__TYPE__","toString","context","ROOT_CONTEXT","call","enable","for","BaseContext","_currentContext","diag","_namespace","namespace","logProxy","unshift","DiagConsoleLogger","_consoleFunc","apply","NONE","ALL","_filterFunc","ERROR","WARN","DEBUG","VERBOSE","VERSION","split","_globalThis","version","isCompatible","_makeCompatibilityCheck","Set","match","major","minor","patch","prerelease","isExactmatch","_reject","add","_accept","metrics","ValueType","createNoopMeter","NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC","NOOP_OBSERVABLE_GAUGE_METRIC","NOOP_OBSERVABLE_COUNTER_METRIC","NOOP_UP_DOWN_COUNTER_METRIC","NOOP_HISTOGRAM_METRIC","NOOP_COUNTER_METRIC","NOOP_METER","NoopObservableUpDownCounterMetric","NoopObservableGaugeMetric","NoopObservableCounterMetric","NoopObservableMetric","NoopHistogramMetric","NoopUpDownCounterMetric","NoopCounterMetric","NoopMetric","NoopMeter","createHistogram","createCounter","createUpDownCounter","createObservableGauge","createObservableCounter","createObservableUpDownCounter","addBatchObservableCallback","removeBatchObservableCallback","record","addCallback","removeCallback","NoopMeterProvider","__createBinding","create","enumerable","__exportStar","prototype","hasOwnProperty","propagation","keys","NonRecordingSpan","INVALID_SPAN_CONTEXT","_spanContext","spanContext","setAttribute","setAttributes","addEvent","setStatus","updateName","isRecording","recordException","NoopTracer","startSpan","Boolean","root","isSpanContext","startActiveSpan","arguments","g","NoopTracerProvider","ProxyTracer","_provider","_getTracer","Reflect","_delegate","getDelegateTracer","getDelegate","SamplingDecision","TraceStateImpl","_internalState","_parse","_clone","unset","serialize","_keys","reduce","reverse","trim","slice","validateKey","validateValue","RegExp","test","createTraceState","INVALID_TRACEID","INVALID_SPANID","traceId","spanId","traceFlags","TraceFlags","SpanKind","isValidSpanId","isValidTraceId","SpanStatusCode","__nccwpck_require__","exports","ab","p","d","_","f","b","v","O","P","N","S","C","module","BaseServerSpan","LoadComponentsSpan","NextServerSpan","NextNodeServerSpan","StartServerSpan","RenderSpan","AppRenderSpan","RouterSpan","NodeSpan","AppRouteRouteHandlersSpan","ResolveMetadataSpan","MiddlewareSpan","NextVanillaSpanAllowlist","LogSpanAllowList","DetachedPromise","scheduleImmediate","atLeastOneTask","waitAtLeastOneReactRenderTask","ENCODED_TAGS","indexOfUint8Array","isEquivalentUint8Arrays","removeFromUint8Array","MISSING_ROOT_TAGS_ERROR","RSC_HEADER","NEXT_ROUTER_PREFETCH_HEADER","NEXT_ROUTER_SEGMENT_PREFETCH_HEADER","NEXT_RSC_UNION_QUERY","computeCacheBustingSearchParam","voidCatch","encoder","TextEncoder","chainStreams","streams","ReadableStream","controller","readable","writable","TransformStream","promise","pipeTo","preventClose","nextStream","then","lastStream","catch","streamFromString","enqueue","encode","streamFromBuffer","chunk","streamToChunks","stream","reader","getReader","chunks","done","read","concatUint8Arrays","totalLength","sum","result","Uint8Array","offset","streamToUint8Array","streamToBuffer","Buffer","concat","streamToString","signal","decoder","TextDecoder","fatal","aborted","decode","createBufferedTransformStream","maxBufferByteLength","Infinity","bufferedChunks","bufferByteLength","pending","flush","copiedBytes","bufferedChunk","byteLength","scheduleFlush","detached","resolve","transform","renderToInitialFizzStream","ReactDOMServer","element","streamOptions","renderToReadableStream","createMetadataTransformStream","insert","chunkIndex","isMarkRemoved","iconMarkIndex","closedHeadIndex","iconMarkLength","META","ICON_MARK","CLOSED","HEAD","replaced","subarray","insertion","encodedInsertion","insertionLength","createHeadInsertionTransformStream","inserted","hasBytes","insertedHeadContent","createClientResumeScriptInsertionTransformStream","cacheBustingHeader","searchStr","NEXT_CLIENT_RESUME_SCRIPT","didAlreadyInsert","headClosingTagIndex","createDeferredSuffixStream","suffix","flushed","createFlightDataInjectionTransformStream","delayDataUntilFirstHtmlChunk","htmlStreamFinished","pull","donePulling","startOrContinuePulling","startPulling","err","CLOSE_TAG","createMoveSuffixStream","foundSuffix","BODY_AND_HTML","before","after","createStripDocumentClosingTagsTransform","BODY","HTML","createHtmlDataDplIdTransformStream","dplId","didTransform","htmlTagIndex","OPENING","insertionPoint","attribute","encodedAttribute","modifiedChunk","createRootLayoutValidatorStream","foundHtml","foundBody","missingTags","chainTransformers","transformers","transformer","pipeThrough","continueFizzStream","renderStream","inlinedDataStream","isStaticGeneration","deploymentId","getServerInsertedHTML","getServerInsertedMetadata","validateRootLayout","suffixUnclosed","allReady","continueDynamicPrerender","prerenderStream","continueStaticPrerender","continueStaticFallbackPrerender","continueDynamicHTMLResume","createDocumentClosingStream","scheduleOnNextTick","cb","Promise","NEXT_RUNTIME","setTimeout","nextTick","setImmediate","NEXT_REQUEST_META","getRequestMeta","req","meta","setRequestMeta","addRequestMeta","request","removeRequestMeta","Headers","fromNodeOutgoingHttpHeaders","nodeHeaders","headers","append","splitCookiesString","cookiesString","cookiesStrings","pos","ch","lastComma","nextStart","cookiesSeparatorFound","skipWhitespace","charAt","notSpecialChar","toNodeOutgoingHttpHeaders","cookies","toLowerCase","validateURL","url","URL","cause","configurable","normalizeNextQueryParam","parsePath","path","hashIndex","queryIndex","hasQuery","pathname","query","hash","addPathPrefix","pathHasPrefix","__defProp","__getOwnPropDesc","getOwnPropertyDescriptor","__getOwnPropNames","getOwnPropertyNames","__hasOwnProp","__export","target","all","__copyProps","to","except","desc","__toCommonJS","mod","src_exports","RequestCookies","ResponseCookies","parseCookie","parseSetCookie","stringifyCookie","_a","attrs","expires","Date","toUTCString","maxAge","domain","secure","httpOnly","sameSite","partitioned","priority","filter","stringified","encodeURIComponent","cookie","pair","splitAt","decodeURIComponent","setCookie","attributes","httponly","maxage","samesite","fromEntries","value2","Number","parseSameSite","parsePriority","compact","newT","SAME_SITE","PRIORITY","requestHeaders","_parsed","_headers","header","parsed","args","getAll","names","responseHeaders","_b","_c","getSetCookie","cookieStrings","cookieString","normalizeCookie","bag","serialized","now","addLocale","locale","defaultLocale","ignorePrefix","lower","reject","res","rej","clientComponentLoadStart","clientComponentLoadTimes","clientComponentLoadCount","wrapClientComponentLoader","ComponentMod","__next_app__","require","startTime","performance","loadChunk","finally","getClientComponentLoaderMetrics","RedirectStatusCode","TEXT_PLAIN_CONTENT_TYPE_HEADER","HTML_CONTENT_TYPE_HEADER","JSON_CONTENT_TYPE_HEADER","NEXT_QUERY_PARAM_PREFIX","NEXT_INTERCEPTION_MARKER_PREFIX","MATCHED_PATH_HEADER","PRERENDER_REVALIDATE_HEADER","PRERENDER_REVALIDATE_ONLY_GENERATED_HEADER","RSC_SEGMENTS_DIR_SUFFIX","RSC_SEGMENT_SUFFIX","RSC_SUFFIX","ACTION_SUFFIX","NEXT_DATA_SUFFIX","NEXT_META_SUFFIX","NEXT_BODY_SUFFIX","NEXT_NAV_DEPLOYMENT_ID_HEADER","NEXT_CACHE_TAGS_HEADER","NEXT_CACHE_REVALIDATED_TAGS_HEADER","NEXT_CACHE_REVALIDATE_TAG_TOKEN_HEADER","NEXT_RESUME_HEADER","NEXT_RESUME_STATE_LENGTH_HEADER","NEXT_CACHE_TAG_MAX_ITEMS","NEXT_CACHE_TAG_MAX_LENGTH","NEXT_CACHE_SOFT_TAG_MAX_LENGTH","NEXT_CACHE_IMPLICIT_TAG_ID","CACHE_ONE_YEAR_SECONDS","INFINITE_CACHE","MIDDLEWARE_FILENAME","MIDDLEWARE_LOCATION_REGEXP","PROXY_FILENAME","PROXY_LOCATION_REGEXP","INSTRUMENTATION_HOOK_FILENAME","PAGES_DIR_ALIAS","DOT_NEXT_ALIAS","ROOT_DIR_ALIAS","APP_DIR_ALIAS","RSC_MOD_REF_PROXY_ALIAS","RSC_ACTION_VALIDATE_ALIAS","RSC_ACTION_PROXY_ALIAS","RSC_CACHE_WRAPPER_ALIAS","RSC_DYNAMIC_IMPORT_WRAPPER_ALIAS","RSC_ACTION_ENCRYPTION_ALIAS","RSC_ACTION_CLIENT_WRAPPER_ALIAS","PUBLIC_DIR_MIDDLEWARE_CONFLICT","SSG_GET_INITIAL_PROPS_CONFLICT","SERVER_PROPS_GET_INIT_PROPS_CONFLICT","SERVER_PROPS_SSG_CONFLICT","STATIC_STATUS_PAGE_GET_INITIAL_PROPS_ERROR","SERVER_PROPS_EXPORT_ERROR","GSP_NO_RETURNED_VALUE","GSSP_NO_RETURNED_VALUE","UNSTABLE_REVALIDATE_RENAME_ERROR","GSSP_COMPONENT_MEMBER_ERROR","NON_STANDARD_NODE_ENV","SSG_FALLBACK_EXPORT_ERROR","ESLINT_DEFAULT_DIRS","SERVER_RUNTIME","edge","experimentalEdge","nodejs","WEB_SOCKET_MAX_RECONNECTIONS","WEBPACK_LAYERS_NAMES","shared","reactServerComponents","serverSideRendering","actionBrowser","apiNode","apiEdge","middleware","instrument","edgeAsset","appPagesBrowser","pagesDirBrowser","pagesDirEdge","pagesDirNode","WEBPACK_LAYERS","GROUP","builtinReact","serverOnly","neutralTarget","clientOnly","bundled","appPages","WEBPACK_RESOURCE_QUERIES","edgeSSREntry","metadata","metadataRoute","metadataImageMeta","Batcher","cacheKeyFn","schedulerFn","fn","batch","cacheKey","CachedRouteKind","IncrementalCacheKind","isAbortError","pipeToNodeResponse","RenderResult","EMPTY","contentType","fromStatic","response","waitUntil","assignMetadata","isNull","isDynamic","toUnchunkedString","isBuffer","coerce","abort","fromResponseCacheEntry","cacheEntry","_cacheEntry_value","_cacheEntry_value1","kind","PAGES","html","pageData","status","APP_PAGE","postponed","rscData","segmentData","toResponseCacheEntry","_response_value","_response_value1","isMiss","isStale","cacheControl","routeKindToIncrementalCacheKind","routeKind","IMAGE","APP_ROUTE","PAGES_API"],"mappings":"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","ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42]}